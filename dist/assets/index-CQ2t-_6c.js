function IS(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function am(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Wx={exports:{}},Ju={},Gx={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fl=Symbol.for("react.element"),SS=Symbol.for("react.portal"),TS=Symbol.for("react.fragment"),CS=Symbol.for("react.strict_mode"),NS=Symbol.for("react.profiler"),kS=Symbol.for("react.provider"),AS=Symbol.for("react.context"),RS=Symbol.for("react.forward_ref"),PS=Symbol.for("react.suspense"),DS=Symbol.for("react.memo"),jS=Symbol.for("react.lazy"),ay=Symbol.iterator;function OS(t){return t===null||typeof t!="object"?null:(t=ay&&t[ay]||t["@@iterator"],typeof t=="function"?t:null)}var qx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Kx=Object.assign,Qx={};function _o(t,e,n){this.props=t,this.context=e,this.refs=Qx,this.updater=n||qx}_o.prototype.isReactComponent={};_o.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};_o.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Yx(){}Yx.prototype=_o.prototype;function lm(t,e,n){this.props=t,this.context=e,this.refs=Qx,this.updater=n||qx}var cm=lm.prototype=new Yx;cm.constructor=lm;Kx(cm,_o.prototype);cm.isPureReactComponent=!0;var ly=Array.isArray,Xx=Object.prototype.hasOwnProperty,um={current:null},Jx={key:!0,ref:!0,__self:!0,__source:!0};function Zx(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Xx.call(e,r)&&!Jx.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:fl,type:t,key:i,ref:o,props:s,_owner:um.current}}function LS(t,e){return{$$typeof:fl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function dm(t){return typeof t=="object"&&t!==null&&t.$$typeof===fl}function MS(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var cy=/\/+/g;function Ih(t,e){return typeof t=="object"&&t!==null&&t.key!=null?MS(""+t.key):e.toString(36)}function Ac(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case fl:case SS:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Ih(o,0):r,ly(s)?(n="",t!=null&&(n=t.replace(cy,"$&/")+"/"),Ac(s,e,n,"",function(u){return u})):s!=null&&(dm(s)&&(s=LS(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(cy,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",ly(t))for(var a=0;a<t.length;a++){i=t[a];var c=r+Ih(i,a);o+=Ac(i,e,n,c,s)}else if(c=OS(t),typeof c=="function")for(t=c.call(t),a=0;!(i=t.next()).done;)i=i.value,c=r+Ih(i,a++),o+=Ac(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function nc(t,e,n){if(t==null)return t;var r=[],s=0;return Ac(t,r,"","",function(i){return e.call(n,i,s++)}),r}function VS(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var un={current:null},Rc={transition:null},FS={ReactCurrentDispatcher:un,ReactCurrentBatchConfig:Rc,ReactCurrentOwner:um};function ew(){throw Error("act(...) is not supported in production builds of React.")}Ce.Children={map:nc,forEach:function(t,e,n){nc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return nc(t,function(){e++}),e},toArray:function(t){return nc(t,function(e){return e})||[]},only:function(t){if(!dm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ce.Component=_o;Ce.Fragment=TS;Ce.Profiler=NS;Ce.PureComponent=lm;Ce.StrictMode=CS;Ce.Suspense=PS;Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FS;Ce.act=ew;Ce.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Kx({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=um.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)Xx.call(e,c)&&!Jx.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:fl,type:t.type,key:s,ref:i,props:r,_owner:o}};Ce.createContext=function(t){return t={$$typeof:AS,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:kS,_context:t},t.Consumer=t};Ce.createElement=Zx;Ce.createFactory=function(t){var e=Zx.bind(null,t);return e.type=t,e};Ce.createRef=function(){return{current:null}};Ce.forwardRef=function(t){return{$$typeof:RS,render:t}};Ce.isValidElement=dm;Ce.lazy=function(t){return{$$typeof:jS,_payload:{_status:-1,_result:t},_init:VS}};Ce.memo=function(t,e){return{$$typeof:DS,type:t,compare:e===void 0?null:e}};Ce.startTransition=function(t){var e=Rc.transition;Rc.transition={};try{t()}finally{Rc.transition=e}};Ce.unstable_act=ew;Ce.useCallback=function(t,e){return un.current.useCallback(t,e)};Ce.useContext=function(t){return un.current.useContext(t)};Ce.useDebugValue=function(){};Ce.useDeferredValue=function(t){return un.current.useDeferredValue(t)};Ce.useEffect=function(t,e){return un.current.useEffect(t,e)};Ce.useId=function(){return un.current.useId()};Ce.useImperativeHandle=function(t,e,n){return un.current.useImperativeHandle(t,e,n)};Ce.useInsertionEffect=function(t,e){return un.current.useInsertionEffect(t,e)};Ce.useLayoutEffect=function(t,e){return un.current.useLayoutEffect(t,e)};Ce.useMemo=function(t,e){return un.current.useMemo(t,e)};Ce.useReducer=function(t,e,n){return un.current.useReducer(t,e,n)};Ce.useRef=function(t){return un.current.useRef(t)};Ce.useState=function(t){return un.current.useState(t)};Ce.useSyncExternalStore=function(t,e,n){return un.current.useSyncExternalStore(t,e,n)};Ce.useTransition=function(){return un.current.useTransition()};Ce.version="18.3.1";Gx.exports=Ce;var v=Gx.exports;const Te=am(v),BS=IS({__proto__:null,default:Te},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var US=v,zS=Symbol.for("react.element"),$S=Symbol.for("react.fragment"),HS=Object.prototype.hasOwnProperty,WS=US.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,GS={key:!0,ref:!0,__self:!0,__source:!0};function tw(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)HS.call(e,r)&&!GS.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:zS,type:t,key:i,ref:o,props:s,_owner:WS.current}}Ju.Fragment=$S;Ju.jsx=tw;Ju.jsxs=tw;Wx.exports=Ju;var d=Wx.exports,Nf={},nw={exports:{}},Rn={},rw={exports:{}},sw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(W,X){var ee=W.length;W.push(X);e:for(;0<ee;){var le=ee-1>>>1,he=W[le];if(0<s(he,X))W[le]=X,W[ee]=he,ee=le;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var X=W[0],ee=W.pop();if(ee!==X){W[0]=ee;e:for(var le=0,he=W.length,z=he>>>1;le<z;){var We=2*(le+1)-1,ct=W[We],Oe=We+1,Ie=W[Oe];if(0>s(ct,ee))Oe<he&&0>s(Ie,ct)?(W[le]=Ie,W[Oe]=ee,le=Oe):(W[le]=ct,W[We]=ee,le=We);else if(Oe<he&&0>s(Ie,ee))W[le]=Ie,W[Oe]=ee,le=Oe;else break e}}return X}function s(W,X){var ee=W.sortIndex-X.sortIndex;return ee!==0?ee:W.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],u=[],h=1,f=null,p=3,y=!1,b=!1,I=!1,N=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(W){for(var X=n(u);X!==null;){if(X.callback===null)r(u);else if(X.startTime<=W)r(u),X.sortIndex=X.expirationTime,e(c,X);else break;X=n(u)}}function P(W){if(I=!1,_(W),!b)if(n(c)!==null)b=!0,_e(O);else{var X=n(u);X!==null&&me(P,X.startTime-W)}}function O(W,X){b=!1,I&&(I=!1,E(x),x=-1),y=!0;var ee=p;try{for(_(X),f=n(c);f!==null&&(!(f.expirationTime>X)||W&&!R());){var le=f.callback;if(typeof le=="function"){f.callback=null,p=f.priorityLevel;var he=le(f.expirationTime<=X);X=t.unstable_now(),typeof he=="function"?f.callback=he:f===n(c)&&r(c),_(X)}else r(c);f=n(c)}if(f!==null)var z=!0;else{var We=n(u);We!==null&&me(P,We.startTime-X),z=!1}return z}finally{f=null,p=ee,y=!1}}var j=!1,T=null,x=-1,C=5,k=-1;function R(){return!(t.unstable_now()-k<C)}function D(){if(T!==null){var W=t.unstable_now();k=W;var X=!0;try{X=T(!0,W)}finally{X?A():(j=!1,T=null)}}else j=!1}var A;if(typeof w=="function")A=function(){w(D)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,se=pe.port2;pe.port1.onmessage=D,A=function(){se.postMessage(null)}}else A=function(){N(D,0)};function _e(W){T=W,j||(j=!0,A())}function me(W,X){x=N(function(){W(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){b||y||(b=!0,_e(O))},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(W){switch(p){case 1:case 2:case 3:var X=3;break;default:X=p}var ee=p;p=X;try{return W()}finally{p=ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,X){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ee=p;p=W;try{return X()}finally{p=ee}},t.unstable_scheduleCallback=function(W,X,ee){var le=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?le+ee:le):ee=le,W){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=ee+he,W={id:h++,callback:X,priorityLevel:W,startTime:ee,expirationTime:he,sortIndex:-1},ee>le?(W.sortIndex=ee,e(u,W),n(c)===null&&W===n(u)&&(I?(E(x),x=-1):I=!0,me(P,ee-le))):(W.sortIndex=he,e(c,W),b||y||(b=!0,_e(O))),W},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(W){var X=p;return function(){var ee=p;p=X;try{return W.apply(this,arguments)}finally{p=ee}}}})(sw);rw.exports=sw;var qS=rw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KS=v,An=qS;function q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var iw=new Set,Aa={};function fi(t,e){eo(t,e),eo(t+"Capture",e)}function eo(t,e){for(Aa[t]=e,t=0;t<e.length;t++)iw.add(e[t])}var Or=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kf=Object.prototype.hasOwnProperty,QS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,uy={},dy={};function YS(t){return kf.call(dy,t)?!0:kf.call(uy,t)?!1:QS.test(t)?dy[t]=!0:(uy[t]=!0,!1)}function XS(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function JS(t,e,n,r){if(e===null||typeof e>"u"||XS(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function dn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Ut={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ut[t]=new dn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ut[e]=new dn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ut[t]=new dn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ut[t]=new dn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ut[t]=new dn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ut[t]=new dn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ut[t]=new dn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ut[t]=new dn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ut[t]=new dn(t,5,!1,t.toLowerCase(),null,!1,!1)});var hm=/[\-:]([a-z])/g;function fm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(hm,fm);Ut[e]=new dn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(hm,fm);Ut[e]=new dn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(hm,fm);Ut[e]=new dn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ut[t]=new dn(t,1,!1,t.toLowerCase(),null,!1,!1)});Ut.xlinkHref=new dn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ut[t]=new dn(t,1,!1,t.toLowerCase(),null,!0,!0)});function pm(t,e,n,r){var s=Ut.hasOwnProperty(e)?Ut[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(JS(e,n,s,r)&&(n=null),r||s===null?YS(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var zr=KS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,rc=Symbol.for("react.element"),Pi=Symbol.for("react.portal"),Di=Symbol.for("react.fragment"),mm=Symbol.for("react.strict_mode"),Af=Symbol.for("react.profiler"),ow=Symbol.for("react.provider"),aw=Symbol.for("react.context"),gm=Symbol.for("react.forward_ref"),Rf=Symbol.for("react.suspense"),Pf=Symbol.for("react.suspense_list"),ym=Symbol.for("react.memo"),Qr=Symbol.for("react.lazy"),lw=Symbol.for("react.offscreen"),hy=Symbol.iterator;function Ko(t){return t===null||typeof t!="object"?null:(t=hy&&t[hy]||t["@@iterator"],typeof t=="function"?t:null)}var it=Object.assign,Sh;function oa(t){if(Sh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Sh=e&&e[1]||""}return`
`+Sh+t}var Th=!1;function Ch(t,e){if(!t||Th)return"";Th=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{Th=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?oa(t):""}function ZS(t){switch(t.tag){case 5:return oa(t.type);case 16:return oa("Lazy");case 13:return oa("Suspense");case 19:return oa("SuspenseList");case 0:case 2:case 15:return t=Ch(t.type,!1),t;case 11:return t=Ch(t.type.render,!1),t;case 1:return t=Ch(t.type,!0),t;default:return""}}function Df(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Di:return"Fragment";case Pi:return"Portal";case Af:return"Profiler";case mm:return"StrictMode";case Rf:return"Suspense";case Pf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case aw:return(t.displayName||"Context")+".Consumer";case ow:return(t._context.displayName||"Context")+".Provider";case gm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ym:return e=t.displayName||null,e!==null?e:Df(t.type)||"Memo";case Qr:e=t._payload,t=t._init;try{return Df(t(e))}catch{}}return null}function e4(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Df(e);case 8:return e===mm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Es(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function cw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function t4(t){var e=cw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function sc(t){t._valueTracker||(t._valueTracker=t4(t))}function uw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=cw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Zc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function jf(t,e){var n=e.checked;return it({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function fy(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Es(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function dw(t,e){e=e.checked,e!=null&&pm(t,"checked",e,!1)}function Of(t,e){dw(t,e);var n=Es(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Lf(t,e.type,n):e.hasOwnProperty("defaultValue")&&Lf(t,e.type,Es(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function py(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Lf(t,e,n){(e!=="number"||Zc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var aa=Array.isArray;function Hi(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Es(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Mf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(q(91));return it({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function my(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(q(92));if(aa(n)){if(1<n.length)throw Error(q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Es(n)}}function hw(t,e){var n=Es(e.value),r=Es(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function gy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function fw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?fw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ic,pw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ic=ic||document.createElement("div"),ic.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ic.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ra(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var pa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},n4=["Webkit","ms","Moz","O"];Object.keys(pa).forEach(function(t){n4.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),pa[e]=pa[t]})});function mw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||pa.hasOwnProperty(t)&&pa[t]?(""+e).trim():e+"px"}function gw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=mw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var r4=it({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ff(t,e){if(e){if(r4[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(q(62))}}function Bf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uf=null;function vm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var zf=null,Wi=null,Gi=null;function yy(t){if(t=gl(t)){if(typeof zf!="function")throw Error(q(280));var e=t.stateNode;e&&(e=rd(e),zf(t.stateNode,t.type,e))}}function yw(t){Wi?Gi?Gi.push(t):Gi=[t]:Wi=t}function vw(){if(Wi){var t=Wi,e=Gi;if(Gi=Wi=null,yy(t),e)for(t=0;t<e.length;t++)yy(e[t])}}function xw(t,e){return t(e)}function ww(){}var Nh=!1;function _w(t,e,n){if(Nh)return t(e,n);Nh=!0;try{return xw(t,e,n)}finally{Nh=!1,(Wi!==null||Gi!==null)&&(ww(),vw())}}function Pa(t,e){var n=t.stateNode;if(n===null)return null;var r=rd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(q(231,e,typeof n));return n}var $f=!1;if(Or)try{var Qo={};Object.defineProperty(Qo,"passive",{get:function(){$f=!0}}),window.addEventListener("test",Qo,Qo),window.removeEventListener("test",Qo,Qo)}catch{$f=!1}function s4(t,e,n,r,s,i,o,a,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var ma=!1,eu=null,tu=!1,Hf=null,i4={onError:function(t){ma=!0,eu=t}};function o4(t,e,n,r,s,i,o,a,c){ma=!1,eu=null,s4.apply(i4,arguments)}function a4(t,e,n,r,s,i,o,a,c){if(o4.apply(this,arguments),ma){if(ma){var u=eu;ma=!1,eu=null}else throw Error(q(198));tu||(tu=!0,Hf=u)}}function pi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Ew(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function vy(t){if(pi(t)!==t)throw Error(q(188))}function l4(t){var e=t.alternate;if(!e){if(e=pi(t),e===null)throw Error(q(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return vy(s),t;if(i===r)return vy(s),e;i=i.sibling}throw Error(q(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(q(189))}}if(n.alternate!==r)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?t:e}function bw(t){return t=l4(t),t!==null?Iw(t):null}function Iw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Iw(t);if(e!==null)return e;t=t.sibling}return null}var Sw=An.unstable_scheduleCallback,xy=An.unstable_cancelCallback,c4=An.unstable_shouldYield,u4=An.unstable_requestPaint,ut=An.unstable_now,d4=An.unstable_getCurrentPriorityLevel,xm=An.unstable_ImmediatePriority,Tw=An.unstable_UserBlockingPriority,nu=An.unstable_NormalPriority,h4=An.unstable_LowPriority,Cw=An.unstable_IdlePriority,Zu=null,ur=null;function f4(t){if(ur&&typeof ur.onCommitFiberRoot=="function")try{ur.onCommitFiberRoot(Zu,t,void 0,(t.current.flags&128)===128)}catch{}}var Zn=Math.clz32?Math.clz32:g4,p4=Math.log,m4=Math.LN2;function g4(t){return t>>>=0,t===0?32:31-(p4(t)/m4|0)|0}var oc=64,ac=4194304;function la(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ru(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=la(a):(i&=o,i!==0&&(r=la(i)))}else o=n&~s,o!==0?r=la(o):i!==0&&(r=la(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Zn(e),s=1<<n,r|=t[n],e&=~s;return r}function y4(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function v4(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Zn(i),a=1<<o,c=s[o];c===-1?(!(a&n)||a&r)&&(s[o]=y4(a,e)):c<=e&&(t.expiredLanes|=a),i&=~a}}function Wf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Nw(){var t=oc;return oc<<=1,!(oc&4194240)&&(oc=64),t}function kh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function pl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Zn(e),t[e]=n}function x4(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Zn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function wm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Zn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var ze=0;function kw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Aw,_m,Rw,Pw,Dw,Gf=!1,lc=[],os=null,as=null,ls=null,Da=new Map,ja=new Map,Xr=[],w4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wy(t,e){switch(t){case"focusin":case"focusout":os=null;break;case"dragenter":case"dragleave":as=null;break;case"mouseover":case"mouseout":ls=null;break;case"pointerover":case"pointerout":Da.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ja.delete(e.pointerId)}}function Yo(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=gl(e),e!==null&&_m(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function _4(t,e,n,r,s){switch(e){case"focusin":return os=Yo(os,t,e,n,r,s),!0;case"dragenter":return as=Yo(as,t,e,n,r,s),!0;case"mouseover":return ls=Yo(ls,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Da.set(i,Yo(Da.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,ja.set(i,Yo(ja.get(i)||null,t,e,n,r,s)),!0}return!1}function jw(t){var e=Gs(t.target);if(e!==null){var n=pi(e);if(n!==null){if(e=n.tag,e===13){if(e=Ew(n),e!==null){t.blockedOn=e,Dw(t.priority,function(){Rw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Pc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=qf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Uf=r,n.target.dispatchEvent(r),Uf=null}else return e=gl(n),e!==null&&_m(e),t.blockedOn=n,!1;e.shift()}return!0}function _y(t,e,n){Pc(t)&&n.delete(e)}function E4(){Gf=!1,os!==null&&Pc(os)&&(os=null),as!==null&&Pc(as)&&(as=null),ls!==null&&Pc(ls)&&(ls=null),Da.forEach(_y),ja.forEach(_y)}function Xo(t,e){t.blockedOn===e&&(t.blockedOn=null,Gf||(Gf=!0,An.unstable_scheduleCallback(An.unstable_NormalPriority,E4)))}function Oa(t){function e(s){return Xo(s,t)}if(0<lc.length){Xo(lc[0],t);for(var n=1;n<lc.length;n++){var r=lc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(os!==null&&Xo(os,t),as!==null&&Xo(as,t),ls!==null&&Xo(ls,t),Da.forEach(e),ja.forEach(e),n=0;n<Xr.length;n++)r=Xr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Xr.length&&(n=Xr[0],n.blockedOn===null);)jw(n),n.blockedOn===null&&Xr.shift()}var qi=zr.ReactCurrentBatchConfig,su=!0;function b4(t,e,n,r){var s=ze,i=qi.transition;qi.transition=null;try{ze=1,Em(t,e,n,r)}finally{ze=s,qi.transition=i}}function I4(t,e,n,r){var s=ze,i=qi.transition;qi.transition=null;try{ze=4,Em(t,e,n,r)}finally{ze=s,qi.transition=i}}function Em(t,e,n,r){if(su){var s=qf(t,e,n,r);if(s===null)Fh(t,e,r,iu,n),wy(t,r);else if(_4(s,t,e,n,r))r.stopPropagation();else if(wy(t,r),e&4&&-1<w4.indexOf(t)){for(;s!==null;){var i=gl(s);if(i!==null&&Aw(i),i=qf(t,e,n,r),i===null&&Fh(t,e,r,iu,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Fh(t,e,r,null,n)}}var iu=null;function qf(t,e,n,r){if(iu=null,t=vm(r),t=Gs(t),t!==null)if(e=pi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Ew(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return iu=t,null}function Ow(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(d4()){case xm:return 1;case Tw:return 4;case nu:case h4:return 16;case Cw:return 536870912;default:return 16}default:return 16}}var ns=null,bm=null,Dc=null;function Lw(){if(Dc)return Dc;var t,e=bm,n=e.length,r,s="value"in ns?ns.value:ns.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Dc=s.slice(t,1<r?1-r:void 0)}function jc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function cc(){return!0}function Ey(){return!1}function Pn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?cc:Ey,this.isPropagationStopped=Ey,this}return it(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=cc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=cc)},persist:function(){},isPersistent:cc}),e}var Eo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Im=Pn(Eo),ml=it({},Eo,{view:0,detail:0}),S4=Pn(ml),Ah,Rh,Jo,ed=it({},ml,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Jo&&(Jo&&t.type==="mousemove"?(Ah=t.screenX-Jo.screenX,Rh=t.screenY-Jo.screenY):Rh=Ah=0,Jo=t),Ah)},movementY:function(t){return"movementY"in t?t.movementY:Rh}}),by=Pn(ed),T4=it({},ed,{dataTransfer:0}),C4=Pn(T4),N4=it({},ml,{relatedTarget:0}),Ph=Pn(N4),k4=it({},Eo,{animationName:0,elapsedTime:0,pseudoElement:0}),A4=Pn(k4),R4=it({},Eo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),P4=Pn(R4),D4=it({},Eo,{data:0}),Iy=Pn(D4),j4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},O4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},L4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function M4(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=L4[t])?!!e[t]:!1}function Sm(){return M4}var V4=it({},ml,{key:function(t){if(t.key){var e=j4[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=jc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?O4[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sm,charCode:function(t){return t.type==="keypress"?jc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?jc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),F4=Pn(V4),B4=it({},ed,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sy=Pn(B4),U4=it({},ml,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sm}),z4=Pn(U4),$4=it({},Eo,{propertyName:0,elapsedTime:0,pseudoElement:0}),H4=Pn($4),W4=it({},ed,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),G4=Pn(W4),q4=[9,13,27,32],Tm=Or&&"CompositionEvent"in window,ga=null;Or&&"documentMode"in document&&(ga=document.documentMode);var K4=Or&&"TextEvent"in window&&!ga,Mw=Or&&(!Tm||ga&&8<ga&&11>=ga),Ty=" ",Cy=!1;function Vw(t,e){switch(t){case"keyup":return q4.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ji=!1;function Q4(t,e){switch(t){case"compositionend":return Fw(e);case"keypress":return e.which!==32?null:(Cy=!0,Ty);case"textInput":return t=e.data,t===Ty&&Cy?null:t;default:return null}}function Y4(t,e){if(ji)return t==="compositionend"||!Tm&&Vw(t,e)?(t=Lw(),Dc=bm=ns=null,ji=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Mw&&e.locale!=="ko"?null:e.data;default:return null}}var X4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ny(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!X4[t.type]:e==="textarea"}function Bw(t,e,n,r){yw(r),e=ou(e,"onChange"),0<e.length&&(n=new Im("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ya=null,La=null;function J4(t){Xw(t,0)}function td(t){var e=Mi(t);if(uw(e))return t}function Z4(t,e){if(t==="change")return e}var Uw=!1;if(Or){var Dh;if(Or){var jh="oninput"in document;if(!jh){var ky=document.createElement("div");ky.setAttribute("oninput","return;"),jh=typeof ky.oninput=="function"}Dh=jh}else Dh=!1;Uw=Dh&&(!document.documentMode||9<document.documentMode)}function Ay(){ya&&(ya.detachEvent("onpropertychange",zw),La=ya=null)}function zw(t){if(t.propertyName==="value"&&td(La)){var e=[];Bw(e,La,t,vm(t)),_w(J4,e)}}function eT(t,e,n){t==="focusin"?(Ay(),ya=e,La=n,ya.attachEvent("onpropertychange",zw)):t==="focusout"&&Ay()}function tT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return td(La)}function nT(t,e){if(t==="click")return td(e)}function rT(t,e){if(t==="input"||t==="change")return td(e)}function sT(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var nr=typeof Object.is=="function"?Object.is:sT;function Ma(t,e){if(nr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!kf.call(e,s)||!nr(t[s],e[s]))return!1}return!0}function Ry(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Py(t,e){var n=Ry(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ry(n)}}function $w(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?$w(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Hw(){for(var t=window,e=Zc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Zc(t.document)}return e}function Cm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function iT(t){var e=Hw(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&$w(n.ownerDocument.documentElement,n)){if(r!==null&&Cm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Py(n,i);var o=Py(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var oT=Or&&"documentMode"in document&&11>=document.documentMode,Oi=null,Kf=null,va=null,Qf=!1;function Dy(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Qf||Oi==null||Oi!==Zc(r)||(r=Oi,"selectionStart"in r&&Cm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),va&&Ma(va,r)||(va=r,r=ou(Kf,"onSelect"),0<r.length&&(e=new Im("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Oi)))}function uc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Li={animationend:uc("Animation","AnimationEnd"),animationiteration:uc("Animation","AnimationIteration"),animationstart:uc("Animation","AnimationStart"),transitionend:uc("Transition","TransitionEnd")},Oh={},Ww={};Or&&(Ww=document.createElement("div").style,"AnimationEvent"in window||(delete Li.animationend.animation,delete Li.animationiteration.animation,delete Li.animationstart.animation),"TransitionEvent"in window||delete Li.transitionend.transition);function nd(t){if(Oh[t])return Oh[t];if(!Li[t])return t;var e=Li[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Ww)return Oh[t]=e[n];return t}var Gw=nd("animationend"),qw=nd("animationiteration"),Kw=nd("animationstart"),Qw=nd("transitionend"),Yw=new Map,jy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ns(t,e){Yw.set(t,e),fi(e,[t])}for(var Lh=0;Lh<jy.length;Lh++){var Mh=jy[Lh],aT=Mh.toLowerCase(),lT=Mh[0].toUpperCase()+Mh.slice(1);Ns(aT,"on"+lT)}Ns(Gw,"onAnimationEnd");Ns(qw,"onAnimationIteration");Ns(Kw,"onAnimationStart");Ns("dblclick","onDoubleClick");Ns("focusin","onFocus");Ns("focusout","onBlur");Ns(Qw,"onTransitionEnd");eo("onMouseEnter",["mouseout","mouseover"]);eo("onMouseLeave",["mouseout","mouseover"]);eo("onPointerEnter",["pointerout","pointerover"]);eo("onPointerLeave",["pointerout","pointerover"]);fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fi("onBeforeInput",["compositionend","keypress","textInput","paste"]);fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ca="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cT=new Set("cancel close invalid load scroll toggle".split(" ").concat(ca));function Oy(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,a4(r,e,void 0,t),t.currentTarget=null}function Xw(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==i&&s.isPropagationStopped())break e;Oy(s,a,u),i=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,u=a.currentTarget,a=a.listener,c!==i&&s.isPropagationStopped())break e;Oy(s,a,u),i=c}}}if(tu)throw t=Hf,tu=!1,Hf=null,t}function Xe(t,e){var n=e[ep];n===void 0&&(n=e[ep]=new Set);var r=t+"__bubble";n.has(r)||(Jw(e,t,2,!1),n.add(r))}function Vh(t,e,n){var r=0;e&&(r|=4),Jw(n,t,r,e)}var dc="_reactListening"+Math.random().toString(36).slice(2);function Va(t){if(!t[dc]){t[dc]=!0,iw.forEach(function(n){n!=="selectionchange"&&(cT.has(n)||Vh(n,!1,t),Vh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[dc]||(e[dc]=!0,Vh("selectionchange",!1,e))}}function Jw(t,e,n,r){switch(Ow(e)){case 1:var s=b4;break;case 4:s=I4;break;default:s=Em}n=s.bind(null,e,n,t),s=void 0,!$f||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Fh(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Gs(a),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}a=a.parentNode}}r=r.return}_w(function(){var u=i,h=vm(n),f=[];e:{var p=Yw.get(t);if(p!==void 0){var y=Im,b=t;switch(t){case"keypress":if(jc(n)===0)break e;case"keydown":case"keyup":y=F4;break;case"focusin":b="focus",y=Ph;break;case"focusout":b="blur",y=Ph;break;case"beforeblur":case"afterblur":y=Ph;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=by;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=C4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=z4;break;case Gw:case qw:case Kw:y=A4;break;case Qw:y=H4;break;case"scroll":y=S4;break;case"wheel":y=G4;break;case"copy":case"cut":case"paste":y=P4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Sy}var I=(e&4)!==0,N=!I&&t==="scroll",E=I?p!==null?p+"Capture":null:p;I=[];for(var w=u,_;w!==null;){_=w;var P=_.stateNode;if(_.tag===5&&P!==null&&(_=P,E!==null&&(P=Pa(w,E),P!=null&&I.push(Fa(w,P,_)))),N)break;w=w.return}0<I.length&&(p=new y(p,b,null,n,h),f.push({event:p,listeners:I}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",p&&n!==Uf&&(b=n.relatedTarget||n.fromElement)&&(Gs(b)||b[Lr]))break e;if((y||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,y?(b=n.relatedTarget||n.toElement,y=u,b=b?Gs(b):null,b!==null&&(N=pi(b),b!==N||b.tag!==5&&b.tag!==6)&&(b=null)):(y=null,b=u),y!==b)){if(I=by,P="onMouseLeave",E="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(I=Sy,P="onPointerLeave",E="onPointerEnter",w="pointer"),N=y==null?p:Mi(y),_=b==null?p:Mi(b),p=new I(P,w+"leave",y,n,h),p.target=N,p.relatedTarget=_,P=null,Gs(h)===u&&(I=new I(E,w+"enter",b,n,h),I.target=_,I.relatedTarget=N,P=I),N=P,y&&b)t:{for(I=y,E=b,w=0,_=I;_;_=Ci(_))w++;for(_=0,P=E;P;P=Ci(P))_++;for(;0<w-_;)I=Ci(I),w--;for(;0<_-w;)E=Ci(E),_--;for(;w--;){if(I===E||E!==null&&I===E.alternate)break t;I=Ci(I),E=Ci(E)}I=null}else I=null;y!==null&&Ly(f,p,y,I,!1),b!==null&&N!==null&&Ly(f,N,b,I,!0)}}e:{if(p=u?Mi(u):window,y=p.nodeName&&p.nodeName.toLowerCase(),y==="select"||y==="input"&&p.type==="file")var O=Z4;else if(Ny(p))if(Uw)O=rT;else{O=tT;var j=eT}else(y=p.nodeName)&&y.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(O=nT);if(O&&(O=O(t,u))){Bw(f,O,n,h);break e}j&&j(t,p,u),t==="focusout"&&(j=p._wrapperState)&&j.controlled&&p.type==="number"&&Lf(p,"number",p.value)}switch(j=u?Mi(u):window,t){case"focusin":(Ny(j)||j.contentEditable==="true")&&(Oi=j,Kf=u,va=null);break;case"focusout":va=Kf=Oi=null;break;case"mousedown":Qf=!0;break;case"contextmenu":case"mouseup":case"dragend":Qf=!1,Dy(f,n,h);break;case"selectionchange":if(oT)break;case"keydown":case"keyup":Dy(f,n,h)}var T;if(Tm)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else ji?Vw(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(Mw&&n.locale!=="ko"&&(ji||x!=="onCompositionStart"?x==="onCompositionEnd"&&ji&&(T=Lw()):(ns=h,bm="value"in ns?ns.value:ns.textContent,ji=!0)),j=ou(u,x),0<j.length&&(x=new Iy(x,t,null,n,h),f.push({event:x,listeners:j}),T?x.data=T:(T=Fw(n),T!==null&&(x.data=T)))),(T=K4?Q4(t,n):Y4(t,n))&&(u=ou(u,"onBeforeInput"),0<u.length&&(h=new Iy("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:u}),h.data=T))}Xw(f,e)})}function Fa(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ou(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Pa(t,n),i!=null&&r.unshift(Fa(t,i,s)),i=Pa(t,e),i!=null&&r.push(Fa(t,i,s))),t=t.return}return r}function Ci(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ly(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,s?(c=Pa(n,i),c!=null&&o.unshift(Fa(n,c,a))):s||(c=Pa(n,i),c!=null&&o.push(Fa(n,c,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var uT=/\r\n?/g,dT=/\u0000|\uFFFD/g;function My(t){return(typeof t=="string"?t:""+t).replace(uT,`
`).replace(dT,"")}function hc(t,e,n){if(e=My(e),My(t)!==e&&n)throw Error(q(425))}function au(){}var Yf=null,Xf=null;function Jf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Zf=typeof setTimeout=="function"?setTimeout:void 0,hT=typeof clearTimeout=="function"?clearTimeout:void 0,Vy=typeof Promise=="function"?Promise:void 0,fT=typeof queueMicrotask=="function"?queueMicrotask:typeof Vy<"u"?function(t){return Vy.resolve(null).then(t).catch(pT)}:Zf;function pT(t){setTimeout(function(){throw t})}function Bh(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Oa(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Oa(e)}function cs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Fy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var bo=Math.random().toString(36).slice(2),cr="__reactFiber$"+bo,Ba="__reactProps$"+bo,Lr="__reactContainer$"+bo,ep="__reactEvents$"+bo,mT="__reactListeners$"+bo,gT="__reactHandles$"+bo;function Gs(t){var e=t[cr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Lr]||n[cr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Fy(t);t!==null;){if(n=t[cr])return n;t=Fy(t)}return e}t=n,n=t.parentNode}return null}function gl(t){return t=t[cr]||t[Lr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Mi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(q(33))}function rd(t){return t[Ba]||null}var tp=[],Vi=-1;function ks(t){return{current:t}}function Ze(t){0>Vi||(t.current=tp[Vi],tp[Vi]=null,Vi--)}function Ke(t,e){Vi++,tp[Vi]=t.current,t.current=e}var bs={},en=ks(bs),vn=ks(!1),ti=bs;function to(t,e){var n=t.type.contextTypes;if(!n)return bs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function xn(t){return t=t.childContextTypes,t!=null}function lu(){Ze(vn),Ze(en)}function By(t,e,n){if(en.current!==bs)throw Error(q(168));Ke(en,e),Ke(vn,n)}function Zw(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(q(108,e4(t)||"Unknown",s));return it({},n,r)}function cu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||bs,ti=en.current,Ke(en,t),Ke(vn,vn.current),!0}function Uy(t,e,n){var r=t.stateNode;if(!r)throw Error(q(169));n?(t=Zw(t,e,ti),r.__reactInternalMemoizedMergedChildContext=t,Ze(vn),Ze(en),Ke(en,t)):Ze(vn),Ke(vn,n)}var Sr=null,sd=!1,Uh=!1;function e_(t){Sr===null?Sr=[t]:Sr.push(t)}function yT(t){sd=!0,e_(t)}function As(){if(!Uh&&Sr!==null){Uh=!0;var t=0,e=ze;try{var n=Sr;for(ze=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Sr=null,sd=!1}catch(s){throw Sr!==null&&(Sr=Sr.slice(t+1)),Sw(xm,As),s}finally{ze=e,Uh=!1}}return null}var Fi=[],Bi=0,uu=null,du=0,Ln=[],Mn=0,ni=null,Cr=1,Nr="";function zs(t,e){Fi[Bi++]=du,Fi[Bi++]=uu,uu=t,du=e}function t_(t,e,n){Ln[Mn++]=Cr,Ln[Mn++]=Nr,Ln[Mn++]=ni,ni=t;var r=Cr;t=Nr;var s=32-Zn(r)-1;r&=~(1<<s),n+=1;var i=32-Zn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Cr=1<<32-Zn(e)+s|n<<s|r,Nr=i+t}else Cr=1<<i|n<<s|r,Nr=t}function Nm(t){t.return!==null&&(zs(t,1),t_(t,1,0))}function km(t){for(;t===uu;)uu=Fi[--Bi],Fi[Bi]=null,du=Fi[--Bi],Fi[Bi]=null;for(;t===ni;)ni=Ln[--Mn],Ln[Mn]=null,Nr=Ln[--Mn],Ln[Mn]=null,Cr=Ln[--Mn],Ln[Mn]=null}var Cn=null,In=null,tt=!1,Xn=null;function n_(t,e){var n=Vn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function zy(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Cn=t,In=cs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Cn=t,In=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ni!==null?{id:Cr,overflow:Nr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Vn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Cn=t,In=null,!0):!1;default:return!1}}function np(t){return(t.mode&1)!==0&&(t.flags&128)===0}function rp(t){if(tt){var e=In;if(e){var n=e;if(!zy(t,e)){if(np(t))throw Error(q(418));e=cs(n.nextSibling);var r=Cn;e&&zy(t,e)?n_(r,n):(t.flags=t.flags&-4097|2,tt=!1,Cn=t)}}else{if(np(t))throw Error(q(418));t.flags=t.flags&-4097|2,tt=!1,Cn=t}}}function $y(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Cn=t}function fc(t){if(t!==Cn)return!1;if(!tt)return $y(t),tt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Jf(t.type,t.memoizedProps)),e&&(e=In)){if(np(t))throw r_(),Error(q(418));for(;e;)n_(t,e),e=cs(e.nextSibling)}if($y(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){In=cs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}In=null}}else In=Cn?cs(t.stateNode.nextSibling):null;return!0}function r_(){for(var t=In;t;)t=cs(t.nextSibling)}function no(){In=Cn=null,tt=!1}function Am(t){Xn===null?Xn=[t]:Xn.push(t)}var vT=zr.ReactCurrentBatchConfig;function Zo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(q(309));var r=n.stateNode}if(!r)throw Error(q(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(q(284));if(!n._owner)throw Error(q(290,t))}return t}function pc(t,e){throw t=Object.prototype.toString.call(e),Error(q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Hy(t){var e=t._init;return e(t._payload)}function s_(t){function e(E,w){if(t){var _=E.deletions;_===null?(E.deletions=[w],E.flags|=16):_.push(w)}}function n(E,w){if(!t)return null;for(;w!==null;)e(E,w),w=w.sibling;return null}function r(E,w){for(E=new Map;w!==null;)w.key!==null?E.set(w.key,w):E.set(w.index,w),w=w.sibling;return E}function s(E,w){return E=fs(E,w),E.index=0,E.sibling=null,E}function i(E,w,_){return E.index=_,t?(_=E.alternate,_!==null?(_=_.index,_<w?(E.flags|=2,w):_):(E.flags|=2,w)):(E.flags|=1048576,w)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function a(E,w,_,P){return w===null||w.tag!==6?(w=Kh(_,E.mode,P),w.return=E,w):(w=s(w,_),w.return=E,w)}function c(E,w,_,P){var O=_.type;return O===Di?h(E,w,_.props.children,P,_.key):w!==null&&(w.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Qr&&Hy(O)===w.type)?(P=s(w,_.props),P.ref=Zo(E,w,_),P.return=E,P):(P=Uc(_.type,_.key,_.props,null,E.mode,P),P.ref=Zo(E,w,_),P.return=E,P)}function u(E,w,_,P){return w===null||w.tag!==4||w.stateNode.containerInfo!==_.containerInfo||w.stateNode.implementation!==_.implementation?(w=Qh(_,E.mode,P),w.return=E,w):(w=s(w,_.children||[]),w.return=E,w)}function h(E,w,_,P,O){return w===null||w.tag!==7?(w=Js(_,E.mode,P,O),w.return=E,w):(w=s(w,_),w.return=E,w)}function f(E,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Kh(""+w,E.mode,_),w.return=E,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case rc:return _=Uc(w.type,w.key,w.props,null,E.mode,_),_.ref=Zo(E,null,w),_.return=E,_;case Pi:return w=Qh(w,E.mode,_),w.return=E,w;case Qr:var P=w._init;return f(E,P(w._payload),_)}if(aa(w)||Ko(w))return w=Js(w,E.mode,_,null),w.return=E,w;pc(E,w)}return null}function p(E,w,_,P){var O=w!==null?w.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return O!==null?null:a(E,w,""+_,P);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case rc:return _.key===O?c(E,w,_,P):null;case Pi:return _.key===O?u(E,w,_,P):null;case Qr:return O=_._init,p(E,w,O(_._payload),P)}if(aa(_)||Ko(_))return O!==null?null:h(E,w,_,P,null);pc(E,_)}return null}function y(E,w,_,P,O){if(typeof P=="string"&&P!==""||typeof P=="number")return E=E.get(_)||null,a(w,E,""+P,O);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case rc:return E=E.get(P.key===null?_:P.key)||null,c(w,E,P,O);case Pi:return E=E.get(P.key===null?_:P.key)||null,u(w,E,P,O);case Qr:var j=P._init;return y(E,w,_,j(P._payload),O)}if(aa(P)||Ko(P))return E=E.get(_)||null,h(w,E,P,O,null);pc(w,P)}return null}function b(E,w,_,P){for(var O=null,j=null,T=w,x=w=0,C=null;T!==null&&x<_.length;x++){T.index>x?(C=T,T=null):C=T.sibling;var k=p(E,T,_[x],P);if(k===null){T===null&&(T=C);break}t&&T&&k.alternate===null&&e(E,T),w=i(k,w,x),j===null?O=k:j.sibling=k,j=k,T=C}if(x===_.length)return n(E,T),tt&&zs(E,x),O;if(T===null){for(;x<_.length;x++)T=f(E,_[x],P),T!==null&&(w=i(T,w,x),j===null?O=T:j.sibling=T,j=T);return tt&&zs(E,x),O}for(T=r(E,T);x<_.length;x++)C=y(T,E,x,_[x],P),C!==null&&(t&&C.alternate!==null&&T.delete(C.key===null?x:C.key),w=i(C,w,x),j===null?O=C:j.sibling=C,j=C);return t&&T.forEach(function(R){return e(E,R)}),tt&&zs(E,x),O}function I(E,w,_,P){var O=Ko(_);if(typeof O!="function")throw Error(q(150));if(_=O.call(_),_==null)throw Error(q(151));for(var j=O=null,T=w,x=w=0,C=null,k=_.next();T!==null&&!k.done;x++,k=_.next()){T.index>x?(C=T,T=null):C=T.sibling;var R=p(E,T,k.value,P);if(R===null){T===null&&(T=C);break}t&&T&&R.alternate===null&&e(E,T),w=i(R,w,x),j===null?O=R:j.sibling=R,j=R,T=C}if(k.done)return n(E,T),tt&&zs(E,x),O;if(T===null){for(;!k.done;x++,k=_.next())k=f(E,k.value,P),k!==null&&(w=i(k,w,x),j===null?O=k:j.sibling=k,j=k);return tt&&zs(E,x),O}for(T=r(E,T);!k.done;x++,k=_.next())k=y(T,E,x,k.value,P),k!==null&&(t&&k.alternate!==null&&T.delete(k.key===null?x:k.key),w=i(k,w,x),j===null?O=k:j.sibling=k,j=k);return t&&T.forEach(function(D){return e(E,D)}),tt&&zs(E,x),O}function N(E,w,_,P){if(typeof _=="object"&&_!==null&&_.type===Di&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case rc:e:{for(var O=_.key,j=w;j!==null;){if(j.key===O){if(O=_.type,O===Di){if(j.tag===7){n(E,j.sibling),w=s(j,_.props.children),w.return=E,E=w;break e}}else if(j.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Qr&&Hy(O)===j.type){n(E,j.sibling),w=s(j,_.props),w.ref=Zo(E,j,_),w.return=E,E=w;break e}n(E,j);break}else e(E,j);j=j.sibling}_.type===Di?(w=Js(_.props.children,E.mode,P,_.key),w.return=E,E=w):(P=Uc(_.type,_.key,_.props,null,E.mode,P),P.ref=Zo(E,w,_),P.return=E,E=P)}return o(E);case Pi:e:{for(j=_.key;w!==null;){if(w.key===j)if(w.tag===4&&w.stateNode.containerInfo===_.containerInfo&&w.stateNode.implementation===_.implementation){n(E,w.sibling),w=s(w,_.children||[]),w.return=E,E=w;break e}else{n(E,w);break}else e(E,w);w=w.sibling}w=Qh(_,E.mode,P),w.return=E,E=w}return o(E);case Qr:return j=_._init,N(E,w,j(_._payload),P)}if(aa(_))return b(E,w,_,P);if(Ko(_))return I(E,w,_,P);pc(E,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,w!==null&&w.tag===6?(n(E,w.sibling),w=s(w,_),w.return=E,E=w):(n(E,w),w=Kh(_,E.mode,P),w.return=E,E=w),o(E)):n(E,w)}return N}var ro=s_(!0),i_=s_(!1),hu=ks(null),fu=null,Ui=null,Rm=null;function Pm(){Rm=Ui=fu=null}function Dm(t){var e=hu.current;Ze(hu),t._currentValue=e}function sp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ki(t,e){fu=t,Rm=Ui=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(yn=!0),t.firstContext=null)}function zn(t){var e=t._currentValue;if(Rm!==t)if(t={context:t,memoizedValue:e,next:null},Ui===null){if(fu===null)throw Error(q(308));Ui=t,fu.dependencies={lanes:0,firstContext:t}}else Ui=Ui.next=t;return e}var qs=null;function jm(t){qs===null?qs=[t]:qs.push(t)}function o_(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,jm(e)):(n.next=s.next,s.next=n),e.interleaved=n,Mr(t,r)}function Mr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Yr=!1;function Om(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function a_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Dr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function us(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Le&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Mr(t,n)}return s=r.interleaved,s===null?(e.next=e,jm(r)):(e.next=s.next,s.next=e),r.interleaved=e,Mr(t,n)}function Oc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,wm(t,n)}}function Wy(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function pu(t,e,n,r){var s=t.updateQueue;Yr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,h=u=c=null,a=i;do{var p=a.lane,y=a.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var b=t,I=a;switch(p=e,y=n,I.tag){case 1:if(b=I.payload,typeof b=="function"){f=b.call(y,f,p);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=I.payload,p=typeof b=="function"?b.call(y,f,p):b,p==null)break e;f=it({},f,p);break e;case 2:Yr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else y={eventTime:y,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=y,c=f):h=h.next=y,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(h===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);si|=o,t.lanes=o,t.memoizedState=f}}function Gy(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(q(191,s));s.call(r)}}}var yl={},dr=ks(yl),Ua=ks(yl),za=ks(yl);function Ks(t){if(t===yl)throw Error(q(174));return t}function Lm(t,e){switch(Ke(za,e),Ke(Ua,t),Ke(dr,yl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Vf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Vf(e,t)}Ze(dr),Ke(dr,e)}function so(){Ze(dr),Ze(Ua),Ze(za)}function l_(t){Ks(za.current);var e=Ks(dr.current),n=Vf(e,t.type);e!==n&&(Ke(Ua,t),Ke(dr,n))}function Mm(t){Ua.current===t&&(Ze(dr),Ze(Ua))}var nt=ks(0);function mu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var zh=[];function Vm(){for(var t=0;t<zh.length;t++)zh[t]._workInProgressVersionPrimary=null;zh.length=0}var Lc=zr.ReactCurrentDispatcher,$h=zr.ReactCurrentBatchConfig,ri=0,rt=null,wt=null,bt=null,gu=!1,xa=!1,$a=0,xT=0;function qt(){throw Error(q(321))}function Fm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!nr(t[n],e[n]))return!1;return!0}function Bm(t,e,n,r,s,i){if(ri=i,rt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Lc.current=t===null||t.memoizedState===null?bT:IT,t=n(r,s),xa){i=0;do{if(xa=!1,$a=0,25<=i)throw Error(q(301));i+=1,bt=wt=null,e.updateQueue=null,Lc.current=ST,t=n(r,s)}while(xa)}if(Lc.current=yu,e=wt!==null&&wt.next!==null,ri=0,bt=wt=rt=null,gu=!1,e)throw Error(q(300));return t}function Um(){var t=$a!==0;return $a=0,t}function lr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?rt.memoizedState=bt=t:bt=bt.next=t,bt}function $n(){if(wt===null){var t=rt.alternate;t=t!==null?t.memoizedState:null}else t=wt.next;var e=bt===null?rt.memoizedState:bt.next;if(e!==null)bt=e,wt=t;else{if(t===null)throw Error(q(310));wt=t,t={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},bt===null?rt.memoizedState=bt=t:bt=bt.next=t}return bt}function Ha(t,e){return typeof e=="function"?e(t):e}function Hh(t){var e=$n(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=wt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,c=null,u=i;do{var h=u.lane;if((ri&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=f,o=r):c=c.next=f,rt.lanes|=h,si|=h}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=a,nr(r,e.memoizedState)||(yn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,rt.lanes|=i,si|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Wh(t){var e=$n(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);nr(i,e.memoizedState)||(yn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function c_(){}function u_(t,e){var n=rt,r=$n(),s=e(),i=!nr(r.memoizedState,s);if(i&&(r.memoizedState=s,yn=!0),r=r.queue,zm(f_.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||bt!==null&&bt.memoizedState.tag&1){if(n.flags|=2048,Wa(9,h_.bind(null,n,r,s,e),void 0,null),It===null)throw Error(q(349));ri&30||d_(n,e,s)}return s}function d_(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=rt.updateQueue,e===null?(e={lastEffect:null,stores:null},rt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function h_(t,e,n,r){e.value=n,e.getSnapshot=r,p_(e)&&m_(t)}function f_(t,e,n){return n(function(){p_(e)&&m_(t)})}function p_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!nr(t,n)}catch{return!0}}function m_(t){var e=Mr(t,1);e!==null&&er(e,t,1,-1)}function qy(t){var e=lr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:t},e.queue=t,t=t.dispatch=ET.bind(null,rt,t),[e.memoizedState,t]}function Wa(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=rt.updateQueue,e===null?(e={lastEffect:null,stores:null},rt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function g_(){return $n().memoizedState}function Mc(t,e,n,r){var s=lr();rt.flags|=t,s.memoizedState=Wa(1|e,n,void 0,r===void 0?null:r)}function id(t,e,n,r){var s=$n();r=r===void 0?null:r;var i=void 0;if(wt!==null){var o=wt.memoizedState;if(i=o.destroy,r!==null&&Fm(r,o.deps)){s.memoizedState=Wa(e,n,i,r);return}}rt.flags|=t,s.memoizedState=Wa(1|e,n,i,r)}function Ky(t,e){return Mc(8390656,8,t,e)}function zm(t,e){return id(2048,8,t,e)}function y_(t,e){return id(4,2,t,e)}function v_(t,e){return id(4,4,t,e)}function x_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function w_(t,e,n){return n=n!=null?n.concat([t]):null,id(4,4,x_.bind(null,e,t),n)}function $m(){}function __(t,e){var n=$n();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Fm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function E_(t,e){var n=$n();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Fm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function b_(t,e,n){return ri&21?(nr(n,e)||(n=Nw(),rt.lanes|=n,si|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,yn=!0),t.memoizedState=n)}function wT(t,e){var n=ze;ze=n!==0&&4>n?n:4,t(!0);var r=$h.transition;$h.transition={};try{t(!1),e()}finally{ze=n,$h.transition=r}}function I_(){return $n().memoizedState}function _T(t,e,n){var r=hs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},S_(t))T_(e,n);else if(n=o_(t,e,n,r),n!==null){var s=an();er(n,t,r,s),C_(n,e,r)}}function ET(t,e,n){var r=hs(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(S_(t))T_(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,nr(a,o)){var c=e.interleaved;c===null?(s.next=s,jm(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=o_(t,e,s,r),n!==null&&(s=an(),er(n,t,r,s),C_(n,e,r))}}function S_(t){var e=t.alternate;return t===rt||e!==null&&e===rt}function T_(t,e){xa=gu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function C_(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,wm(t,n)}}var yu={readContext:zn,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useInsertionEffect:qt,useLayoutEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useMutableSource:qt,useSyncExternalStore:qt,useId:qt,unstable_isNewReconciler:!1},bT={readContext:zn,useCallback:function(t,e){return lr().memoizedState=[t,e===void 0?null:e],t},useContext:zn,useEffect:Ky,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Mc(4194308,4,x_.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Mc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Mc(4,2,t,e)},useMemo:function(t,e){var n=lr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=lr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=_T.bind(null,rt,t),[r.memoizedState,t]},useRef:function(t){var e=lr();return t={current:t},e.memoizedState=t},useState:qy,useDebugValue:$m,useDeferredValue:function(t){return lr().memoizedState=t},useTransition:function(){var t=qy(!1),e=t[0];return t=wT.bind(null,t[1]),lr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=rt,s=lr();if(tt){if(n===void 0)throw Error(q(407));n=n()}else{if(n=e(),It===null)throw Error(q(349));ri&30||d_(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Ky(f_.bind(null,r,i,t),[t]),r.flags|=2048,Wa(9,h_.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=lr(),e=It.identifierPrefix;if(tt){var n=Nr,r=Cr;n=(r&~(1<<32-Zn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=$a++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=xT++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},IT={readContext:zn,useCallback:__,useContext:zn,useEffect:zm,useImperativeHandle:w_,useInsertionEffect:y_,useLayoutEffect:v_,useMemo:E_,useReducer:Hh,useRef:g_,useState:function(){return Hh(Ha)},useDebugValue:$m,useDeferredValue:function(t){var e=$n();return b_(e,wt.memoizedState,t)},useTransition:function(){var t=Hh(Ha)[0],e=$n().memoizedState;return[t,e]},useMutableSource:c_,useSyncExternalStore:u_,useId:I_,unstable_isNewReconciler:!1},ST={readContext:zn,useCallback:__,useContext:zn,useEffect:zm,useImperativeHandle:w_,useInsertionEffect:y_,useLayoutEffect:v_,useMemo:E_,useReducer:Wh,useRef:g_,useState:function(){return Wh(Ha)},useDebugValue:$m,useDeferredValue:function(t){var e=$n();return wt===null?e.memoizedState=t:b_(e,wt.memoizedState,t)},useTransition:function(){var t=Wh(Ha)[0],e=$n().memoizedState;return[t,e]},useMutableSource:c_,useSyncExternalStore:u_,useId:I_,unstable_isNewReconciler:!1};function Qn(t,e){if(t&&t.defaultProps){e=it({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ip(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:it({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var od={isMounted:function(t){return(t=t._reactInternals)?pi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=an(),s=hs(t),i=Dr(r,s);i.payload=e,n!=null&&(i.callback=n),e=us(t,i,s),e!==null&&(er(e,t,s,r),Oc(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=an(),s=hs(t),i=Dr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=us(t,i,s),e!==null&&(er(e,t,s,r),Oc(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=an(),r=hs(t),s=Dr(n,r);s.tag=2,e!=null&&(s.callback=e),e=us(t,s,r),e!==null&&(er(e,t,r,n),Oc(e,t,r))}};function Qy(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Ma(n,r)||!Ma(s,i):!0}function N_(t,e,n){var r=!1,s=bs,i=e.contextType;return typeof i=="object"&&i!==null?i=zn(i):(s=xn(e)?ti:en.current,r=e.contextTypes,i=(r=r!=null)?to(t,s):bs),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=od,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Yy(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&od.enqueueReplaceState(e,e.state,null)}function op(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Om(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=zn(i):(i=xn(e)?ti:en.current,s.context=to(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(ip(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&od.enqueueReplaceState(s,s.state,null),pu(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function io(t,e){try{var n="",r=e;do n+=ZS(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Gh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ap(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var TT=typeof WeakMap=="function"?WeakMap:Map;function k_(t,e,n){n=Dr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){xu||(xu=!0,yp=r),ap(t,e)},n}function A_(t,e,n){n=Dr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){ap(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){ap(t,e),typeof r!="function"&&(ds===null?ds=new Set([this]):ds.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Xy(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new TT;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=BT.bind(null,t,e,n),e.then(t,t))}function Jy(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Zy(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Dr(-1,1),e.tag=2,us(n,e,1))),n.lanes|=1),t)}var CT=zr.ReactCurrentOwner,yn=!1;function on(t,e,n,r){e.child=t===null?i_(e,null,n,r):ro(e,t.child,n,r)}function ev(t,e,n,r,s){n=n.render;var i=e.ref;return Ki(e,s),r=Bm(t,e,n,r,i,s),n=Um(),t!==null&&!yn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Vr(t,e,s)):(tt&&n&&Nm(e),e.flags|=1,on(t,e,r,s),e.child)}function tv(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Xm(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,R_(t,e,i,r,s)):(t=Uc(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ma,n(o,r)&&t.ref===e.ref)return Vr(t,e,s)}return e.flags|=1,t=fs(i,r),t.ref=e.ref,t.return=e,e.child=t}function R_(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Ma(i,r)&&t.ref===e.ref)if(yn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(yn=!0);else return e.lanes=t.lanes,Vr(t,e,s)}return lp(t,e,n,r,s)}function P_(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke($i,bn),bn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ke($i,bn),bn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ke($i,bn),bn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Ke($i,bn),bn|=r;return on(t,e,s,n),e.child}function D_(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function lp(t,e,n,r,s){var i=xn(n)?ti:en.current;return i=to(e,i),Ki(e,s),n=Bm(t,e,n,r,i,s),r=Um(),t!==null&&!yn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Vr(t,e,s)):(tt&&r&&Nm(e),e.flags|=1,on(t,e,n,s),e.child)}function nv(t,e,n,r,s){if(xn(n)){var i=!0;cu(e)}else i=!1;if(Ki(e,s),e.stateNode===null)Vc(t,e),N_(e,n,r),op(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=zn(u):(u=xn(n)?ti:en.current,u=to(e,u));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==u)&&Yy(e,o,r,u),Yr=!1;var p=e.memoizedState;o.state=p,pu(e,r,o,s),c=e.memoizedState,a!==r||p!==c||vn.current||Yr?(typeof h=="function"&&(ip(e,n,h,r),c=e.memoizedState),(a=Yr||Qy(e,n,a,r,p,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,a_(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Qn(e.type,a),o.props=u,f=e.pendingProps,p=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=zn(c):(c=xn(n)?ti:en.current,c=to(e,c));var y=n.getDerivedStateFromProps;(h=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==c)&&Yy(e,o,r,c),Yr=!1,p=e.memoizedState,o.state=p,pu(e,r,o,s);var b=e.memoizedState;a!==f||p!==b||vn.current||Yr?(typeof y=="function"&&(ip(e,n,y,r),b=e.memoizedState),(u=Yr||Qy(e,n,u,r,p,b,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,b,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,b,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=b),o.props=r,o.state=b,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return cp(t,e,n,r,i,s)}function cp(t,e,n,r,s,i){D_(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Uy(e,n,!1),Vr(t,e,i);r=e.stateNode,CT.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ro(e,t.child,null,i),e.child=ro(e,null,a,i)):on(t,e,a,i),e.memoizedState=r.state,s&&Uy(e,n,!0),e.child}function j_(t){var e=t.stateNode;e.pendingContext?By(t,e.pendingContext,e.pendingContext!==e.context):e.context&&By(t,e.context,!1),Lm(t,e.containerInfo)}function rv(t,e,n,r,s){return no(),Am(s),e.flags|=256,on(t,e,n,r),e.child}var up={dehydrated:null,treeContext:null,retryLane:0};function dp(t){return{baseLanes:t,cachePool:null,transitions:null}}function O_(t,e,n){var r=e.pendingProps,s=nt.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ke(nt,s&1),t===null)return rp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=cd(o,r,0,null),t=Js(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=dp(n),e.memoizedState=up,t):Hm(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return NT(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=fs(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=fs(a,i):(i=Js(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?dp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=up,r}return i=t.child,t=i.sibling,r=fs(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Hm(t,e){return e=cd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function mc(t,e,n,r){return r!==null&&Am(r),ro(e,t.child,null,n),t=Hm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function NT(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Gh(Error(q(422))),mc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=cd({mode:"visible",children:r.children},s,0,null),i=Js(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&ro(e,t.child,null,o),e.child.memoizedState=dp(o),e.memoizedState=up,i);if(!(e.mode&1))return mc(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(q(419)),r=Gh(i,r,void 0),mc(t,e,o,r)}if(a=(o&t.childLanes)!==0,yn||a){if(r=It,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Mr(t,s),er(r,t,s,-1))}return Ym(),r=Gh(Error(q(421))),mc(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=UT.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,In=cs(s.nextSibling),Cn=e,tt=!0,Xn=null,t!==null&&(Ln[Mn++]=Cr,Ln[Mn++]=Nr,Ln[Mn++]=ni,Cr=t.id,Nr=t.overflow,ni=e),e=Hm(e,r.children),e.flags|=4096,e)}function sv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),sp(t.return,e,n)}function qh(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function L_(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(on(t,e,r.children,n),r=nt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&sv(t,n,e);else if(t.tag===19)sv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ke(nt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&mu(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),qh(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&mu(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}qh(e,!0,n,null,i);break;case"together":qh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Vc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Vr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),si|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(q(153));if(e.child!==null){for(t=e.child,n=fs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=fs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function kT(t,e,n){switch(e.tag){case 3:j_(e),no();break;case 5:l_(e);break;case 1:xn(e.type)&&cu(e);break;case 4:Lm(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Ke(hu,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ke(nt,nt.current&1),e.flags|=128,null):n&e.child.childLanes?O_(t,e,n):(Ke(nt,nt.current&1),t=Vr(t,e,n),t!==null?t.sibling:null);Ke(nt,nt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return L_(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ke(nt,nt.current),r)break;return null;case 22:case 23:return e.lanes=0,P_(t,e,n)}return Vr(t,e,n)}var M_,hp,V_,F_;M_=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};hp=function(){};V_=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Ks(dr.current);var i=null;switch(n){case"input":s=jf(t,s),r=jf(t,r),i=[];break;case"select":s=it({},s,{value:void 0}),r=it({},r,{value:void 0}),i=[];break;case"textarea":s=Mf(t,s),r=Mf(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=au)}Ff(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Aa.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Aa.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Xe("scroll",t),i||a===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};F_=function(t,e,n,r){n!==r&&(e.flags|=4)};function ea(t,e){if(!tt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Kt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function AT(t,e,n){var r=e.pendingProps;switch(km(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(e),null;case 1:return xn(e.type)&&lu(),Kt(e),null;case 3:return r=e.stateNode,so(),Ze(vn),Ze(en),Vm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(fc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Xn!==null&&(wp(Xn),Xn=null))),hp(t,e),Kt(e),null;case 5:Mm(e);var s=Ks(za.current);if(n=e.type,t!==null&&e.stateNode!=null)V_(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(q(166));return Kt(e),null}if(t=Ks(dr.current),fc(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[cr]=e,r[Ba]=i,t=(e.mode&1)!==0,n){case"dialog":Xe("cancel",r),Xe("close",r);break;case"iframe":case"object":case"embed":Xe("load",r);break;case"video":case"audio":for(s=0;s<ca.length;s++)Xe(ca[s],r);break;case"source":Xe("error",r);break;case"img":case"image":case"link":Xe("error",r),Xe("load",r);break;case"details":Xe("toggle",r);break;case"input":fy(r,i),Xe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Xe("invalid",r);break;case"textarea":my(r,i),Xe("invalid",r)}Ff(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&hc(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&hc(r.textContent,a,t),s=["children",""+a]):Aa.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Xe("scroll",r)}switch(n){case"input":sc(r),py(r,i,!0);break;case"textarea":sc(r),gy(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=au)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=fw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[cr]=e,t[Ba]=r,M_(t,e,!1,!1),e.stateNode=t;e:{switch(o=Bf(n,r),n){case"dialog":Xe("cancel",t),Xe("close",t),s=r;break;case"iframe":case"object":case"embed":Xe("load",t),s=r;break;case"video":case"audio":for(s=0;s<ca.length;s++)Xe(ca[s],t);s=r;break;case"source":Xe("error",t),s=r;break;case"img":case"image":case"link":Xe("error",t),Xe("load",t),s=r;break;case"details":Xe("toggle",t),s=r;break;case"input":fy(t,r),s=jf(t,r),Xe("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=it({},r,{value:void 0}),Xe("invalid",t);break;case"textarea":my(t,r),s=Mf(t,r),Xe("invalid",t);break;default:s=r}Ff(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?gw(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&pw(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Ra(t,c):typeof c=="number"&&Ra(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Aa.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Xe("scroll",t):c!=null&&pm(t,i,c,o))}switch(n){case"input":sc(t),py(t,r,!1);break;case"textarea":sc(t),gy(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Es(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Hi(t,!!r.multiple,i,!1):r.defaultValue!=null&&Hi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=au)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Kt(e),null;case 6:if(t&&e.stateNode!=null)F_(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(q(166));if(n=Ks(za.current),Ks(dr.current),fc(e)){if(r=e.stateNode,n=e.memoizedProps,r[cr]=e,(i=r.nodeValue!==n)&&(t=Cn,t!==null))switch(t.tag){case 3:hc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&hc(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[cr]=e,e.stateNode=r}return Kt(e),null;case 13:if(Ze(nt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(tt&&In!==null&&e.mode&1&&!(e.flags&128))r_(),no(),e.flags|=98560,i=!1;else if(i=fc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(q(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(q(317));i[cr]=e}else no(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Kt(e),i=!1}else Xn!==null&&(wp(Xn),Xn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||nt.current&1?_t===0&&(_t=3):Ym())),e.updateQueue!==null&&(e.flags|=4),Kt(e),null);case 4:return so(),hp(t,e),t===null&&Va(e.stateNode.containerInfo),Kt(e),null;case 10:return Dm(e.type._context),Kt(e),null;case 17:return xn(e.type)&&lu(),Kt(e),null;case 19:if(Ze(nt),i=e.memoizedState,i===null)return Kt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)ea(i,!1);else{if(_t!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=mu(t),o!==null){for(e.flags|=128,ea(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ke(nt,nt.current&1|2),e.child}t=t.sibling}i.tail!==null&&ut()>oo&&(e.flags|=128,r=!0,ea(i,!1),e.lanes=4194304)}else{if(!r)if(t=mu(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ea(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!tt)return Kt(e),null}else 2*ut()-i.renderingStartTime>oo&&n!==1073741824&&(e.flags|=128,r=!0,ea(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ut(),e.sibling=null,n=nt.current,Ke(nt,r?n&1|2:n&1),e):(Kt(e),null);case 22:case 23:return Qm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?bn&1073741824&&(Kt(e),e.subtreeFlags&6&&(e.flags|=8192)):Kt(e),null;case 24:return null;case 25:return null}throw Error(q(156,e.tag))}function RT(t,e){switch(km(e),e.tag){case 1:return xn(e.type)&&lu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return so(),Ze(vn),Ze(en),Vm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Mm(e),null;case 13:if(Ze(nt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(q(340));no()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ze(nt),null;case 4:return so(),null;case 10:return Dm(e.type._context),null;case 22:case 23:return Qm(),null;case 24:return null;default:return null}}var gc=!1,Xt=!1,PT=typeof WeakSet=="function"?WeakSet:Set,ne=null;function zi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){lt(t,e,r)}else n.current=null}function fp(t,e,n){try{n()}catch(r){lt(t,e,r)}}var iv=!1;function DT(t,e){if(Yf=su,t=Hw(),Cm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,u=0,h=0,f=t,p=null;t:for(;;){for(var y;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(y=f.firstChild)!==null;)p=f,f=y;for(;;){if(f===t)break t;if(p===n&&++u===s&&(a=o),p===i&&++h===r&&(c=o),(y=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=y}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Xf={focusedElem:t,selectionRange:n},su=!1,ne=e;ne!==null;)if(e=ne,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ne=t;else for(;ne!==null;){e=ne;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var I=b.memoizedProps,N=b.memoizedState,E=e.stateNode,w=E.getSnapshotBeforeUpdate(e.elementType===e.type?I:Qn(e.type,I),N);E.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(P){lt(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,ne=t;break}ne=e.return}return b=iv,iv=!1,b}function wa(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&fp(e,n,i)}s=s.next}while(s!==r)}}function ad(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function pp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function B_(t){var e=t.alternate;e!==null&&(t.alternate=null,B_(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[cr],delete e[Ba],delete e[ep],delete e[mT],delete e[gT])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function U_(t){return t.tag===5||t.tag===3||t.tag===4}function ov(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||U_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function mp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=au));else if(r!==4&&(t=t.child,t!==null))for(mp(t,e,n),t=t.sibling;t!==null;)mp(t,e,n),t=t.sibling}function gp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(gp(t,e,n),t=t.sibling;t!==null;)gp(t,e,n),t=t.sibling}var Ot=null,Yn=!1;function qr(t,e,n){for(n=n.child;n!==null;)z_(t,e,n),n=n.sibling}function z_(t,e,n){if(ur&&typeof ur.onCommitFiberUnmount=="function")try{ur.onCommitFiberUnmount(Zu,n)}catch{}switch(n.tag){case 5:Xt||zi(n,e);case 6:var r=Ot,s=Yn;Ot=null,qr(t,e,n),Ot=r,Yn=s,Ot!==null&&(Yn?(t=Ot,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ot.removeChild(n.stateNode));break;case 18:Ot!==null&&(Yn?(t=Ot,n=n.stateNode,t.nodeType===8?Bh(t.parentNode,n):t.nodeType===1&&Bh(t,n),Oa(t)):Bh(Ot,n.stateNode));break;case 4:r=Ot,s=Yn,Ot=n.stateNode.containerInfo,Yn=!0,qr(t,e,n),Ot=r,Yn=s;break;case 0:case 11:case 14:case 15:if(!Xt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&fp(n,e,o),s=s.next}while(s!==r)}qr(t,e,n);break;case 1:if(!Xt&&(zi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){lt(n,e,a)}qr(t,e,n);break;case 21:qr(t,e,n);break;case 22:n.mode&1?(Xt=(r=Xt)||n.memoizedState!==null,qr(t,e,n),Xt=r):qr(t,e,n);break;default:qr(t,e,n)}}function av(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new PT),e.forEach(function(r){var s=zT.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Kn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ot=a.stateNode,Yn=!1;break e;case 3:Ot=a.stateNode.containerInfo,Yn=!0;break e;case 4:Ot=a.stateNode.containerInfo,Yn=!0;break e}a=a.return}if(Ot===null)throw Error(q(160));z_(i,o,s),Ot=null,Yn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){lt(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)$_(e,t),e=e.sibling}function $_(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Kn(e,t),ir(t),r&4){try{wa(3,t,t.return),ad(3,t)}catch(I){lt(t,t.return,I)}try{wa(5,t,t.return)}catch(I){lt(t,t.return,I)}}break;case 1:Kn(e,t),ir(t),r&512&&n!==null&&zi(n,n.return);break;case 5:if(Kn(e,t),ir(t),r&512&&n!==null&&zi(n,n.return),t.flags&32){var s=t.stateNode;try{Ra(s,"")}catch(I){lt(t,t.return,I)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&dw(s,i),Bf(a,o);var u=Bf(a,i);for(o=0;o<c.length;o+=2){var h=c[o],f=c[o+1];h==="style"?gw(s,f):h==="dangerouslySetInnerHTML"?pw(s,f):h==="children"?Ra(s,f):pm(s,h,f,u)}switch(a){case"input":Of(s,i);break;case"textarea":hw(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Hi(s,!!i.multiple,y,!1):p!==!!i.multiple&&(i.defaultValue!=null?Hi(s,!!i.multiple,i.defaultValue,!0):Hi(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ba]=i}catch(I){lt(t,t.return,I)}}break;case 6:if(Kn(e,t),ir(t),r&4){if(t.stateNode===null)throw Error(q(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(I){lt(t,t.return,I)}}break;case 3:if(Kn(e,t),ir(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Oa(e.containerInfo)}catch(I){lt(t,t.return,I)}break;case 4:Kn(e,t),ir(t);break;case 13:Kn(e,t),ir(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(qm=ut())),r&4&&av(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Xt=(u=Xt)||h,Kn(e,t),Xt=u):Kn(e,t),ir(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(ne=t,h=t.child;h!==null;){for(f=ne=h;ne!==null;){switch(p=ne,y=p.child,p.tag){case 0:case 11:case 14:case 15:wa(4,p,p.return);break;case 1:zi(p,p.return);var b=p.stateNode;if(typeof b.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(I){lt(r,n,I)}}break;case 5:zi(p,p.return);break;case 22:if(p.memoizedState!==null){cv(f);continue}}y!==null?(y.return=p,ne=y):cv(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=mw("display",o))}catch(I){lt(t,t.return,I)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(I){lt(t,t.return,I)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Kn(e,t),ir(t),r&4&&av(t);break;case 21:break;default:Kn(e,t),ir(t)}}function ir(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(U_(n)){var r=n;break e}n=n.return}throw Error(q(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ra(s,""),r.flags&=-33);var i=ov(t);gp(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=ov(t);mp(t,a,o);break;default:throw Error(q(161))}}catch(c){lt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function jT(t,e,n){ne=t,H_(t)}function H_(t,e,n){for(var r=(t.mode&1)!==0;ne!==null;){var s=ne,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||gc;if(!o){var a=s.alternate,c=a!==null&&a.memoizedState!==null||Xt;a=gc;var u=Xt;if(gc=o,(Xt=c)&&!u)for(ne=s;ne!==null;)o=ne,c=o.child,o.tag===22&&o.memoizedState!==null?uv(s):c!==null?(c.return=o,ne=c):uv(s);for(;i!==null;)ne=i,H_(i),i=i.sibling;ne=s,gc=a,Xt=u}lv(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ne=i):lv(t)}}function lv(t){for(;ne!==null;){var e=ne;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Xt||ad(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Xt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Qn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Gy(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Gy(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Oa(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}Xt||e.flags&512&&pp(e)}catch(p){lt(e,e.return,p)}}if(e===t){ne=null;break}if(n=e.sibling,n!==null){n.return=e.return,ne=n;break}ne=e.return}}function cv(t){for(;ne!==null;){var e=ne;if(e===t){ne=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ne=n;break}ne=e.return}}function uv(t){for(;ne!==null;){var e=ne;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ad(4,e)}catch(c){lt(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){lt(e,s,c)}}var i=e.return;try{pp(e)}catch(c){lt(e,i,c)}break;case 5:var o=e.return;try{pp(e)}catch(c){lt(e,o,c)}}}catch(c){lt(e,e.return,c)}if(e===t){ne=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ne=a;break}ne=e.return}}var OT=Math.ceil,vu=zr.ReactCurrentDispatcher,Wm=zr.ReactCurrentOwner,Bn=zr.ReactCurrentBatchConfig,Le=0,It=null,gt=null,Ft=0,bn=0,$i=ks(0),_t=0,Ga=null,si=0,ld=0,Gm=0,_a=null,mn=null,qm=0,oo=1/0,Ir=null,xu=!1,yp=null,ds=null,yc=!1,rs=null,wu=0,Ea=0,vp=null,Fc=-1,Bc=0;function an(){return Le&6?ut():Fc!==-1?Fc:Fc=ut()}function hs(t){return t.mode&1?Le&2&&Ft!==0?Ft&-Ft:vT.transition!==null?(Bc===0&&(Bc=Nw()),Bc):(t=ze,t!==0||(t=window.event,t=t===void 0?16:Ow(t.type)),t):1}function er(t,e,n,r){if(50<Ea)throw Ea=0,vp=null,Error(q(185));pl(t,n,r),(!(Le&2)||t!==It)&&(t===It&&(!(Le&2)&&(ld|=n),_t===4&&Jr(t,Ft)),wn(t,r),n===1&&Le===0&&!(e.mode&1)&&(oo=ut()+500,sd&&As()))}function wn(t,e){var n=t.callbackNode;v4(t,e);var r=ru(t,t===It?Ft:0);if(r===0)n!==null&&xy(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&xy(n),e===1)t.tag===0?yT(dv.bind(null,t)):e_(dv.bind(null,t)),fT(function(){!(Le&6)&&As()}),n=null;else{switch(kw(r)){case 1:n=xm;break;case 4:n=Tw;break;case 16:n=nu;break;case 536870912:n=Cw;break;default:n=nu}n=J_(n,W_.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function W_(t,e){if(Fc=-1,Bc=0,Le&6)throw Error(q(327));var n=t.callbackNode;if(Qi()&&t.callbackNode!==n)return null;var r=ru(t,t===It?Ft:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=_u(t,r);else{e=r;var s=Le;Le|=2;var i=q_();(It!==t||Ft!==e)&&(Ir=null,oo=ut()+500,Xs(t,e));do try{VT();break}catch(a){G_(t,a)}while(!0);Pm(),vu.current=i,Le=s,gt!==null?e=0:(It=null,Ft=0,e=_t)}if(e!==0){if(e===2&&(s=Wf(t),s!==0&&(r=s,e=xp(t,s))),e===1)throw n=Ga,Xs(t,0),Jr(t,r),wn(t,ut()),n;if(e===6)Jr(t,r);else{if(s=t.current.alternate,!(r&30)&&!LT(s)&&(e=_u(t,r),e===2&&(i=Wf(t),i!==0&&(r=i,e=xp(t,i))),e===1))throw n=Ga,Xs(t,0),Jr(t,r),wn(t,ut()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(q(345));case 2:$s(t,mn,Ir);break;case 3:if(Jr(t,r),(r&130023424)===r&&(e=qm+500-ut(),10<e)){if(ru(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){an(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Zf($s.bind(null,t,mn,Ir),e);break}$s(t,mn,Ir);break;case 4:if(Jr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Zn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=ut()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*OT(r/1960))-r,10<r){t.timeoutHandle=Zf($s.bind(null,t,mn,Ir),r);break}$s(t,mn,Ir);break;case 5:$s(t,mn,Ir);break;default:throw Error(q(329))}}}return wn(t,ut()),t.callbackNode===n?W_.bind(null,t):null}function xp(t,e){var n=_a;return t.current.memoizedState.isDehydrated&&(Xs(t,e).flags|=256),t=_u(t,e),t!==2&&(e=mn,mn=n,e!==null&&wp(e)),t}function wp(t){mn===null?mn=t:mn.push.apply(mn,t)}function LT(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!nr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Jr(t,e){for(e&=~Gm,e&=~ld,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Zn(e),r=1<<n;t[n]=-1,e&=~r}}function dv(t){if(Le&6)throw Error(q(327));Qi();var e=ru(t,0);if(!(e&1))return wn(t,ut()),null;var n=_u(t,e);if(t.tag!==0&&n===2){var r=Wf(t);r!==0&&(e=r,n=xp(t,r))}if(n===1)throw n=Ga,Xs(t,0),Jr(t,e),wn(t,ut()),n;if(n===6)throw Error(q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,$s(t,mn,Ir),wn(t,ut()),null}function Km(t,e){var n=Le;Le|=1;try{return t(e)}finally{Le=n,Le===0&&(oo=ut()+500,sd&&As())}}function ii(t){rs!==null&&rs.tag===0&&!(Le&6)&&Qi();var e=Le;Le|=1;var n=Bn.transition,r=ze;try{if(Bn.transition=null,ze=1,t)return t()}finally{ze=r,Bn.transition=n,Le=e,!(Le&6)&&As()}}function Qm(){bn=$i.current,Ze($i)}function Xs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,hT(n)),gt!==null)for(n=gt.return;n!==null;){var r=n;switch(km(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&lu();break;case 3:so(),Ze(vn),Ze(en),Vm();break;case 5:Mm(r);break;case 4:so();break;case 13:Ze(nt);break;case 19:Ze(nt);break;case 10:Dm(r.type._context);break;case 22:case 23:Qm()}n=n.return}if(It=t,gt=t=fs(t.current,null),Ft=bn=e,_t=0,Ga=null,Gm=ld=si=0,mn=_a=null,qs!==null){for(e=0;e<qs.length;e++)if(n=qs[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}qs=null}return t}function G_(t,e){do{var n=gt;try{if(Pm(),Lc.current=yu,gu){for(var r=rt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}gu=!1}if(ri=0,bt=wt=rt=null,xa=!1,$a=0,Wm.current=null,n===null||n.return===null){_t=1,Ga=e,gt=null;break}e:{var i=t,o=n.return,a=n,c=e;if(e=Ft,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var y=Jy(o);if(y!==null){y.flags&=-257,Zy(y,o,a,i,e),y.mode&1&&Xy(i,u,e),e=y,c=u;var b=e.updateQueue;if(b===null){var I=new Set;I.add(c),e.updateQueue=I}else b.add(c);break e}else{if(!(e&1)){Xy(i,u,e),Ym();break e}c=Error(q(426))}}else if(tt&&a.mode&1){var N=Jy(o);if(N!==null){!(N.flags&65536)&&(N.flags|=256),Zy(N,o,a,i,e),Am(io(c,a));break e}}i=c=io(c,a),_t!==4&&(_t=2),_a===null?_a=[i]:_a.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var E=k_(i,c,e);Wy(i,E);break e;case 1:a=c;var w=i.type,_=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(ds===null||!ds.has(_)))){i.flags|=65536,e&=-e,i.lanes|=e;var P=A_(i,a,e);Wy(i,P);break e}}i=i.return}while(i!==null)}Q_(n)}catch(O){e=O,gt===n&&n!==null&&(gt=n=n.return);continue}break}while(!0)}function q_(){var t=vu.current;return vu.current=yu,t===null?yu:t}function Ym(){(_t===0||_t===3||_t===2)&&(_t=4),It===null||!(si&268435455)&&!(ld&268435455)||Jr(It,Ft)}function _u(t,e){var n=Le;Le|=2;var r=q_();(It!==t||Ft!==e)&&(Ir=null,Xs(t,e));do try{MT();break}catch(s){G_(t,s)}while(!0);if(Pm(),Le=n,vu.current=r,gt!==null)throw Error(q(261));return It=null,Ft=0,_t}function MT(){for(;gt!==null;)K_(gt)}function VT(){for(;gt!==null&&!c4();)K_(gt)}function K_(t){var e=X_(t.alternate,t,bn);t.memoizedProps=t.pendingProps,e===null?Q_(t):gt=e,Wm.current=null}function Q_(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=RT(n,e),n!==null){n.flags&=32767,gt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{_t=6,gt=null;return}}else if(n=AT(n,e,bn),n!==null){gt=n;return}if(e=e.sibling,e!==null){gt=e;return}gt=e=t}while(e!==null);_t===0&&(_t=5)}function $s(t,e,n){var r=ze,s=Bn.transition;try{Bn.transition=null,ze=1,FT(t,e,n,r)}finally{Bn.transition=s,ze=r}return null}function FT(t,e,n,r){do Qi();while(rs!==null);if(Le&6)throw Error(q(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(q(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(x4(t,i),t===It&&(gt=It=null,Ft=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||yc||(yc=!0,J_(nu,function(){return Qi(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Bn.transition,Bn.transition=null;var o=ze;ze=1;var a=Le;Le|=4,Wm.current=null,DT(t,n),$_(n,t),iT(Xf),su=!!Yf,Xf=Yf=null,t.current=n,jT(n),u4(),Le=a,ze=o,Bn.transition=i}else t.current=n;if(yc&&(yc=!1,rs=t,wu=s),i=t.pendingLanes,i===0&&(ds=null),f4(n.stateNode),wn(t,ut()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(xu)throw xu=!1,t=yp,yp=null,t;return wu&1&&t.tag!==0&&Qi(),i=t.pendingLanes,i&1?t===vp?Ea++:(Ea=0,vp=t):Ea=0,As(),null}function Qi(){if(rs!==null){var t=kw(wu),e=Bn.transition,n=ze;try{if(Bn.transition=null,ze=16>t?16:t,rs===null)var r=!1;else{if(t=rs,rs=null,wu=0,Le&6)throw Error(q(331));var s=Le;for(Le|=4,ne=t.current;ne!==null;){var i=ne,o=i.child;if(ne.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(ne=u;ne!==null;){var h=ne;switch(h.tag){case 0:case 11:case 15:wa(8,h,i)}var f=h.child;if(f!==null)f.return=h,ne=f;else for(;ne!==null;){h=ne;var p=h.sibling,y=h.return;if(B_(h),h===u){ne=null;break}if(p!==null){p.return=y,ne=p;break}ne=y}}}var b=i.alternate;if(b!==null){var I=b.child;if(I!==null){b.child=null;do{var N=I.sibling;I.sibling=null,I=N}while(I!==null)}}ne=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ne=o;else e:for(;ne!==null;){if(i=ne,i.flags&2048)switch(i.tag){case 0:case 11:case 15:wa(9,i,i.return)}var E=i.sibling;if(E!==null){E.return=i.return,ne=E;break e}ne=i.return}}var w=t.current;for(ne=w;ne!==null;){o=ne;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,ne=_;else e:for(o=w;ne!==null;){if(a=ne,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ad(9,a)}}catch(O){lt(a,a.return,O)}if(a===o){ne=null;break e}var P=a.sibling;if(P!==null){P.return=a.return,ne=P;break e}ne=a.return}}if(Le=s,As(),ur&&typeof ur.onPostCommitFiberRoot=="function")try{ur.onPostCommitFiberRoot(Zu,t)}catch{}r=!0}return r}finally{ze=n,Bn.transition=e}}return!1}function hv(t,e,n){e=io(n,e),e=k_(t,e,1),t=us(t,e,1),e=an(),t!==null&&(pl(t,1,e),wn(t,e))}function lt(t,e,n){if(t.tag===3)hv(t,t,n);else for(;e!==null;){if(e.tag===3){hv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ds===null||!ds.has(r))){t=io(n,t),t=A_(e,t,1),e=us(e,t,1),t=an(),e!==null&&(pl(e,1,t),wn(e,t));break}}e=e.return}}function BT(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=an(),t.pingedLanes|=t.suspendedLanes&n,It===t&&(Ft&n)===n&&(_t===4||_t===3&&(Ft&130023424)===Ft&&500>ut()-qm?Xs(t,0):Gm|=n),wn(t,e)}function Y_(t,e){e===0&&(t.mode&1?(e=ac,ac<<=1,!(ac&130023424)&&(ac=4194304)):e=1);var n=an();t=Mr(t,e),t!==null&&(pl(t,e,n),wn(t,n))}function UT(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Y_(t,n)}function zT(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(q(314))}r!==null&&r.delete(e),Y_(t,n)}var X_;X_=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||vn.current)yn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return yn=!1,kT(t,e,n);yn=!!(t.flags&131072)}else yn=!1,tt&&e.flags&1048576&&t_(e,du,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Vc(t,e),t=e.pendingProps;var s=to(e,en.current);Ki(e,n),s=Bm(null,e,r,t,s,n);var i=Um();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,xn(r)?(i=!0,cu(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Om(e),s.updater=od,e.stateNode=s,s._reactInternals=e,op(e,r,t,n),e=cp(null,e,r,!0,i,n)):(e.tag=0,tt&&i&&Nm(e),on(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Vc(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=HT(r),t=Qn(r,t),s){case 0:e=lp(null,e,r,t,n);break e;case 1:e=nv(null,e,r,t,n);break e;case 11:e=ev(null,e,r,t,n);break e;case 14:e=tv(null,e,r,Qn(r.type,t),n);break e}throw Error(q(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Qn(r,s),lp(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Qn(r,s),nv(t,e,r,s,n);case 3:e:{if(j_(e),t===null)throw Error(q(387));r=e.pendingProps,i=e.memoizedState,s=i.element,a_(t,e),pu(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=io(Error(q(423)),e),e=rv(t,e,r,n,s);break e}else if(r!==s){s=io(Error(q(424)),e),e=rv(t,e,r,n,s);break e}else for(In=cs(e.stateNode.containerInfo.firstChild),Cn=e,tt=!0,Xn=null,n=i_(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(no(),r===s){e=Vr(t,e,n);break e}on(t,e,r,n)}e=e.child}return e;case 5:return l_(e),t===null&&rp(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Jf(r,s)?o=null:i!==null&&Jf(r,i)&&(e.flags|=32),D_(t,e),on(t,e,o,n),e.child;case 6:return t===null&&rp(e),null;case 13:return O_(t,e,n);case 4:return Lm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ro(e,null,r,n):on(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Qn(r,s),ev(t,e,r,s,n);case 7:return on(t,e,e.pendingProps,n),e.child;case 8:return on(t,e,e.pendingProps.children,n),e.child;case 12:return on(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Ke(hu,r._currentValue),r._currentValue=o,i!==null)if(nr(i.value,o)){if(i.children===s.children&&!vn.current){e=Vr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Dr(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),sp(i.return,n,e),a.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(q(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),sp(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}on(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Ki(e,n),s=zn(s),r=r(s),e.flags|=1,on(t,e,r,n),e.child;case 14:return r=e.type,s=Qn(r,e.pendingProps),s=Qn(r.type,s),tv(t,e,r,s,n);case 15:return R_(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Qn(r,s),Vc(t,e),e.tag=1,xn(r)?(t=!0,cu(e)):t=!1,Ki(e,n),N_(e,r,s),op(e,r,s,n),cp(null,e,r,!0,t,n);case 19:return L_(t,e,n);case 22:return P_(t,e,n)}throw Error(q(156,e.tag))};function J_(t,e){return Sw(t,e)}function $T(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(t,e,n,r){return new $T(t,e,n,r)}function Xm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function HT(t){if(typeof t=="function")return Xm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===gm)return 11;if(t===ym)return 14}return 2}function fs(t,e){var n=t.alternate;return n===null?(n=Vn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Uc(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Xm(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Di:return Js(n.children,s,i,e);case mm:o=8,s|=8;break;case Af:return t=Vn(12,n,e,s|2),t.elementType=Af,t.lanes=i,t;case Rf:return t=Vn(13,n,e,s),t.elementType=Rf,t.lanes=i,t;case Pf:return t=Vn(19,n,e,s),t.elementType=Pf,t.lanes=i,t;case lw:return cd(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ow:o=10;break e;case aw:o=9;break e;case gm:o=11;break e;case ym:o=14;break e;case Qr:o=16,r=null;break e}throw Error(q(130,t==null?t:typeof t,""))}return e=Vn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Js(t,e,n,r){return t=Vn(7,t,r,e),t.lanes=n,t}function cd(t,e,n,r){return t=Vn(22,t,r,e),t.elementType=lw,t.lanes=n,t.stateNode={isHidden:!1},t}function Kh(t,e,n){return t=Vn(6,t,null,e),t.lanes=n,t}function Qh(t,e,n){return e=Vn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function WT(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kh(0),this.expirationTimes=kh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kh(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Jm(t,e,n,r,s,i,o,a,c){return t=new WT(t,e,n,a,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Vn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Om(i),t}function GT(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Z_(t){if(!t)return bs;t=t._reactInternals;e:{if(pi(t)!==t||t.tag!==1)throw Error(q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(xn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(q(171))}if(t.tag===1){var n=t.type;if(xn(n))return Zw(t,n,e)}return e}function e2(t,e,n,r,s,i,o,a,c){return t=Jm(n,r,!0,t,s,i,o,a,c),t.context=Z_(null),n=t.current,r=an(),s=hs(n),i=Dr(r,s),i.callback=e??null,us(n,i,s),t.current.lanes=s,pl(t,s,r),wn(t,r),t}function ud(t,e,n,r){var s=e.current,i=an(),o=hs(s);return n=Z_(n),e.context===null?e.context=n:e.pendingContext=n,e=Dr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=us(s,e,o),t!==null&&(er(t,s,o,i),Oc(t,s,o)),o}function Eu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function fv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Zm(t,e){fv(t,e),(t=t.alternate)&&fv(t,e)}function qT(){return null}var t2=typeof reportError=="function"?reportError:function(t){console.error(t)};function eg(t){this._internalRoot=t}dd.prototype.render=eg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(q(409));ud(t,e,null,null)};dd.prototype.unmount=eg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ii(function(){ud(null,t,null,null)}),e[Lr]=null}};function dd(t){this._internalRoot=t}dd.prototype.unstable_scheduleHydration=function(t){if(t){var e=Pw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Xr.length&&e!==0&&e<Xr[n].priority;n++);Xr.splice(n,0,t),n===0&&jw(t)}};function tg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function hd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function pv(){}function KT(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Eu(o);i.call(u)}}var o=e2(e,r,t,0,null,!1,!1,"",pv);return t._reactRootContainer=o,t[Lr]=o.current,Va(t.nodeType===8?t.parentNode:t),ii(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=Eu(c);a.call(u)}}var c=Jm(t,0,!1,null,null,!1,!1,"",pv);return t._reactRootContainer=c,t[Lr]=c.current,Va(t.nodeType===8?t.parentNode:t),ii(function(){ud(e,c,n,r)}),c}function fd(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var c=Eu(o);a.call(c)}}ud(e,o,t,s)}else o=KT(n,e,t,s,r);return Eu(o)}Aw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=la(e.pendingLanes);n!==0&&(wm(e,n|1),wn(e,ut()),!(Le&6)&&(oo=ut()+500,As()))}break;case 13:ii(function(){var r=Mr(t,1);if(r!==null){var s=an();er(r,t,1,s)}}),Zm(t,1)}};_m=function(t){if(t.tag===13){var e=Mr(t,134217728);if(e!==null){var n=an();er(e,t,134217728,n)}Zm(t,134217728)}};Rw=function(t){if(t.tag===13){var e=hs(t),n=Mr(t,e);if(n!==null){var r=an();er(n,t,e,r)}Zm(t,e)}};Pw=function(){return ze};Dw=function(t,e){var n=ze;try{return ze=t,e()}finally{ze=n}};zf=function(t,e,n){switch(e){case"input":if(Of(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=rd(r);if(!s)throw Error(q(90));uw(r),Of(r,s)}}}break;case"textarea":hw(t,n);break;case"select":e=n.value,e!=null&&Hi(t,!!n.multiple,e,!1)}};xw=Km;ww=ii;var QT={usingClientEntryPoint:!1,Events:[gl,Mi,rd,yw,vw,Km]},ta={findFiberByHostInstance:Gs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},YT={bundleType:ta.bundleType,version:ta.version,rendererPackageName:ta.rendererPackageName,rendererConfig:ta.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:zr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=bw(t),t===null?null:t.stateNode},findFiberByHostInstance:ta.findFiberByHostInstance||qT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vc.isDisabled&&vc.supportsFiber)try{Zu=vc.inject(YT),ur=vc}catch{}}Rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QT;Rn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tg(e))throw Error(q(200));return GT(t,e,null,n)};Rn.createRoot=function(t,e){if(!tg(t))throw Error(q(299));var n=!1,r="",s=t2;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Jm(t,1,!1,null,null,n,!1,r,s),t[Lr]=e.current,Va(t.nodeType===8?t.parentNode:t),new eg(e)};Rn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(q(188)):(t=Object.keys(t).join(","),Error(q(268,t)));return t=bw(e),t=t===null?null:t.stateNode,t};Rn.flushSync=function(t){return ii(t)};Rn.hydrate=function(t,e,n){if(!hd(e))throw Error(q(200));return fd(null,t,e,!0,n)};Rn.hydrateRoot=function(t,e,n){if(!tg(t))throw Error(q(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=t2;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=e2(e,null,t,1,n??null,s,!1,i,o),t[Lr]=e.current,Va(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new dd(e)};Rn.render=function(t,e,n){if(!hd(e))throw Error(q(200));return fd(null,t,e,!1,n)};Rn.unmountComponentAtNode=function(t){if(!hd(t))throw Error(q(40));return t._reactRootContainer?(ii(function(){fd(null,null,t,!1,function(){t._reactRootContainer=null,t[Lr]=null})}),!0):!1};Rn.unstable_batchedUpdates=Km;Rn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!hd(n))throw Error(q(200));if(t==null||t._reactInternals===void 0)throw Error(q(38));return fd(t,e,n,!1,r)};Rn.version="18.3.1-next-f1338f8080-20240426";function n2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n2)}catch(t){console.error(t)}}n2(),nw.exports=Rn;var vl=nw.exports;const XT=am(vl);var mv=vl;Nf.createRoot=mv.createRoot,Nf.hydrateRoot=mv.hydrateRoot;/**
 * @remix-run/router v1.17.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qa(){return qa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qa.apply(this,arguments)}var ss;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ss||(ss={}));const gv="popstate";function JT(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return _p("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:bu(s)}return eC(e,n,null,t)}function vt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function r2(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ZT(){return Math.random().toString(36).substr(2,8)}function yv(t,e){return{usr:t.state,key:t.key,idx:e}}function _p(t,e,n,r){return n===void 0&&(n=null),qa({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Io(e):e,{state:n,key:e&&e.key||r||ZT()})}function bu(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Io(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function eC(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=ss.Pop,c=null,u=h();u==null&&(u=0,o.replaceState(qa({},o.state,{idx:u}),""));function h(){return(o.state||{idx:null}).idx}function f(){a=ss.Pop;let N=h(),E=N==null?null:N-u;u=N,c&&c({action:a,location:I.location,delta:E})}function p(N,E){a=ss.Push;let w=_p(I.location,N,E);u=h()+1;let _=yv(w,u),P=I.createHref(w);try{o.pushState(_,"",P)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;s.location.assign(P)}i&&c&&c({action:a,location:I.location,delta:1})}function y(N,E){a=ss.Replace;let w=_p(I.location,N,E);u=h();let _=yv(w,u),P=I.createHref(w);o.replaceState(_,"",P),i&&c&&c({action:a,location:I.location,delta:0})}function b(N){let E=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof N=="string"?N:bu(N);return w=w.replace(/ $/,"%20"),vt(E,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,E)}let I={get action(){return a},get location(){return t(s,o)},listen(N){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(gv,f),c=N,()=>{s.removeEventListener(gv,f),c=null}},createHref(N){return e(s,N)},createURL:b,encodeLocation(N){let E=b(N);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:p,replace:y,go(N){return o.go(N)}};return I}var vv;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(vv||(vv={}));function tC(t,e,n){return n===void 0&&(n="/"),nC(t,e,n,!1)}function nC(t,e,n,r){let s=typeof e=="string"?Io(e):e,i=ng(s.pathname||"/",n);if(i==null)return null;let o=s2(t);rC(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let u=pC(i);a=hC(o[c],u,r)}return a}function s2(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let c={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(vt(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=ps([r,c.relativePath]),h=n.concat(c);i.children&&i.children.length>0&&(vt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),s2(i.children,e,h,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:uC(u,i.index),routesMeta:h})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let c of i2(i.path))s(i,o,c)}),e}function i2(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=i2(r.join("/")),a=[];return a.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&a.push(...o),a.map(c=>t.startsWith("/")&&c===""?"/":c)}function rC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:dC(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const sC=/^:[\w-]+$/,iC=3,oC=2,aC=1,lC=10,cC=-2,xv=t=>t==="*";function uC(t,e){let n=t.split("/"),r=n.length;return n.some(xv)&&(r+=cC),e&&(r+=oC),n.filter(s=>!xv(s)).reduce((s,i)=>s+(sC.test(i)?iC:i===""?aC:lC),r)}function dC(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function hC(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let c=r[a],u=a===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=wv({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),p=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=wv({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:ps([i,f.pathname]),pathnameBase:vC(ps([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=ps([i,f.pathnameBase]))}return o}function wv(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=fC(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,h,f)=>{let{paramName:p,isOptional:y}=h;if(p==="*"){let I=a[f]||"";o=i.slice(0,i.length-I.length).replace(/(.)\/+$/,"$1")}const b=a[f];return y&&!b?u[p]=void 0:u[p]=(b||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function fC(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),r2(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function pC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return r2(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ng(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function mC(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Io(t):t;return{pathname:n?n.startsWith("/")?n:gC(n,e):e,search:xC(r),hash:wC(s)}}function gC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Yh(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function yC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function o2(t,e){let n=yC(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function a2(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Io(t):(s=qa({},t),vt(!s.pathname||!s.pathname.includes("?"),Yh("?","pathname","search",s)),vt(!s.pathname||!s.pathname.includes("#"),Yh("#","pathname","hash",s)),vt(!s.search||!s.search.includes("#"),Yh("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}a=f>=0?e[f]:"/"}let c=mC(s,a),u=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}const ps=t=>t.join("/").replace(/\/\/+/g,"/"),vC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),xC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,wC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function _C(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const l2=["post","put","patch","delete"];new Set(l2);const EC=["get",...l2];new Set(EC);/**
 * React Router v6.24.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ka(){return Ka=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ka.apply(this,arguments)}const rg=v.createContext(null),bC=v.createContext(null),mi=v.createContext(null),pd=v.createContext(null),Rs=v.createContext({outlet:null,matches:[],isDataRoute:!1}),c2=v.createContext(null);function IC(t,e){let{relative:n}=e===void 0?{}:e;xl()||vt(!1);let{basename:r,navigator:s}=v.useContext(mi),{hash:i,pathname:o,search:a}=d2(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:ps([r,o])),s.createHref({pathname:c,search:a,hash:i})}function xl(){return v.useContext(pd)!=null}function md(){return xl()||vt(!1),v.useContext(pd).location}function u2(t){v.useContext(mi).static||v.useLayoutEffect(t)}function gi(){let{isDataRoute:t}=v.useContext(Rs);return t?VC():SC()}function SC(){xl()||vt(!1);let t=v.useContext(rg),{basename:e,future:n,navigator:r}=v.useContext(mi),{matches:s}=v.useContext(Rs),{pathname:i}=md(),o=JSON.stringify(o2(s,n.v7_relativeSplatPath)),a=v.useRef(!1);return u2(()=>{a.current=!0}),v.useCallback(function(u,h){if(h===void 0&&(h={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let f=a2(u,JSON.parse(o),i,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:ps([e,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[e,r,o,i,t])}function TC(){let{matches:t}=v.useContext(Rs),e=t[t.length-1];return e?e.params:{}}function d2(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=v.useContext(mi),{matches:s}=v.useContext(Rs),{pathname:i}=md(),o=JSON.stringify(o2(s,r.v7_relativeSplatPath));return v.useMemo(()=>a2(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function CC(t,e){return NC(t,e)}function NC(t,e,n,r){xl()||vt(!1);let{navigator:s}=v.useContext(mi),{matches:i}=v.useContext(Rs),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=md(),h;if(e){var f;let N=typeof e=="string"?Io(e):e;c==="/"||(f=N.pathname)!=null&&f.startsWith(c)||vt(!1),h=N}else h=u;let p=h.pathname||"/",y=p;if(c!=="/"){let N=c.replace(/^\//,"").split("/");y="/"+p.replace(/^\//,"").split("/").slice(N.length).join("/")}let b=tC(t,{pathname:y}),I=DC(b&&b.map(N=>Object.assign({},N,{params:Object.assign({},a,N.params),pathname:ps([c,s.encodeLocation?s.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?c:ps([c,s.encodeLocation?s.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),i,n,r);return e&&I?v.createElement(pd.Provider,{value:{location:Ka({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:ss.Pop}},I):I}function kC(){let t=MC(),e=_C(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},e),n?v.createElement("pre",{style:s},n):null,null)}const AC=v.createElement(kC,null);class RC extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?v.createElement(Rs.Provider,{value:this.props.routeContext},v.createElement(c2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function PC(t){let{routeContext:e,match:n,children:r}=t,s=v.useContext(rg);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement(Rs.Provider,{value:e},r)}function DC(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let h=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);h>=0||vt(!1),o=o.slice(0,Math.min(o.length,h+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=h),f.route.id){let{loaderData:p,errors:y}=n,b=f.route.loader&&p[f.route.id]===void 0&&(!y||y[f.route.id]===void 0);if(f.route.lazy||b){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((h,f,p)=>{let y,b=!1,I=null,N=null;n&&(y=a&&f.route.id?a[f.route.id]:void 0,I=f.route.errorElement||AC,c&&(u<0&&p===0?(b=!0,N=null):u===p&&(b=!0,N=f.route.hydrateFallbackElement||null)));let E=e.concat(o.slice(0,p+1)),w=()=>{let _;return y?_=I:b?_=N:f.route.Component?_=v.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=h,v.createElement(PC,{match:f,routeContext:{outlet:h,matches:E,isDataRoute:n!=null},children:_})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?v.createElement(RC,{location:n.location,revalidation:n.revalidation,component:I,error:y,children:w(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):w()},null)}var h2=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(h2||{}),Iu=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Iu||{});function jC(t){let e=v.useContext(rg);return e||vt(!1),e}function OC(t){let e=v.useContext(bC);return e||vt(!1),e}function LC(t){let e=v.useContext(Rs);return e||vt(!1),e}function f2(t){let e=LC(),n=e.matches[e.matches.length-1];return n.route.id||vt(!1),n.route.id}function MC(){var t;let e=v.useContext(c2),n=OC(Iu.UseRouteError),r=f2(Iu.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function VC(){let{router:t}=jC(h2.UseNavigateStable),e=f2(Iu.UseNavigateStable),n=v.useRef(!1);return u2(()=>{n.current=!0}),v.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Ka({fromRouteId:e},i)))},[t,e])}function Ni(t){vt(!1)}function FC(t){let{basename:e="/",children:n=null,location:r,navigationType:s=ss.Pop,navigator:i,static:o=!1,future:a}=t;xl()&&vt(!1);let c=e.replace(/^\/*/,"/"),u=v.useMemo(()=>({basename:c,navigator:i,static:o,future:Ka({v7_relativeSplatPath:!1},a)}),[c,a,i,o]);typeof r=="string"&&(r=Io(r));let{pathname:h="/",search:f="",hash:p="",state:y=null,key:b="default"}=r,I=v.useMemo(()=>{let N=ng(h,c);return N==null?null:{location:{pathname:N,search:f,hash:p,state:y,key:b},navigationType:s}},[c,h,f,p,y,b,s]);return I==null?null:v.createElement(mi.Provider,{value:u},v.createElement(pd.Provider,{children:n,value:I}))}function BC(t){let{children:e,location:n}=t;return CC(Ep(e),n)}new Promise(()=>{});function Ep(t,e){e===void 0&&(e=[]);let n=[];return v.Children.forEach(t,(r,s)=>{if(!v.isValidElement(r))return;let i=[...e,s];if(r.type===v.Fragment){n.push.apply(n,Ep(r.props.children,i));return}r.type!==Ni&&vt(!1),!r.props.index||!r.props.children||vt(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Ep(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.24.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bp(){return bp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bp.apply(this,arguments)}function UC(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function zC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function $C(t,e){return t.button===0&&(!e||e==="_self")&&!zC(t)}const HC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],WC="6";try{window.__reactRouterVersion=WC}catch{}const GC="startTransition",_v=BS[GC];function qC(t){let{basename:e,children:n,future:r,window:s}=t,i=v.useRef();i.current==null&&(i.current=JT({window:s,v5Compat:!0}));let o=i.current,[a,c]=v.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},h=v.useCallback(f=>{u&&_v?_v(()=>c(f)):c(f)},[c,u]);return v.useLayoutEffect(()=>o.listen(h),[o,h]),v.createElement(FC,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const KC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",QC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jt=v.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:c,to:u,preventScrollReset:h,unstable_viewTransition:f}=e,p=UC(e,HC),{basename:y}=v.useContext(mi),b,I=!1;if(typeof u=="string"&&QC.test(u)&&(b=u,KC))try{let _=new URL(window.location.href),P=u.startsWith("//")?new URL(_.protocol+u):new URL(u),O=ng(P.pathname,y);P.origin===_.origin&&O!=null?u=O+P.search+P.hash:I=!0}catch{}let N=IC(u,{relative:s}),E=YC(u,{replace:o,state:a,target:c,preventScrollReset:h,relative:s,unstable_viewTransition:f});function w(_){r&&r(_),_.defaultPrevented||E(_)}return v.createElement("a",bp({},p,{href:b||N,onClick:I||i?r:w,ref:n,target:c}))});var Ev;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Ev||(Ev={}));var bv;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(bv||(bv={}));function YC(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,c=gi(),u=md(),h=d2(t,{relative:o});return v.useCallback(f=>{if($C(f,n)){f.preventDefault();let p=r!==void 0?r:bu(u)===bu(h);c(t,{replace:p,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:a})}},[u,c,h,r,s,n,t,i,o,a])}var p2={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Iv=Te.createContext&&Te.createContext(p2),XC=["attr","size","title"];function JC(t,e){if(t==null)return{};var n=ZC(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ZC(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Su(){return Su=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Su.apply(this,arguments)}function Sv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Tu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Sv(Object(n),!0).forEach(function(r){eN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sv(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eN(t,e,n){return e=tN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tN(t){var e=nN(t,"string");return typeof e=="symbol"?e:e+""}function nN(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function m2(t){return t&&t.map((e,n)=>Te.createElement(e.tag,Tu({key:n},e.attr),m2(e.child)))}function ie(t){return e=>Te.createElement(rN,Su({attr:Tu({},t.attr)},e),m2(t.child))}function rN(t){var e=n=>{var{attr:r,size:s,title:i}=t,o=JC(t,XC),a=s||n.size||"1em",c;return n.className&&(c=n.className),t.className&&(c=(c?c+" ":"")+t.className),Te.createElement("svg",Su({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:c,style:Tu(Tu({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),i&&Te.createElement("title",null,i),t.children)};return Iv!==void 0?Te.createElement(Iv.Consumer,null,n=>e(n)):e(p2)}function sN(t){return ie({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Square_Plus"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M18.438,20.938H5.563a2.5,2.5,0,0,1-2.5-2.5V5.564a2.5,2.5,0,0,1,2.5-2.5H18.438a2.5,2.5,0,0,1,2.5,2.5V18.438A2.5,2.5,0,0,1,18.438,20.938ZM5.563,4.064a1.5,1.5,0,0,0-1.5,1.5V18.438a1.5,1.5,0,0,0,1.5,1.5H18.438a1.5,1.5,0,0,0,1.5-1.5V5.564a1.5,1.5,0,0,0-1.5-1.5Z"},child:[]},{tag:"path",attr:{d:"M15,12.5H12.5V15a.5.5,0,0,1-1,0V12.5H9a.5.5,0,0,1,0-1h2.5V9a.5.5,0,0,1,1,0v2.5H15A.5.5,0,0,1,15,12.5Z"},child:[]}]}]}]})(t)}function iN(t){return ie({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"square",strokeMiterlimit:"10",strokeWidth:"48",d:"M328 112 184 256l144 144"},child:[]}]})(t)}function gd(t){return ie({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M400 145.49 366.51 112 256 222.51 145.49 112 112 145.49 222.51 256 112 366.51 145.49 400 256 289.49 366.51 400 400 366.51 289.49 256 400 145.49z"},child:[]}]})(t)}function oN(t){return ie({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m289.94 256 95-95A24 24 0 0 0 351 127l-95 95-95-95a24 24 0 0 0-34 34l95 95-95 95a24 24 0 1 0 34 34l95-95 95 95a24 24 0 0 0 34-34z"},child:[]}]})(t)}function aN(t){return ie({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M336 256c-20.56 0-40.44-9.18-56-25.84-15.13-16.25-24.37-37.92-26-61-1.74-24.62 5.77-47.26 21.14-63.76S312 80 336 80c23.83 0 45.38 9.06 60.7 25.52 15.47 16.62 23 39.22 21.26 63.63-1.67 23.11-10.9 44.77-26 61C376.44 246.82 356.57 256 336 256zm66-88zm65.83 264H204.18a27.71 27.71 0 0 1-22-10.67 30.22 30.22 0 0 1-5.26-25.79c8.42-33.81 29.28-61.85 60.32-81.08C264.79 297.4 299.86 288 336 288c36.85 0 71 9 98.71 26.05 31.11 19.13 52 47.33 60.38 81.55a30.27 30.27 0 0 1-5.32 25.78A27.68 27.68 0 0 1 467.83 432zM147 260c-35.19 0-66.13-32.72-69-72.93-1.42-20.6 5-39.65 18-53.62 12.86-13.83 31-21.45 51-21.45s38 7.66 50.93 21.57c13.1 14.08 19.5 33.09 18 53.52-2.87 40.2-33.8 72.91-68.93 72.91zm65.66 31.45c-17.59-8.6-40.42-12.9-65.65-12.9-29.46 0-58.07 7.68-80.57 21.62-25.51 15.83-42.67 38.88-49.6 66.71a27.39 27.39 0 0 0 4.79 23.36A25.32 25.32 0 0 0 41.72 400h111a8 8 0 0 0 7.87-6.57c.11-.63.25-1.26.41-1.88 8.48-34.06 28.35-62.84 57.71-83.82a8 8 0 0 0-.63-13.39c-1.57-.92-3.37-1.89-5.42-2.89z"},child:[]}]})(t)}function Tv(t){return ie({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M376 144c-3.92 52.87-44 96-88 96s-84.15-43.12-88-96c-4-55 35-96 88-96s92 42 88 96z"},child:[]},{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M288 304c-87 0-175.3 48-191.64 138.6-2 10.92 4.21 21.4 15.65 21.4H464c11.44 0 17.62-10.48 15.65-21.4C463.3 352 375 304 288 304z"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M144 232H32"},child:[]}]})(t)}function Cv(t){return ie({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 428 339.92 303.9a160.48 160.48 0 0 0 30.72-94.58C370.64 120.37 298.27 48 209.32 48S48 120.37 48 209.32s72.37 161.32 161.32 161.32a160.48 160.48 0 0 0 94.58-30.72L428 464zM209.32 319.69a110.38 110.38 0 1 1 110.37-110.37 110.5 110.5 0 0 1-110.37 110.37z"},child:[]}]})(t)}function lN(t){return ie({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M456.69 421.39 362.6 327.3a173.81 173.81 0 0 0 34.84-104.58C397.44 126.38 319.06 48 222.72 48S48 126.38 48 222.72s78.38 174.72 174.72 174.72A173.81 173.81 0 0 0 327.3 362.6l94.09 94.09a25 25 0 0 0 35.3-35.3zM97.92 222.72a124.8 124.8 0 1 1 124.8 124.8 124.95 124.95 0 0 1-124.8-124.8z"},child:[]}]})(t)}var Nv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},cN=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},y2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,c=s+2<t.length,u=c?t[s+2]:0,h=i>>2,f=(i&3)<<4|a>>4;let p=(a&15)<<2|u>>6,y=u&63;c||(y=64,o||(p=64)),r.push(n[h],n[f],n[p],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(g2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):cN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||f==null)throw new uN;const p=i<<2|a>>4;if(r.push(p),u!==64){const y=a<<4&240|u>>2;if(r.push(y),f!==64){const b=u<<6&192|f;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class uN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dN=function(t){const e=g2(t);return y2.encodeByteArray(e,!0)},Cu=function(t){return dN(t).replace(/\./g,"")},v2=function(t){try{return y2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN=()=>hN().__FIREBASE_DEFAULTS__,pN=()=>{if(typeof process>"u"||typeof Nv>"u")return;const t=Nv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},mN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&v2(t[1]);return e&&JSON.parse(e)},yd=()=>{try{return fN()||pN()||mN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},x2=t=>{var e,n;return(n=(e=yd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},gN=t=>{const e=x2(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},w2=()=>{var t;return(t=yd())===null||t===void 0?void 0:t.config},_2=t=>{var e;return(e=yd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vN(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Cu(JSON.stringify(n)),Cu(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zt())}function wN(){var t;const e=(t=yd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _N(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function EN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bN(){const t=zt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function IN(){return!wN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function SN(){try{return typeof indexedDB=="object"}catch{return!1}}function TN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN="FirebaseError";class $r extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=CN,Object.setPrototypeOf(this,$r.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wl.prototype.create)}}class wl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?NN(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new $r(s,a,r)}}function NN(t,e){return t.replace(kN,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const kN=/\{\$([^}]+)}/g;function AN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Nu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(kv(i)&&kv(o)){if(!Nu(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function kv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _l(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function RN(t,e){const n=new PN(t,e);return n.subscribe.bind(n)}class PN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");DN(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Xh),s.error===void 0&&(s.error=Xh),s.complete===void 0&&(s.complete=Xh);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function DN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Xh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(t){return t&&t._delegate?t._delegate:t}class oi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jN=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new yN;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(LN(e))try{this.getOrInitializeService({instanceIdentifier:Hs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Hs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Hs){return this.instances.has(e)}getOptions(e=Hs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ON(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Hs){return this.component?this.component.multipleInstances?e:Hs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function ON(t){return t===Hs?void 0:t}function LN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new jN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Re||(Re={}));const VN={debug:Re.DEBUG,verbose:Re.VERBOSE,info:Re.INFO,warn:Re.WARN,error:Re.ERROR,silent:Re.SILENT},FN=Re.INFO,BN={[Re.DEBUG]:"log",[Re.VERBOSE]:"log",[Re.INFO]:"info",[Re.WARN]:"warn",[Re.ERROR]:"error"},UN=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=BN[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class sg{constructor(e){this.name=e,this._logLevel=FN,this._logHandler=UN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?VN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Re.DEBUG,...e),this._logHandler(this,Re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Re.VERBOSE,...e),this._logHandler(this,Re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Re.INFO,...e),this._logHandler(this,Re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Re.WARN,...e),this._logHandler(this,Re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Re.ERROR,...e),this._logHandler(this,Re.ERROR,...e)}}const zN=(t,e)=>e.some(n=>t instanceof n);let Av,Rv;function $N(){return Av||(Av=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function HN(){return Rv||(Rv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const E2=new WeakMap,Ip=new WeakMap,b2=new WeakMap,Jh=new WeakMap,ig=new WeakMap;function WN(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(ms(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&E2.set(n,t)}).catch(()=>{}),ig.set(e,t),e}function GN(t){if(Ip.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Ip.set(t,e)}let Sp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ip.get(t);if(e==="objectStoreNames")return t.objectStoreNames||b2.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ms(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function qN(t){Sp=t(Sp)}function KN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Zh(this),e,...n);return b2.set(r,e.sort?e.sort():[e]),ms(r)}:HN().includes(t)?function(...e){return t.apply(Zh(this),e),ms(E2.get(this))}:function(...e){return ms(t.apply(Zh(this),e))}}function QN(t){return typeof t=="function"?KN(t):(t instanceof IDBTransaction&&GN(t),zN(t,$N())?new Proxy(t,Sp):t)}function ms(t){if(t instanceof IDBRequest)return WN(t);if(Jh.has(t))return Jh.get(t);const e=QN(t);return e!==t&&(Jh.set(t,e),ig.set(e,t)),e}const Zh=t=>ig.get(t);function YN(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=ms(o);return r&&o.addEventListener("upgradeneeded",c=>{r(ms(o.result),c.oldVersion,c.newVersion,ms(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const XN=["get","getKey","getAll","getAllKeys","count"],JN=["put","add","delete","clear"],ef=new Map;function Pv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ef.get(e))return ef.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=JN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||XN.includes(n)))return;const i=async function(o,...a){const c=this.transaction(o,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&c.done]))[0]};return ef.set(e,i),i}qN(t=>({...t,get:(e,n,r)=>Pv(e,n)||t.get(e,n,r),has:(e,n)=>!!Pv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ek(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function ek(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Tp="@firebase/app",Dv="0.10.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ai=new sg("@firebase/app"),tk="@firebase/app-compat",nk="@firebase/analytics-compat",rk="@firebase/analytics",sk="@firebase/app-check-compat",ik="@firebase/app-check",ok="@firebase/auth",ak="@firebase/auth-compat",lk="@firebase/database",ck="@firebase/database-compat",uk="@firebase/functions",dk="@firebase/functions-compat",hk="@firebase/installations",fk="@firebase/installations-compat",pk="@firebase/messaging",mk="@firebase/messaging-compat",gk="@firebase/performance",yk="@firebase/performance-compat",vk="@firebase/remote-config",xk="@firebase/remote-config-compat",wk="@firebase/storage",_k="@firebase/storage-compat",Ek="@firebase/firestore",bk="@firebase/vertexai-preview",Ik="@firebase/firestore-compat",Sk="firebase",Tk="10.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cp="[DEFAULT]",Ck={[Tp]:"fire-core",[tk]:"fire-core-compat",[rk]:"fire-analytics",[nk]:"fire-analytics-compat",[ik]:"fire-app-check",[sk]:"fire-app-check-compat",[ok]:"fire-auth",[ak]:"fire-auth-compat",[lk]:"fire-rtdb",[ck]:"fire-rtdb-compat",[uk]:"fire-fn",[dk]:"fire-fn-compat",[hk]:"fire-iid",[fk]:"fire-iid-compat",[pk]:"fire-fcm",[mk]:"fire-fcm-compat",[gk]:"fire-perf",[yk]:"fire-perf-compat",[vk]:"fire-rc",[xk]:"fire-rc-compat",[wk]:"fire-gcs",[_k]:"fire-gcs-compat",[Ek]:"fire-fst",[Ik]:"fire-fst-compat",[bk]:"fire-vertex","fire-js":"fire-js",[Sk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ku=new Map,Nk=new Map,Np=new Map;function jv(t,e){try{t.container.addComponent(e)}catch(n){ai.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ao(t){const e=t.name;if(Np.has(e))return ai.debug(`There were multiple attempts to register component ${e}.`),!1;Np.set(e,t);for(const n of ku.values())jv(n,t);for(const n of Nk.values())jv(n,t);return!0}function og(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function kr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gs=new wl("app","Firebase",kk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new oi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So=Tk;function I2(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Cp,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw gs.create("bad-app-name",{appName:String(s)});if(n||(n=w2()),!n)throw gs.create("no-options");const i=ku.get(s);if(i){if(Nu(n,i.options)&&Nu(r,i.config))return i;throw gs.create("duplicate-app",{appName:s})}const o=new MN(s);for(const c of Np.values())o.addComponent(c);const a=new Ak(n,r,o);return ku.set(s,a),a}function S2(t=Cp){const e=ku.get(t);if(!e&&t===Cp&&w2())return I2();if(!e)throw gs.create("no-app",{appName:t});return e}function ys(t,e,n){var r;let s=(r=Ck[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ai.warn(a.join(" "));return}ao(new oi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rk="firebase-heartbeat-database",Pk=1,Qa="firebase-heartbeat-store";let tf=null;function T2(){return tf||(tf=YN(Rk,Pk,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Qa)}catch(n){console.warn(n)}}}}).catch(t=>{throw gs.create("idb-open",{originalErrorMessage:t.message})})),tf}async function Dk(t){try{const n=(await T2()).transaction(Qa),r=await n.objectStore(Qa).get(C2(t));return await n.done,r}catch(e){if(e instanceof $r)ai.warn(e.message);else{const n=gs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ai.warn(n.message)}}}async function Ov(t,e){try{const r=(await T2()).transaction(Qa,"readwrite");await r.objectStore(Qa).put(e,C2(t)),await r.done}catch(n){if(n instanceof $r)ai.warn(n.message);else{const r=gs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ai.warn(r.message)}}}function C2(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jk=1024,Ok=30*24*60*60*1e3;class Lk{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Vk(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Lv();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=Ok}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Lv(),{heartbeatsToSend:r,unsentEntries:s}=Mk(this._heartbeatsCache.heartbeats),i=Cu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Lv(){return new Date().toISOString().substring(0,10)}function Mk(t,e=jk){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Mv(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Mv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Vk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return SN()?TN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Dk(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Ov(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Ov(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Mv(t){return Cu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fk(t){ao(new oi("platform-logger",e=>new ZN(e),"PRIVATE")),ao(new oi("heartbeat",e=>new Lk(e),"PRIVATE")),ys(Tp,Dv,t),ys(Tp,Dv,"esm2017"),ys("fire-js","")}Fk("");var Bk="firebase",Uk="10.12.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ys(Bk,Uk,"app");const zk={apiKey:"AIzaSyCkAUr1B1eg9xW-q8FH3e9demjcg4wWnCE",authDomain:"zirello.firebaseapp.com",projectId:"zirello",storageBucket:"zirello.appspot.com",messagingSenderId:"194904528217",appId:"1:194904528217:web:9b00ed7131997a175ba848"},N2=I2(zk);var Vv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zs,k2;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,x){function C(){}C.prototype=x.prototype,T.D=x.prototype,T.prototype=new C,T.prototype.constructor=T,T.C=function(k,R,D){for(var A=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)A[pe-2]=arguments[pe];return x.prototype[R].apply(k,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(T,x,C){C||(C=0);var k=Array(16);if(typeof x=="string")for(var R=0;16>R;++R)k[R]=x.charCodeAt(C++)|x.charCodeAt(C++)<<8|x.charCodeAt(C++)<<16|x.charCodeAt(C++)<<24;else for(R=0;16>R;++R)k[R]=x[C++]|x[C++]<<8|x[C++]<<16|x[C++]<<24;x=T.g[0],C=T.g[1],R=T.g[2];var D=T.g[3],A=x+(D^C&(R^D))+k[0]+3614090360&4294967295;x=C+(A<<7&4294967295|A>>>25),A=D+(R^x&(C^R))+k[1]+3905402710&4294967295,D=x+(A<<12&4294967295|A>>>20),A=R+(C^D&(x^C))+k[2]+606105819&4294967295,R=D+(A<<17&4294967295|A>>>15),A=C+(x^R&(D^x))+k[3]+3250441966&4294967295,C=R+(A<<22&4294967295|A>>>10),A=x+(D^C&(R^D))+k[4]+4118548399&4294967295,x=C+(A<<7&4294967295|A>>>25),A=D+(R^x&(C^R))+k[5]+1200080426&4294967295,D=x+(A<<12&4294967295|A>>>20),A=R+(C^D&(x^C))+k[6]+2821735955&4294967295,R=D+(A<<17&4294967295|A>>>15),A=C+(x^R&(D^x))+k[7]+4249261313&4294967295,C=R+(A<<22&4294967295|A>>>10),A=x+(D^C&(R^D))+k[8]+1770035416&4294967295,x=C+(A<<7&4294967295|A>>>25),A=D+(R^x&(C^R))+k[9]+2336552879&4294967295,D=x+(A<<12&4294967295|A>>>20),A=R+(C^D&(x^C))+k[10]+4294925233&4294967295,R=D+(A<<17&4294967295|A>>>15),A=C+(x^R&(D^x))+k[11]+2304563134&4294967295,C=R+(A<<22&4294967295|A>>>10),A=x+(D^C&(R^D))+k[12]+1804603682&4294967295,x=C+(A<<7&4294967295|A>>>25),A=D+(R^x&(C^R))+k[13]+4254626195&4294967295,D=x+(A<<12&4294967295|A>>>20),A=R+(C^D&(x^C))+k[14]+2792965006&4294967295,R=D+(A<<17&4294967295|A>>>15),A=C+(x^R&(D^x))+k[15]+1236535329&4294967295,C=R+(A<<22&4294967295|A>>>10),A=x+(R^D&(C^R))+k[1]+4129170786&4294967295,x=C+(A<<5&4294967295|A>>>27),A=D+(C^R&(x^C))+k[6]+3225465664&4294967295,D=x+(A<<9&4294967295|A>>>23),A=R+(x^C&(D^x))+k[11]+643717713&4294967295,R=D+(A<<14&4294967295|A>>>18),A=C+(D^x&(R^D))+k[0]+3921069994&4294967295,C=R+(A<<20&4294967295|A>>>12),A=x+(R^D&(C^R))+k[5]+3593408605&4294967295,x=C+(A<<5&4294967295|A>>>27),A=D+(C^R&(x^C))+k[10]+38016083&4294967295,D=x+(A<<9&4294967295|A>>>23),A=R+(x^C&(D^x))+k[15]+3634488961&4294967295,R=D+(A<<14&4294967295|A>>>18),A=C+(D^x&(R^D))+k[4]+3889429448&4294967295,C=R+(A<<20&4294967295|A>>>12),A=x+(R^D&(C^R))+k[9]+568446438&4294967295,x=C+(A<<5&4294967295|A>>>27),A=D+(C^R&(x^C))+k[14]+3275163606&4294967295,D=x+(A<<9&4294967295|A>>>23),A=R+(x^C&(D^x))+k[3]+4107603335&4294967295,R=D+(A<<14&4294967295|A>>>18),A=C+(D^x&(R^D))+k[8]+1163531501&4294967295,C=R+(A<<20&4294967295|A>>>12),A=x+(R^D&(C^R))+k[13]+2850285829&4294967295,x=C+(A<<5&4294967295|A>>>27),A=D+(C^R&(x^C))+k[2]+4243563512&4294967295,D=x+(A<<9&4294967295|A>>>23),A=R+(x^C&(D^x))+k[7]+1735328473&4294967295,R=D+(A<<14&4294967295|A>>>18),A=C+(D^x&(R^D))+k[12]+2368359562&4294967295,C=R+(A<<20&4294967295|A>>>12),A=x+(C^R^D)+k[5]+4294588738&4294967295,x=C+(A<<4&4294967295|A>>>28),A=D+(x^C^R)+k[8]+2272392833&4294967295,D=x+(A<<11&4294967295|A>>>21),A=R+(D^x^C)+k[11]+1839030562&4294967295,R=D+(A<<16&4294967295|A>>>16),A=C+(R^D^x)+k[14]+4259657740&4294967295,C=R+(A<<23&4294967295|A>>>9),A=x+(C^R^D)+k[1]+2763975236&4294967295,x=C+(A<<4&4294967295|A>>>28),A=D+(x^C^R)+k[4]+1272893353&4294967295,D=x+(A<<11&4294967295|A>>>21),A=R+(D^x^C)+k[7]+4139469664&4294967295,R=D+(A<<16&4294967295|A>>>16),A=C+(R^D^x)+k[10]+3200236656&4294967295,C=R+(A<<23&4294967295|A>>>9),A=x+(C^R^D)+k[13]+681279174&4294967295,x=C+(A<<4&4294967295|A>>>28),A=D+(x^C^R)+k[0]+3936430074&4294967295,D=x+(A<<11&4294967295|A>>>21),A=R+(D^x^C)+k[3]+3572445317&4294967295,R=D+(A<<16&4294967295|A>>>16),A=C+(R^D^x)+k[6]+76029189&4294967295,C=R+(A<<23&4294967295|A>>>9),A=x+(C^R^D)+k[9]+3654602809&4294967295,x=C+(A<<4&4294967295|A>>>28),A=D+(x^C^R)+k[12]+3873151461&4294967295,D=x+(A<<11&4294967295|A>>>21),A=R+(D^x^C)+k[15]+530742520&4294967295,R=D+(A<<16&4294967295|A>>>16),A=C+(R^D^x)+k[2]+3299628645&4294967295,C=R+(A<<23&4294967295|A>>>9),A=x+(R^(C|~D))+k[0]+4096336452&4294967295,x=C+(A<<6&4294967295|A>>>26),A=D+(C^(x|~R))+k[7]+1126891415&4294967295,D=x+(A<<10&4294967295|A>>>22),A=R+(x^(D|~C))+k[14]+2878612391&4294967295,R=D+(A<<15&4294967295|A>>>17),A=C+(D^(R|~x))+k[5]+4237533241&4294967295,C=R+(A<<21&4294967295|A>>>11),A=x+(R^(C|~D))+k[12]+1700485571&4294967295,x=C+(A<<6&4294967295|A>>>26),A=D+(C^(x|~R))+k[3]+2399980690&4294967295,D=x+(A<<10&4294967295|A>>>22),A=R+(x^(D|~C))+k[10]+4293915773&4294967295,R=D+(A<<15&4294967295|A>>>17),A=C+(D^(R|~x))+k[1]+2240044497&4294967295,C=R+(A<<21&4294967295|A>>>11),A=x+(R^(C|~D))+k[8]+1873313359&4294967295,x=C+(A<<6&4294967295|A>>>26),A=D+(C^(x|~R))+k[15]+4264355552&4294967295,D=x+(A<<10&4294967295|A>>>22),A=R+(x^(D|~C))+k[6]+2734768916&4294967295,R=D+(A<<15&4294967295|A>>>17),A=C+(D^(R|~x))+k[13]+1309151649&4294967295,C=R+(A<<21&4294967295|A>>>11),A=x+(R^(C|~D))+k[4]+4149444226&4294967295,x=C+(A<<6&4294967295|A>>>26),A=D+(C^(x|~R))+k[11]+3174756917&4294967295,D=x+(A<<10&4294967295|A>>>22),A=R+(x^(D|~C))+k[2]+718787259&4294967295,R=D+(A<<15&4294967295|A>>>17),A=C+(D^(R|~x))+k[9]+3951481745&4294967295,T.g[0]=T.g[0]+x&4294967295,T.g[1]=T.g[1]+(R+(A<<21&4294967295|A>>>11))&4294967295,T.g[2]=T.g[2]+R&4294967295,T.g[3]=T.g[3]+D&4294967295}r.prototype.u=function(T,x){x===void 0&&(x=T.length);for(var C=x-this.blockSize,k=this.B,R=this.h,D=0;D<x;){if(R==0)for(;D<=C;)s(this,T,D),D+=this.blockSize;if(typeof T=="string"){for(;D<x;)if(k[R++]=T.charCodeAt(D++),R==this.blockSize){s(this,k),R=0;break}}else for(;D<x;)if(k[R++]=T[D++],R==this.blockSize){s(this,k),R=0;break}}this.h=R,this.o+=x},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var x=1;x<T.length-8;++x)T[x]=0;var C=8*this.o;for(x=T.length-8;x<T.length;++x)T[x]=C&255,C/=256;for(this.u(T),T=Array(16),x=C=0;4>x;++x)for(var k=0;32>k;k+=8)T[C++]=this.g[x]>>>k&255;return T};function i(T,x){var C=a;return Object.prototype.hasOwnProperty.call(C,T)?C[T]:C[T]=x(T)}function o(T,x){this.h=x;for(var C=[],k=!0,R=T.length-1;0<=R;R--){var D=T[R]|0;k&&D==x||(C[R]=D,k=!1)}this.g=C}var a={};function c(T){return-128<=T&&128>T?i(T,function(x){return new o([x|0],0>x?-1:0)}):new o([T|0],0>T?-1:0)}function u(T){if(isNaN(T)||!isFinite(T))return f;if(0>T)return N(u(-T));for(var x=[],C=1,k=0;T>=C;k++)x[k]=T/C|0,C*=4294967296;return new o(x,0)}function h(T,x){if(T.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(T.charAt(0)=="-")return N(h(T.substring(1),x));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=u(Math.pow(x,8)),k=f,R=0;R<T.length;R+=8){var D=Math.min(8,T.length-R),A=parseInt(T.substring(R,R+D),x);8>D?(D=u(Math.pow(x,D)),k=k.j(D).add(u(A))):(k=k.j(C),k=k.add(u(A)))}return k}var f=c(0),p=c(1),y=c(16777216);t=o.prototype,t.m=function(){if(I(this))return-N(this).m();for(var T=0,x=1,C=0;C<this.g.length;C++){var k=this.i(C);T+=(0<=k?k:4294967296+k)*x,x*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(b(this))return"0";if(I(this))return"-"+N(this).toString(T);for(var x=u(Math.pow(T,6)),C=this,k="";;){var R=P(C,x).g;C=E(C,R.j(x));var D=((0<C.g.length?C.g[0]:C.h)>>>0).toString(T);if(C=R,b(C))return D+k;for(;6>D.length;)D="0"+D;k=D+k}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function b(T){if(T.h!=0)return!1;for(var x=0;x<T.g.length;x++)if(T.g[x]!=0)return!1;return!0}function I(T){return T.h==-1}t.l=function(T){return T=E(this,T),I(T)?-1:b(T)?0:1};function N(T){for(var x=T.g.length,C=[],k=0;k<x;k++)C[k]=~T.g[k];return new o(C,~T.h).add(p)}t.abs=function(){return I(this)?N(this):this},t.add=function(T){for(var x=Math.max(this.g.length,T.g.length),C=[],k=0,R=0;R<=x;R++){var D=k+(this.i(R)&65535)+(T.i(R)&65535),A=(D>>>16)+(this.i(R)>>>16)+(T.i(R)>>>16);k=A>>>16,D&=65535,A&=65535,C[R]=A<<16|D}return new o(C,C[C.length-1]&-2147483648?-1:0)};function E(T,x){return T.add(N(x))}t.j=function(T){if(b(this)||b(T))return f;if(I(this))return I(T)?N(this).j(N(T)):N(N(this).j(T));if(I(T))return N(this.j(N(T)));if(0>this.l(y)&&0>T.l(y))return u(this.m()*T.m());for(var x=this.g.length+T.g.length,C=[],k=0;k<2*x;k++)C[k]=0;for(k=0;k<this.g.length;k++)for(var R=0;R<T.g.length;R++){var D=this.i(k)>>>16,A=this.i(k)&65535,pe=T.i(R)>>>16,se=T.i(R)&65535;C[2*k+2*R]+=A*se,w(C,2*k+2*R),C[2*k+2*R+1]+=D*se,w(C,2*k+2*R+1),C[2*k+2*R+1]+=A*pe,w(C,2*k+2*R+1),C[2*k+2*R+2]+=D*pe,w(C,2*k+2*R+2)}for(k=0;k<x;k++)C[k]=C[2*k+1]<<16|C[2*k];for(k=x;k<2*x;k++)C[k]=0;return new o(C,0)};function w(T,x){for(;(T[x]&65535)!=T[x];)T[x+1]+=T[x]>>>16,T[x]&=65535,x++}function _(T,x){this.g=T,this.h=x}function P(T,x){if(b(x))throw Error("division by zero");if(b(T))return new _(f,f);if(I(T))return x=P(N(T),x),new _(N(x.g),N(x.h));if(I(x))return x=P(T,N(x)),new _(N(x.g),x.h);if(30<T.g.length){if(I(T)||I(x))throw Error("slowDivide_ only works with positive integers.");for(var C=p,k=x;0>=k.l(T);)C=O(C),k=O(k);var R=j(C,1),D=j(k,1);for(k=j(k,2),C=j(C,2);!b(k);){var A=D.add(k);0>=A.l(T)&&(R=R.add(C),D=A),k=j(k,1),C=j(C,1)}return x=E(T,R.j(x)),new _(R,x)}for(R=f;0<=T.l(x);){for(C=Math.max(1,Math.floor(T.m()/x.m())),k=Math.ceil(Math.log(C)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),D=u(C),A=D.j(x);I(A)||0<A.l(T);)C-=k,D=u(C),A=D.j(x);b(D)&&(D=p),R=R.add(D),T=E(T,A)}return new _(R,T)}t.A=function(T){return P(this,T).h},t.and=function(T){for(var x=Math.max(this.g.length,T.g.length),C=[],k=0;k<x;k++)C[k]=this.i(k)&T.i(k);return new o(C,this.h&T.h)},t.or=function(T){for(var x=Math.max(this.g.length,T.g.length),C=[],k=0;k<x;k++)C[k]=this.i(k)|T.i(k);return new o(C,this.h|T.h)},t.xor=function(T){for(var x=Math.max(this.g.length,T.g.length),C=[],k=0;k<x;k++)C[k]=this.i(k)^T.i(k);return new o(C,this.h^T.h)};function O(T){for(var x=T.g.length+1,C=[],k=0;k<x;k++)C[k]=T.i(k)<<1|T.i(k-1)>>>31;return new o(C,T.h)}function j(T,x){var C=x>>5;x%=32;for(var k=T.g.length-C,R=[],D=0;D<k;D++)R[D]=0<x?T.i(D+C)>>>x|T.i(D+C+1)<<32-x:T.i(D+C);return new o(R,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,k2=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,Zs=o}).apply(typeof Vv<"u"?Vv:typeof self<"u"?self:typeof window<"u"?window:{});var xc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var A2,R2,ua,P2,zc,kp,D2,j2,O2;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,m,g){return l==Array.prototype||l==Object.prototype||(l[m]=g.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof xc=="object"&&xc];for(var m=0;m<l.length;++m){var g=l[m];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function s(l,m){if(m)e:{var g=r;l=l.split(".");for(var S=0;S<l.length-1;S++){var L=l[S];if(!(L in g))break e;g=g[L]}l=l[l.length-1],S=g[l],m=m(S),m!=S&&m!=null&&e(g,l,{configurable:!0,writable:!0,value:m})}}function i(l,m){l instanceof String&&(l+="");var g=0,S=!1,L={next:function(){if(!S&&g<l.length){var M=g++;return{value:m(M,l[M]),done:!1}}return S=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}s("Array.prototype.values",function(l){return l||function(){return i(this,function(m,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function c(l){var m=typeof l;return m=m!="object"?m:l?Array.isArray(l)?"array":m:"null",m=="array"||m=="object"&&typeof l.length=="number"}function u(l){var m=typeof l;return m=="object"&&l!=null||m=="function"}function h(l,m,g){return l.call.apply(l.bind,arguments)}function f(l,m,g){if(!l)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,S),l.apply(m,L)}}return function(){return l.apply(m,arguments)}}function p(l,m,g){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,p.apply(null,arguments)}function y(l,m){var g=Array.prototype.slice.call(arguments,1);return function(){var S=g.slice();return S.push.apply(S,arguments),l.apply(this,S)}}function b(l,m){function g(){}g.prototype=m.prototype,l.aa=m.prototype,l.prototype=new g,l.prototype.constructor=l,l.Qb=function(S,L,M){for(var Y=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)Y[Ge-2]=arguments[Ge];return m.prototype[L].apply(S,Y)}}function I(l){const m=l.length;if(0<m){const g=Array(m);for(let S=0;S<m;S++)g[S]=l[S];return g}return[]}function N(l,m){for(let g=1;g<arguments.length;g++){const S=arguments[g];if(c(S)){const L=l.length||0,M=S.length||0;l.length=L+M;for(let Y=0;Y<M;Y++)l[L+Y]=S[Y]}else l.push(S)}}class E{constructor(m,g){this.i=m,this.j=g,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function w(l){return/^[\s\xa0]*$/.test(l)}function _(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function P(l){return P[" "](l),l}P[" "]=function(){};var O=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function j(l,m,g){for(const S in l)m.call(g,l[S],S,l)}function T(l,m){for(const g in l)m.call(void 0,l[g],g,l)}function x(l){const m={};for(const g in l)m[g]=l[g];return m}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(l,m){let g,S;for(let L=1;L<arguments.length;L++){S=arguments[L];for(g in S)l[g]=S[g];for(let M=0;M<C.length;M++)g=C[M],Object.prototype.hasOwnProperty.call(S,g)&&(l[g]=S[g])}}function R(l){var m=1;l=l.split(":");const g=[];for(;0<m&&l.length;)g.push(l.shift()),m--;return l.length&&g.push(l.join(":")),g}function D(l){a.setTimeout(()=>{throw l},0)}function A(){var l=X;let m=null;return l.g&&(m=l.g,l.g=l.g.next,l.g||(l.h=null),m.next=null),m}class pe{constructor(){this.h=this.g=null}add(m,g){const S=se.get();S.set(m,g),this.h?this.h.next=S:this.g=S,this.h=S}}var se=new E(()=>new _e,l=>l.reset());class _e{constructor(){this.next=this.g=this.h=null}set(m,g){this.h=m,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let me,W=!1,X=new pe,ee=()=>{const l=a.Promise.resolve(void 0);me=()=>{l.then(le)}};var le=()=>{for(var l;l=A();){try{l.h.call(l.g)}catch(g){D(g)}var m=se;m.j(l),100>m.h&&(m.h++,l.next=m.g,m.g=l)}W=!1};function he(){this.s=this.s,this.C=this.C}he.prototype.s=!1,he.prototype.ma=function(){this.s||(this.s=!0,this.N())},he.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function z(l,m){this.type=l,this.g=this.target=m,this.defaultPrevented=!1}z.prototype.h=function(){this.defaultPrevented=!0};var We=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,m=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};a.addEventListener("test",g,m),a.removeEventListener("test",g,m)}catch{}return l}();function ct(l,m){if(z.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var g=this.type=l.type,S=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=m,m=l.relatedTarget){if(O){e:{try{P(m.nodeName);var L=!0;break e}catch{}L=!1}L||(m=null)}}else g=="mouseover"?m=l.fromElement:g=="mouseout"&&(m=l.toElement);this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Oe[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&ct.aa.h.call(this)}}b(ct,z);var Oe={2:"touch",3:"pen",4:"mouse"};ct.prototype.h=function(){ct.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Ie="closure_listenable_"+(1e6*Math.random()|0),jn=0;function $t(l,m,g,S,L){this.listener=l,this.proxy=null,this.src=m,this.type=g,this.capture=!!S,this.ha=L,this.key=++jn,this.da=this.fa=!1}function Ne(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function kt(l){this.src=l,this.g={},this.h=0}kt.prototype.add=function(l,m,g,S,L){var M=l.toString();l=this.g[M],l||(l=this.g[M]=[],this.h++);var Y=nn(l,m,S,L);return-1<Y?(m=l[Y],g||(m.fa=!1)):(m=new $t(m,this.src,M,!!S,L),m.fa=g,l.push(m)),m};function dt(l,m){var g=m.type;if(g in l.g){var S=l.g[g],L=Array.prototype.indexOf.call(S,m,void 0),M;(M=0<=L)&&Array.prototype.splice.call(S,L,1),M&&(Ne(m),l.g[g].length==0&&(delete l.g[g],l.h--))}}function nn(l,m,g,S){for(var L=0;L<l.length;++L){var M=l[L];if(!M.da&&M.listener==m&&M.capture==!!g&&M.ha==S)return L}return-1}var yr="closure_lm_"+(1e6*Math.random()|0),vr={};function K(l,m,g,S,L){if(Array.isArray(m)){for(var M=0;M<m.length;M++)K(l,m[M],g,S,L);return null}return g=Gn(g),l&&l[Ie]?l.K(m,g,u(S)?!!S.capture:!!S,L):Me(l,m,g,!1,S,L)}function Me(l,m,g,S,L,M){if(!m)throw Error("Invalid event type");var Y=u(L)?!!L.capture:!!L,Ge=De(l);if(Ge||(l[yr]=Ge=new kt(l)),g=Ge.add(m,g,S,Y,M),g.proxy)return g;if(S=jo(),g.proxy=S,S.src=l,S.listener=g,l.addEventListener)We||(L=Y),L===void 0&&(L=!1),l.addEventListener(m.toString(),S,L);else if(l.attachEvent)l.attachEvent(wi(m.toString()),S);else if(l.addListener&&l.removeListener)l.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return g}function jo(){function l(g){return m.call(l.src,l.listener,g)}const m=we;return l}function xi(l,m,g,S,L){if(Array.isArray(m))for(var M=0;M<m.length;M++)xi(l,m[M],g,S,L);else S=u(S)?!!S.capture:!!S,g=Gn(g),l&&l[Ie]?(l=l.i,m=String(m).toString(),m in l.g&&(M=l.g[m],g=nn(M,g,S,L),-1<g&&(Ne(M[g]),Array.prototype.splice.call(M,g,1),M.length==0&&(delete l.g[m],l.h--)))):l&&(l=De(l))&&(m=l.g[m.toString()],l=-1,m&&(l=nn(m,g,S,L)),(g=-1<l?m[l]:null)&&js(g))}function js(l){if(typeof l!="number"&&l&&!l.da){var m=l.src;if(m&&m[Ie])dt(m.i,l);else{var g=l.type,S=l.proxy;m.removeEventListener?m.removeEventListener(g,S,l.capture):m.detachEvent?m.detachEvent(wi(g),S):m.addListener&&m.removeListener&&m.removeListener(S),(g=De(m))?(dt(g,l),g.h==0&&(g.src=null,m[yr]=null)):Ne(l)}}}function wi(l){return l in vr?vr[l]:vr[l]="on"+l}function we(l,m){if(l.da)l=!0;else{m=new ct(m,this);var g=l.listener,S=l.ha||l.src;l.fa&&js(l),l=g.call(S,m)}return l}function De(l){return l=l[yr],l instanceof kt?l:null}var At="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gn(l){return typeof l=="function"?l:(l[At]||(l[At]=function(m){return l.handleEvent(m)}),l[At])}function ht(){he.call(this),this.i=new kt(this),this.M=this,this.F=null}b(ht,he),ht.prototype[Ie]=!0,ht.prototype.removeEventListener=function(l,m,g,S){xi(this,l,m,g,S)};function xt(l,m){var g,S=l.F;if(S)for(g=[];S;S=S.F)g.push(S);if(l=l.M,S=m.type||m,typeof m=="string")m=new z(m,l);else if(m instanceof z)m.target=m.target||l;else{var L=m;m=new z(S,l),k(m,L)}if(L=!0,g)for(var M=g.length-1;0<=M;M--){var Y=m.g=g[M];L=sr(Y,S,!0,m)&&L}if(Y=m.g=l,L=sr(Y,S,!0,m)&&L,L=sr(Y,S,!1,m)&&L,g)for(M=0;M<g.length;M++)Y=m.g=g[M],L=sr(Y,S,!1,m)&&L}ht.prototype.N=function(){if(ht.aa.N.call(this),this.i){var l=this.i,m;for(m in l.g){for(var g=l.g[m],S=0;S<g.length;S++)Ne(g[S]);delete l.g[m],l.h--}}this.F=null},ht.prototype.K=function(l,m,g,S){return this.i.add(String(l),m,!1,g,S)},ht.prototype.L=function(l,m,g,S){return this.i.add(String(l),m,!0,g,S)};function sr(l,m,g,S){if(m=l.i.g[String(m)],!m)return!0;m=m.concat();for(var L=!0,M=0;M<m.length;++M){var Y=m[M];if(Y&&!Y.da&&Y.capture==g){var Ge=Y.listener,Dt=Y.ha||Y.src;Y.fa&&dt(l.i,Y),L=Ge.call(Dt,S)!==!1&&L}}return L&&!S.defaultPrevented}function Os(l,m,g){if(typeof l=="function")g&&(l=p(l,g));else if(l&&typeof l.handleEvent=="function")l=p(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(l,m||0)}function Ht(l){l.g=Os(()=>{l.g=null,l.i&&(l.i=!1,Ht(l))},l.l);const m=l.h;l.h=null,l.m.apply(null,m)}class hn extends he{constructor(m,g){super(),this.m=m,this.l=g,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ht(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _n(l){he.call(this),this.h=l,this.g={}}b(_n,he);var _i=[];function Fl(l){j(l.g,function(m,g){this.g.hasOwnProperty(g)&&js(m)},l),l.g={}}_n.prototype.N=function(){_n.aa.N.call(this),Fl(this)},_n.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Oo=a.JSON.stringify,hh=a.JSON.parse,fh=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function Lo(){}Lo.prototype.h=null;function Mo(l){return l.h||(l.h=l.i())}function Bl(){}var xr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ei(){z.call(this,"d")}b(Ei,z);function Vo(){z.call(this,"c")}b(Vo,z);var wr={},Ul=null;function Hr(){return Ul=Ul||new ht}wr.La="serverreachability";function ge(l){z.call(this,wr.La,l)}b(ge,z);function rn(l){const m=Hr();xt(m,new ge(m))}wr.STAT_EVENT="statevent";function zl(l,m){z.call(this,wr.STAT_EVENT,l),this.stat=m}b(zl,z);function Rt(l){const m=Hr();xt(m,new zl(m,l))}wr.Ma="timingevent";function B(l,m){z.call(this,wr.Ma,l),this.size=m}b(B,z);function V(l,m){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},m)}function F(){this.g=!0}F.prototype.xa=function(){this.g=!1};function U(l,m,g,S,L,M){l.info(function(){if(l.g)if(M)for(var Y="",Ge=M.split("&"),Dt=0;Dt<Ge.length;Dt++){var Ve=Ge[Dt].split("=");if(1<Ve.length){var Wt=Ve[0];Ve=Ve[1];var Gt=Wt.split("_");Y=2<=Gt.length&&Gt[1]=="type"?Y+(Wt+"="+Ve+"&"):Y+(Wt+"=redacted&")}}else Y=null;else Y=M;return"XMLHTTP REQ ("+S+") [attempt "+L+"]: "+m+`
`+g+`
`+Y})}function H(l,m,g,S,L,M,Y){l.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+L+"]: "+m+`
`+g+`
`+M+" "+Y})}function J(l,m,g,S){l.info(function(){return"XMLHTTP TEXT ("+m+"): "+ye(l,g)+(S?" "+S:"")})}function te(l,m){l.info(function(){return"TIMEOUT: "+m})}F.prototype.info=function(){};function ye(l,m){if(!l.g)return m;if(!m)return null;try{var g=JSON.parse(m);if(g){for(l=0;l<g.length;l++)if(Array.isArray(g[l])){var S=g[l];if(!(2>S.length)){var L=S[1];if(Array.isArray(L)&&!(1>L.length)){var M=L[0];if(M!="noop"&&M!="stop"&&M!="close")for(var Y=1;Y<L.length;Y++)L[Y]=""}}}}return Oo(g)}catch{return m}}var ke={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ee={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ve;function et(){}b(et,Lo),et.prototype.g=function(){return new XMLHttpRequest},et.prototype.i=function(){return{}},ve=new et;function Pt(l,m,g,S){this.j=l,this.i=m,this.l=g,this.R=S||1,this.U=new _n(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ls}function Ls(){this.i=null,this.g="",this.h=!1}var ph={},$l={};function bi(l,m,g){l.L=1,l.v=Kl(_r(m)),l.m=g,l.P=!0,Hl(l,null)}function Hl(l,m){l.F=Date.now(),Wl(l),l.A=_r(l.v);var g=l.A,S=l.R;Array.isArray(S)||(S=[String(S)]),F0(g.i,"t",S),l.C=0,g=l.j.J,l.h=new Ls,l.g=ry(l.j,g?m:null,!l.m),0<l.O&&(l.M=new hn(p(l.Y,l,l.g),l.O)),m=l.U,g=l.g,S=l.ca;var L="readystatechange";Array.isArray(L)||(L&&(_i[0]=L.toString()),L=_i);for(var M=0;M<L.length;M++){var Y=K(g,L[M],S||m.handleEvent,!1,m.h||m);if(!Y)break;m.g[Y.key]=Y}m=l.H?x(l.H):{},l.m?(l.u||(l.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,m)):(l.u="GET",l.g.ea(l.A,l.u,null,m)),rn(),U(l.i,l.u,l.A,l.l,l.R,l.m)}Pt.prototype.ca=function(l){l=l.target;const m=this.M;m&&Er(l)==3?m.j():this.Y(l)},Pt.prototype.Y=function(l){try{if(l==this.g)e:{const Gt=Er(this.g);var m=this.g.Ba();const Ti=this.g.Z();if(!(3>Gt)&&(Gt!=3||this.g&&(this.h.h||this.g.oa()||G0(this.g)))){this.J||Gt!=4||m==7||(m==8||0>=Ti?rn(3):rn(2)),mh(this);var g=this.g.Z();this.X=g;t:if(T0(this)){var S=G0(this.g);l="";var L=S.length,M=Er(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ms(this),Fo(this);var Y="";break t}this.h.i=new a.TextDecoder}for(m=0;m<L;m++)this.h.h=!0,l+=this.h.i.decode(S[m],{stream:!(M&&m==L-1)});S.length=0,this.h.g+=l,this.C=0,Y=this.h.g}else Y=this.g.oa();if(this.o=g==200,H(this.i,this.u,this.A,this.l,this.R,Gt,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Ge,Dt=this.g;if((Ge=Dt.g?Dt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(Ge)){var Ve=Ge;break t}}Ve=null}if(g=Ve)J(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,gh(this,g);else{this.o=!1,this.s=3,Rt(12),Ms(this),Fo(this);break e}}if(this.P){g=!0;let qn;for(;!this.J&&this.C<Y.length;)if(qn=iS(this,Y),qn==$l){Gt==4&&(this.s=4,Rt(14),g=!1),J(this.i,this.l,null,"[Incomplete Response]");break}else if(qn==ph){this.s=4,Rt(15),J(this.i,this.l,Y,"[Invalid Chunk]"),g=!1;break}else J(this.i,this.l,qn,null),gh(this,qn);if(T0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Gt!=4||Y.length!=0||this.h.h||(this.s=1,Rt(16),g=!1),this.o=this.o&&g,!g)J(this.i,this.l,Y,"[Invalid Chunked Response]"),Ms(this),Fo(this);else if(0<Y.length&&!this.W){this.W=!0;var Wt=this.j;Wt.g==this&&Wt.ba&&!Wt.M&&(Wt.j.info("Great, no buffering proxy detected. Bytes received: "+Y.length),Eh(Wt),Wt.M=!0,Rt(11))}}else J(this.i,this.l,Y,null),gh(this,Y);Gt==4&&Ms(this),this.o&&!this.J&&(Gt==4?Z0(this.j,this):(this.o=!1,Wl(this)))}else ES(this.g),g==400&&0<Y.indexOf("Unknown SID")?(this.s=3,Rt(12)):(this.s=0,Rt(13)),Ms(this),Fo(this)}}}catch{}finally{}};function T0(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function iS(l,m){var g=l.C,S=m.indexOf(`
`,g);return S==-1?$l:(g=Number(m.substring(g,S)),isNaN(g)?ph:(S+=1,S+g>m.length?$l:(m=m.slice(S,S+g),l.C=S+g,m)))}Pt.prototype.cancel=function(){this.J=!0,Ms(this)};function Wl(l){l.S=Date.now()+l.I,C0(l,l.I)}function C0(l,m){if(l.B!=null)throw Error("WatchDog timer not null");l.B=V(p(l.ba,l),m)}function mh(l){l.B&&(a.clearTimeout(l.B),l.B=null)}Pt.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(te(this.i,this.A),this.L!=2&&(rn(),Rt(17)),Ms(this),this.s=2,Fo(this)):C0(this,this.S-l)};function Fo(l){l.j.G==0||l.J||Z0(l.j,l)}function Ms(l){mh(l);var m=l.M;m&&typeof m.ma=="function"&&m.ma(),l.M=null,Fl(l.U),l.g&&(m=l.g,l.g=null,m.abort(),m.ma())}function gh(l,m){try{var g=l.j;if(g.G!=0&&(g.g==l||yh(g.h,l))){if(!l.K&&yh(g.h,l)&&g.G==3){try{var S=g.Da.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var L=S;if(L[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<l.F)Zl(g),Xl(g);else break e;_h(g),Rt(18)}}else g.za=L[1],0<g.za-g.T&&37500>L[2]&&g.F&&g.v==0&&!g.C&&(g.C=V(p(g.Za,g),6e3));if(1>=A0(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else Fs(g,11)}else if((l.K||g.g==l)&&Zl(g),!w(m))for(L=g.Da.g.parse(m),m=0;m<L.length;m++){let Ve=L[m];if(g.T=Ve[0],Ve=Ve[1],g.G==2)if(Ve[0]=="c"){g.K=Ve[1],g.ia=Ve[2];const Wt=Ve[3];Wt!=null&&(g.la=Wt,g.j.info("VER="+g.la));const Gt=Ve[4];Gt!=null&&(g.Aa=Gt,g.j.info("SVER="+g.Aa));const Ti=Ve[5];Ti!=null&&typeof Ti=="number"&&0<Ti&&(S=1.5*Ti,g.L=S,g.j.info("backChannelRequestTimeoutMs_="+S)),S=g;const qn=l.g;if(qn){const tc=qn.g?qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(tc){var M=S.h;M.g||tc.indexOf("spdy")==-1&&tc.indexOf("quic")==-1&&tc.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(vh(M,M.h),M.h=null))}if(S.D){const bh=qn.g?qn.g.getResponseHeader("X-HTTP-Session-Id"):null;bh&&(S.ya=bh,Ye(S.I,S.D,bh))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-l.F,g.j.info("Handshake RTT: "+g.R+"ms")),S=g;var Y=l;if(S.qa=ny(S,S.J?S.ia:null,S.W),Y.K){R0(S.h,Y);var Ge=Y,Dt=S.L;Dt&&(Ge.I=Dt),Ge.B&&(mh(Ge),Wl(Ge)),S.g=Y}else X0(S);0<g.i.length&&Jl(g)}else Ve[0]!="stop"&&Ve[0]!="close"||Fs(g,7);else g.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?Fs(g,7):wh(g):Ve[0]!="noop"&&g.l&&g.l.ta(Ve),g.v=0)}}rn(4)}catch{}}var oS=class{constructor(l,m){this.g=l,this.map=m}};function N0(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function k0(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function A0(l){return l.h?1:l.g?l.g.size:0}function yh(l,m){return l.h?l.h==m:l.g?l.g.has(m):!1}function vh(l,m){l.g?l.g.add(m):l.h=m}function R0(l,m){l.h&&l.h==m?l.h=null:l.g&&l.g.has(m)&&l.g.delete(m)}N0.prototype.cancel=function(){if(this.i=P0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function P0(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let m=l.i;for(const g of l.g.values())m=m.concat(g.D);return m}return I(l.i)}function aS(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var m=[],g=l.length,S=0;S<g;S++)m.push(l[S]);return m}m=[],g=0;for(S in l)m[g++]=l[S];return m}function lS(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var m=[];l=l.length;for(var g=0;g<l;g++)m.push(g);return m}m=[],g=0;for(const S in l)m[g++]=S;return m}}}function D0(l,m){if(l.forEach&&typeof l.forEach=="function")l.forEach(m,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,m,void 0);else for(var g=lS(l),S=aS(l),L=S.length,M=0;M<L;M++)m.call(void 0,S[M],g&&g[M],l)}var j0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cS(l,m){if(l){l=l.split("&");for(var g=0;g<l.length;g++){var S=l[g].indexOf("="),L=null;if(0<=S){var M=l[g].substring(0,S);L=l[g].substring(S+1)}else M=l[g];m(M,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Vs(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Vs){this.h=l.h,Gl(this,l.j),this.o=l.o,this.g=l.g,ql(this,l.s),this.l=l.l;var m=l.i,g=new zo;g.i=m.i,m.g&&(g.g=new Map(m.g),g.h=m.h),O0(this,g),this.m=l.m}else l&&(m=String(l).match(j0))?(this.h=!1,Gl(this,m[1]||"",!0),this.o=Bo(m[2]||""),this.g=Bo(m[3]||"",!0),ql(this,m[4]),this.l=Bo(m[5]||"",!0),O0(this,m[6]||"",!0),this.m=Bo(m[7]||"")):(this.h=!1,this.i=new zo(null,this.h))}Vs.prototype.toString=function(){var l=[],m=this.j;m&&l.push(Uo(m,L0,!0),":");var g=this.g;return(g||m=="file")&&(l.push("//"),(m=this.o)&&l.push(Uo(m,L0,!0),"@"),l.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&l.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(Uo(g,g.charAt(0)=="/"?hS:dS,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",Uo(g,pS)),l.join("")};function _r(l){return new Vs(l)}function Gl(l,m,g){l.j=g?Bo(m,!0):m,l.j&&(l.j=l.j.replace(/:$/,""))}function ql(l,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);l.s=m}else l.s=null}function O0(l,m,g){m instanceof zo?(l.i=m,mS(l.i,l.h)):(g||(m=Uo(m,fS)),l.i=new zo(m,l.h))}function Ye(l,m,g){l.i.set(m,g)}function Kl(l){return Ye(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Bo(l,m){return l?m?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Uo(l,m,g){return typeof l=="string"?(l=encodeURI(l).replace(m,uS),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function uS(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var L0=/[#\/\?@]/g,dS=/[#\?:]/g,hS=/[#\?]/g,fS=/[#\?@]/g,pS=/#/g;function zo(l,m){this.h=this.g=null,this.i=l||null,this.j=!!m}function Wr(l){l.g||(l.g=new Map,l.h=0,l.i&&cS(l.i,function(m,g){l.add(decodeURIComponent(m.replace(/\+/g," ")),g)}))}t=zo.prototype,t.add=function(l,m){Wr(this),this.i=null,l=Ii(this,l);var g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(m),this.h+=1,this};function M0(l,m){Wr(l),m=Ii(l,m),l.g.has(m)&&(l.i=null,l.h-=l.g.get(m).length,l.g.delete(m))}function V0(l,m){return Wr(l),m=Ii(l,m),l.g.has(m)}t.forEach=function(l,m){Wr(this),this.g.forEach(function(g,S){g.forEach(function(L){l.call(m,L,S,this)},this)},this)},t.na=function(){Wr(this);const l=Array.from(this.g.values()),m=Array.from(this.g.keys()),g=[];for(let S=0;S<m.length;S++){const L=l[S];for(let M=0;M<L.length;M++)g.push(m[S])}return g},t.V=function(l){Wr(this);let m=[];if(typeof l=="string")V0(this,l)&&(m=m.concat(this.g.get(Ii(this,l))));else{l=Array.from(this.g.values());for(let g=0;g<l.length;g++)m=m.concat(l[g])}return m},t.set=function(l,m){return Wr(this),this.i=null,l=Ii(this,l),V0(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[m]),this.h+=1,this},t.get=function(l,m){return l?(l=this.V(l),0<l.length?String(l[0]):m):m};function F0(l,m,g){M0(l,m),0<g.length&&(l.i=null,l.g.set(Ii(l,m),I(g)),l.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],m=Array.from(this.g.keys());for(var g=0;g<m.length;g++){var S=m[g];const M=encodeURIComponent(String(S)),Y=this.V(S);for(S=0;S<Y.length;S++){var L=M;Y[S]!==""&&(L+="="+encodeURIComponent(String(Y[S]))),l.push(L)}}return this.i=l.join("&")};function Ii(l,m){return m=String(m),l.j&&(m=m.toLowerCase()),m}function mS(l,m){m&&!l.j&&(Wr(l),l.i=null,l.g.forEach(function(g,S){var L=S.toLowerCase();S!=L&&(M0(this,S),F0(this,L,g))},l)),l.j=m}function gS(l,m){const g=new F;if(a.Image){const S=new Image;S.onload=y(Gr,g,"TestLoadImage: loaded",!0,m,S),S.onerror=y(Gr,g,"TestLoadImage: error",!1,m,S),S.onabort=y(Gr,g,"TestLoadImage: abort",!1,m,S),S.ontimeout=y(Gr,g,"TestLoadImage: timeout",!1,m,S),a.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=l}else m(!1)}function yS(l,m){const g=new F,S=new AbortController,L=setTimeout(()=>{S.abort(),Gr(g,"TestPingServer: timeout",!1,m)},1e4);fetch(l,{signal:S.signal}).then(M=>{clearTimeout(L),M.ok?Gr(g,"TestPingServer: ok",!0,m):Gr(g,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Gr(g,"TestPingServer: error",!1,m)})}function Gr(l,m,g,S,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),S(g)}catch{}}function vS(){this.g=new fh}function xS(l,m,g){const S=g||"";try{D0(l,function(L,M){let Y=L;u(L)&&(Y=Oo(L)),m.push(S+M+"="+encodeURIComponent(Y))})}catch(L){throw m.push(S+"type="+encodeURIComponent("_badmap")),L}}function $o(l){this.l=l.Ub||null,this.j=l.eb||!1}b($o,Lo),$o.prototype.g=function(){return new Ql(this.l,this.j)},$o.prototype.i=function(l){return function(){return l}}({});function Ql(l,m){ht.call(this),this.D=l,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(Ql,ht),t=Ql.prototype,t.open=function(l,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=m,this.readyState=1,Wo(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(m.body=l),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ho(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Wo(this)),this.g&&(this.readyState=3,Wo(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;B0(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function B0(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var m=l.value?l.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!l.done}))&&(this.response=this.responseText+=m)}l.done?Ho(this):Wo(this),this.readyState==3&&B0(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,Ho(this))},t.Qa=function(l){this.g&&(this.response=l,Ho(this))},t.ga=function(){this.g&&Ho(this)};function Ho(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Wo(l)}t.setRequestHeader=function(l,m){this.u.append(l,m)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],m=this.h.entries();for(var g=m.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=m.next();return l.join(`\r
`)};function Wo(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Ql.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function U0(l){let m="";return j(l,function(g,S){m+=S,m+=":",m+=g,m+=`\r
`}),m}function xh(l,m,g){e:{for(S in g){var S=!1;break e}S=!0}S||(g=U0(g),typeof l=="string"?g!=null&&encodeURIComponent(String(g)):Ye(l,m,g))}function at(l){ht.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(at,ht);var wS=/^https?$/i,_S=["POST","PUT"];t=at.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,m,g,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);m=m?m.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ve.g(),this.v=this.o?Mo(this.o):Mo(ve),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(m,String(l),!0),this.B=!1}catch(M){z0(this,M);return}if(l=g||"",g=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var L in S)g.set(L,S[L]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const M of S.keys())g.set(M,S.get(M));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(g.keys()).find(M=>M.toLowerCase()=="content-type"),L=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(_S,m,void 0))||S||L||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[M,Y]of g)this.g.setRequestHeader(M,Y);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{W0(this),this.u=!0,this.g.send(l),this.u=!1}catch(M){z0(this,M)}};function z0(l,m){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=m,l.m=5,$0(l),Yl(l)}function $0(l){l.A||(l.A=!0,xt(l,"complete"),xt(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,xt(this,"complete"),xt(this,"abort"),Yl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yl(this,!0)),at.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?H0(this):this.bb())},t.bb=function(){H0(this)};function H0(l){if(l.h&&typeof o<"u"&&(!l.v[1]||Er(l)!=4||l.Z()!=2)){if(l.u&&Er(l)==4)Os(l.Ea,0,l);else if(xt(l,"readystatechange"),Er(l)==4){l.h=!1;try{const Y=l.Z();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var g;if(!(g=m)){var S;if(S=Y===0){var L=String(l.D).match(j0)[1]||null;!L&&a.self&&a.self.location&&(L=a.self.location.protocol.slice(0,-1)),S=!wS.test(L?L.toLowerCase():"")}g=S}if(g)xt(l,"complete"),xt(l,"success");else{l.m=6;try{var M=2<Er(l)?l.g.statusText:""}catch{M=""}l.l=M+" ["+l.Z()+"]",$0(l)}}finally{Yl(l)}}}}function Yl(l,m){if(l.g){W0(l);const g=l.g,S=l.v[0]?()=>{}:null;l.g=null,l.v=null,m||xt(l,"ready");try{g.onreadystatechange=S}catch{}}}function W0(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function Er(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<Er(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var m=this.g.responseText;return l&&m.indexOf(l)==0&&(m=m.substring(l.length)),hh(m)}};function G0(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function ES(l){const m={};l=(l.g&&2<=Er(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<l.length;S++){if(w(l[S]))continue;var g=R(l[S]);const L=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const M=m[L]||[];m[L]=M,M.push(g)}T(m,function(S){return S.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Go(l,m,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||m}function q0(l){this.Aa=0,this.i=[],this.j=new F,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Go("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Go("baseRetryDelayMs",5e3,l),this.cb=Go("retryDelaySeedMs",1e4,l),this.Wa=Go("forwardChannelMaxRetries",2,l),this.wa=Go("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new N0(l&&l.concurrentRequestLimit),this.Da=new vS,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=q0.prototype,t.la=8,t.G=1,t.connect=function(l,m,g,S){Rt(0),this.W=l,this.H=m||{},g&&S!==void 0&&(this.H.OSID=g,this.H.OAID=S),this.F=this.X,this.I=ny(this,null,this.W),Jl(this)};function wh(l){if(K0(l),l.G==3){var m=l.U++,g=_r(l.I);if(Ye(g,"SID",l.K),Ye(g,"RID",m),Ye(g,"TYPE","terminate"),qo(l,g),m=new Pt(l,l.j,m),m.L=2,m.v=Kl(_r(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=m.v,g=!0),g||(m.g=ry(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Wl(m)}ty(l)}function Xl(l){l.g&&(Eh(l),l.g.cancel(),l.g=null)}function K0(l){Xl(l),l.u&&(a.clearTimeout(l.u),l.u=null),Zl(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function Jl(l){if(!k0(l.h)&&!l.s){l.s=!0;var m=l.Ga;me||ee(),W||(me(),W=!0),X.add(m,l),l.B=0}}function bS(l,m){return A0(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=m.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=V(p(l.Ga,l,m),ey(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const L=new Pt(this,this.j,l);let M=this.o;if(this.S&&(M?(M=x(M),k(M,this.S)):M=this.S),this.m!==null||this.O||(L.H=M,M=null),this.P)e:{for(var m=0,g=0;g<this.i.length;g++){t:{var S=this.i[g];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(m+=S,4096<m){m=g;break e}if(m===4096||g===this.i.length-1){m=g+1;break e}}m=1e3}else m=1e3;m=Y0(this,L,m),g=_r(this.I),Ye(g,"RID",l),Ye(g,"CVER",22),this.D&&Ye(g,"X-HTTP-Session-Id",this.D),qo(this,g),M&&(this.O?m="headers="+encodeURIComponent(String(U0(M)))+"&"+m:this.m&&xh(g,this.m,M)),vh(this.h,L),this.Ua&&Ye(g,"TYPE","init"),this.P?(Ye(g,"$req",m),Ye(g,"SID","null"),L.T=!0,bi(L,g,null)):bi(L,g,m),this.G=2}}else this.G==3&&(l?Q0(this,l):this.i.length==0||k0(this.h)||Q0(this))};function Q0(l,m){var g;m?g=m.l:g=l.U++;const S=_r(l.I);Ye(S,"SID",l.K),Ye(S,"RID",g),Ye(S,"AID",l.T),qo(l,S),l.m&&l.o&&xh(S,l.m,l.o),g=new Pt(l,l.j,g,l.B+1),l.m===null&&(g.H=l.o),m&&(l.i=m.D.concat(l.i)),m=Y0(l,g,1e3),g.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),vh(l.h,g),bi(g,S,m)}function qo(l,m){l.H&&j(l.H,function(g,S){Ye(m,S,g)}),l.l&&D0({},function(g,S){Ye(m,S,g)})}function Y0(l,m,g){g=Math.min(l.i.length,g);var S=l.l?p(l.l.Na,l.l,l):null;e:{var L=l.i;let M=-1;for(;;){const Y=["count="+g];M==-1?0<g?(M=L[0].g,Y.push("ofs="+M)):M=0:Y.push("ofs="+M);let Ge=!0;for(let Dt=0;Dt<g;Dt++){let Ve=L[Dt].g;const Wt=L[Dt].map;if(Ve-=M,0>Ve)M=Math.max(0,L[Dt].g-100),Ge=!1;else try{xS(Wt,Y,"req"+Ve+"_")}catch{S&&S(Wt)}}if(Ge){S=Y.join("&");break e}}}return l=l.i.splice(0,g),m.D=l,S}function X0(l){if(!l.g&&!l.u){l.Y=1;var m=l.Fa;me||ee(),W||(me(),W=!0),X.add(m,l),l.v=0}}function _h(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=V(p(l.Fa,l),ey(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,J0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=V(p(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Rt(10),Xl(this),J0(this))};function Eh(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function J0(l){l.g=new Pt(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var m=_r(l.qa);Ye(m,"RID","rpc"),Ye(m,"SID",l.K),Ye(m,"AID",l.T),Ye(m,"CI",l.F?"0":"1"),!l.F&&l.ja&&Ye(m,"TO",l.ja),Ye(m,"TYPE","xmlhttp"),qo(l,m),l.m&&l.o&&xh(m,l.m,l.o),l.L&&(l.g.I=l.L);var g=l.g;l=l.ia,g.L=1,g.v=Kl(_r(m)),g.m=null,g.P=!0,Hl(g,l)}t.Za=function(){this.C!=null&&(this.C=null,Xl(this),_h(this),Rt(19))};function Zl(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function Z0(l,m){var g=null;if(l.g==m){Zl(l),Eh(l),l.g=null;var S=2}else if(yh(l.h,m))g=m.D,R0(l.h,m),S=1;else return;if(l.G!=0){if(m.o)if(S==1){g=m.m?m.m.length:0,m=Date.now()-m.F;var L=l.B;S=Hr(),xt(S,new B(S,g)),Jl(l)}else X0(l);else if(L=m.s,L==3||L==0&&0<m.X||!(S==1&&bS(l,m)||S==2&&_h(l)))switch(g&&0<g.length&&(m=l.h,m.i=m.i.concat(g)),L){case 1:Fs(l,5);break;case 4:Fs(l,10);break;case 3:Fs(l,6);break;default:Fs(l,2)}}}function ey(l,m){let g=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(g*=2),g*m}function Fs(l,m){if(l.j.info("Error code "+m),m==2){var g=p(l.fb,l),S=l.Xa;const L=!S;S=new Vs(S||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Gl(S,"https"),Kl(S),L?gS(S.toString(),g):yS(S.toString(),g)}else Rt(2);l.G=0,l.l&&l.l.sa(m),ty(l),K0(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Rt(2)):(this.j.info("Failed to ping google.com"),Rt(1))};function ty(l){if(l.G=0,l.ka=[],l.l){const m=P0(l.h);(m.length!=0||l.i.length!=0)&&(N(l.ka,m),N(l.ka,l.i),l.h.i.length=0,I(l.i),l.i.length=0),l.l.ra()}}function ny(l,m,g){var S=g instanceof Vs?_r(g):new Vs(g);if(S.g!="")m&&(S.g=m+"."+S.g),ql(S,S.s);else{var L=a.location;S=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;var M=new Vs(null);S&&Gl(M,S),m&&(M.g=m),L&&ql(M,L),g&&(M.l=g),S=M}return g=l.D,m=l.ya,g&&m&&Ye(S,g,m),Ye(S,"VER",l.la),qo(l,S),S}function ry(l,m,g){if(m&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=l.Ca&&!l.pa?new at(new $o({eb:g})):new at(l.pa),m.Ha(l.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function sy(){}t=sy.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ec(){}ec.prototype.g=function(l,m){return new En(l,m)};function En(l,m){ht.call(this),this.g=new q0(m),this.l=l,this.h=m&&m.messageUrlParams||null,l=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(l?l["X-WebChannel-Content-Type"]=m.messageContentType:l={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(l?l["X-WebChannel-Client-Profile"]=m.va:l={"X-WebChannel-Client-Profile":m.va}),this.g.S=l,(l=m&&m.Sb)&&!w(l)&&(this.g.m=l),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.D=m,l=this.h,l!==null&&m in l&&(l=this.h,m in l&&delete l[m])),this.j=new Si(this)}b(En,ht),En.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},En.prototype.close=function(){wh(this.g)},En.prototype.o=function(l){var m=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.u&&(g={},g.__data__=Oo(l),l=g);m.i.push(new oS(m.Ya++,l)),m.G==3&&Jl(m)},En.prototype.N=function(){this.g.l=null,delete this.j,wh(this.g),delete this.g,En.aa.N.call(this)};function iy(l){Ei.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var m=l.__sm__;if(m){e:{for(const g in m){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,m=m!==null&&l in m?m[l]:void 0),this.data=m}else this.data=l}b(iy,Ei);function oy(){Vo.call(this),this.status=1}b(oy,Vo);function Si(l){this.g=l}b(Si,sy),Si.prototype.ua=function(){xt(this.g,"a")},Si.prototype.ta=function(l){xt(this.g,new iy(l))},Si.prototype.sa=function(l){xt(this.g,new oy)},Si.prototype.ra=function(){xt(this.g,"b")},ec.prototype.createWebChannel=ec.prototype.g,En.prototype.send=En.prototype.o,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,O2=function(){return new ec},j2=function(){return Hr()},D2=wr,kp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ke.NO_ERROR=0,ke.TIMEOUT=8,ke.HTTP_ERROR=6,zc=ke,Ee.COMPLETE="complete",P2=Ee,Bl.EventType=xr,xr.OPEN="a",xr.CLOSE="b",xr.ERROR="c",xr.MESSAGE="d",ht.prototype.listen=ht.prototype.K,ua=Bl,R2=$o,at.prototype.listenOnce=at.prototype.L,at.prototype.getLastError=at.prototype.Ka,at.prototype.getLastErrorCode=at.prototype.Ba,at.prototype.getStatus=at.prototype.Z,at.prototype.getResponseJson=at.prototype.Oa,at.prototype.getResponseText=at.prototype.oa,at.prototype.send=at.prototype.ea,at.prototype.setWithCredentials=at.prototype.Ha,A2=at}).apply(typeof xc<"u"?xc:typeof self<"u"?self:typeof window<"u"?window:{});const Fv="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yt.UNAUTHENTICATED=new Yt(null),Yt.GOOGLE_CREDENTIALS=new Yt("google-credentials-uid"),Yt.FIRST_PARTY=new Yt("first-party-uid"),Yt.MOCK_USER=new Yt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let To="10.12.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const li=new sg("@firebase/firestore");function na(){return li.logLevel}function re(t,...e){if(li.logLevel<=Re.DEBUG){const n=e.map(ag);li.debug(`Firestore (${To}): ${t}`,...n)}}function Fr(t,...e){if(li.logLevel<=Re.ERROR){const n=e.map(ag);li.error(`Firestore (${To}): ${t}`,...n)}}function lo(t,...e){if(li.logLevel<=Re.WARN){const n=e.map(ag);li.warn(`Firestore (${To}): ${t}`,...n)}}function ag(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ue(t="Unexpected state"){const e=`FIRESTORE (${To}) INTERNAL ASSERTION FAILED: `+t;throw Fr(e),new Error(e)}function Qe(t,e){t||ue()}function fe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Z extends $r{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $k{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Yt.UNAUTHENTICATED))}shutdown(){}}class Hk{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Wk{constructor(e){this.t=e,this.currentUser=Yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new jr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new jr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},a=c=>{re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(re("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new jr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Qe(typeof r.accessToken=="string"),new L2(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string"),new Yt(e)}}class Gk{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Yt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class qk{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Gk(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Kk{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Qk{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=i=>{i.error!=null&&re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,re("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Qe(typeof n.token=="string"),this.R=n.token,new Kk(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yk(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=Yk(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function Be(t,e){return t<e?-1:t>e?1:0}function co(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Z($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Z($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Z($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Z($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new st(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.timestamp=e}static fromTimestamp(e){return new de(e)}static min(){return new de(new st(0,0))}static max(){return new de(new st(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e,n,r){n===void 0?n=0:n>e.length&&ue(),r===void 0?r=e.length-n:r>e.length-n&&ue(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ya.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ya?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Je extends Ya{construct(e,n,r){return new Je(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Z($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Je(n)}static emptyPath(){return new Je([])}}const Xk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mt extends Ya{construct(e,n,r){return new Mt(e,n,r)}static isValidIdentifier(e){return Xk.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Mt(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Z($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new Z($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Z($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new Z($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Mt(n)}static emptyPath(){return new Mt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.path=e}static fromPath(e){return new ae(Je.fromString(e))}static fromName(e){return new ae(Je.fromString(e).popFirst(5))}static empty(){return new ae(Je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Je.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ae(new Je(e.slice()))}}function Jk(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=de.fromTimestamp(r===1e9?new st(n+1,0):new st(n,r));return new Is(s,ae.empty(),e)}function Zk(t){return new Is(t.readTime,t.key,-1)}class Is{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Is(de.min(),ae.empty(),-1)}static max(){return new Is(de.max(),ae.empty(),-1)}}function e3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ae.comparator(t.documentKey,e.documentKey),n!==0?n:Be(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class n3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function El(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==t3)throw t;re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ue(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new G((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof G?n:G.resolve(n)}catch(n){return G.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):G.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):G.reject(n)}static resolve(e){return new G((n,r)=>{n(e)})}static reject(e){return new G((n,r)=>{r(e)})}static waitFor(e){return new G((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},c=>r(c))}),o=!0,i===s&&n()})}static or(e){let n=G.resolve(!1);for(const r of e)n=n.next(s=>s?G.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new G((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let c=0;c<i;c++){const u=c;n(e[u]).next(h=>{o[u]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new G((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function r3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function bl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}lg.oe=-1;function vd(t){return t==null}function Au(t){return t===0&&1/t==-1/0}function s3(t){return typeof t=="number"&&Number.isInteger(t)&&!Au(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function yi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function V2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,n){this.comparator=e,this.root=n||Lt.EMPTY}insert(e,n){return new ot(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Lt.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Lt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wc(this.root,e,this.comparator,!1)}getReverseIterator(){return new wc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wc(this.root,e,this.comparator,!0)}}class wc{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Lt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Lt.RED,this.left=s??Lt.EMPTY,this.right=i??Lt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Lt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Lt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Lt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Lt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Lt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ue();const e=this.left.check();if(e!==this.right.check())throw ue();return e+(this.isRed()?0:1)}}Lt.EMPTY=null,Lt.RED=!0,Lt.BLACK=!1;Lt.EMPTY=new class{constructor(){this.size=0}get key(){throw ue()}get value(){throw ue()}get color(){throw ue()}get left(){throw ue()}get right(){throw ue()}copy(e,n,r,s,i){return this}insert(e,n,r){return new Lt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Uv(this.data.getIterator())}getIteratorFrom(e){return new Uv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Bt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Bt(this.comparator);return n.data=e,n}}class Uv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.fields=e,e.sort(Mt.comparator)}static empty(){return new Sn([])}unionWith(e){let n=new Bt(Mt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Sn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return co(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new F2("Invalid base64 string: "+i):i}}(e);return new tn(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new tn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const i3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ss(t){if(Qe(!!t),typeof t=="string"){let e=0;const n=i3.exec(t);if(Qe(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:mt(t.seconds),nanos:mt(t.nanos)}}function mt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ci(t){return typeof t=="string"?tn.fromBase64String(t):tn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function ug(t){const e=t.mapValue.fields.__previous_value__;return cg(e)?ug(e):e}function Xa(t){const e=Ss(t.mapValue.fields.__local_write_time__.timestampValue);return new st(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{constructor(e,n,r,s,i,o,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}}class Ja{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ja("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ja&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _c={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ui(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?cg(t)?4:a3(t)?9007199254740991:10:ue()}function mr(t,e){if(t===e)return!0;const n=ui(t);if(n!==ui(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Xa(t).isEqual(Xa(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Ss(s.timestampValue),a=Ss(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return ci(s.bytesValue).isEqual(ci(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return mt(s.geoPointValue.latitude)===mt(i.geoPointValue.latitude)&&mt(s.geoPointValue.longitude)===mt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return mt(s.integerValue)===mt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=mt(s.doubleValue),a=mt(i.doubleValue);return o===a?Au(o)===Au(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return co(t.arrayValue.values||[],e.arrayValue.values||[],mr);case 10:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(Bv(o)!==Bv(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!mr(o[c],a[c])))return!1;return!0}(t,e);default:return ue()}}function Za(t,e){return(t.values||[]).find(n=>mr(n,e))!==void 0}function uo(t,e){if(t===e)return 0;const n=ui(t),r=ui(e);if(n!==r)return Be(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Be(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=mt(i.integerValue||i.doubleValue),c=mt(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return zv(t.timestampValue,e.timestampValue);case 4:return zv(Xa(t),Xa(e));case 5:return Be(t.stringValue,e.stringValue);case 6:return function(i,o){const a=ci(i),c=ci(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){const h=Be(a[u],c[u]);if(h!==0)return h}return Be(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Be(mt(i.latitude),mt(o.latitude));return a!==0?a:Be(mt(i.longitude),mt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){const a=i.values||[],c=o.values||[];for(let u=0;u<a.length&&u<c.length;++u){const h=uo(a[u],c[u]);if(h)return h}return Be(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===_c.mapValue&&o===_c.mapValue)return 0;if(i===_c.mapValue)return 1;if(o===_c.mapValue)return-1;const a=i.fields||{},c=Object.keys(a),u=o.fields||{},h=Object.keys(u);c.sort(),h.sort();for(let f=0;f<c.length&&f<h.length;++f){const p=Be(c[f],h[f]);if(p!==0)return p;const y=uo(a[c[f]],u[h[f]]);if(y!==0)return y}return Be(c.length,h.length)}(t.mapValue,e.mapValue);default:throw ue()}}function zv(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Be(t,e);const n=Ss(t),r=Ss(e),s=Be(n.seconds,r.seconds);return s!==0?s:Be(n.nanos,r.nanos)}function ho(t){return Ap(t)}function Ap(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ss(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ci(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ae.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Ap(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Ap(n.fields[o])}`;return s+"}"}(t.mapValue):ue()}function $v(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Rp(t){return!!t&&"integerValue"in t}function dg(t){return!!t&&"arrayValue"in t}function Hv(t){return!!t&&"nullValue"in t}function Wv(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function $c(t){return!!t&&"mapValue"in t}function ba(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return yi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ba(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ba(t.arrayValue.values[n]);return e}return Object.assign({},t)}function a3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.value=e}static empty(){return new gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!$c(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ba(n)}setAll(e){let n=Mt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=ba(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());$c(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return mr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];$c(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){yi(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new gn(ba(this.value))}}function B2(t){const e=[];return yi(t.fields,(n,r)=>{const s=new Mt([n]);if($c(r)){const i=B2(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Sn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Zt(e,0,de.min(),de.min(),de.min(),gn.empty(),0)}static newFoundDocument(e,n,r,s){return new Zt(e,1,n,de.min(),r,s,0)}static newNoDocument(e,n){return new Zt(e,2,n,de.min(),de.min(),gn.empty(),0)}static newUnknownDocument(e,n){return new Zt(e,3,n,de.min(),de.min(),gn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(de.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=de.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e,n){this.position=e,this.inclusive=n}}function Gv(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ae.comparator(ae.fromName(o.referenceValue),n.key):r=uo(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function qv(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!mr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e,n="asc"){this.field=e,this.dir=n}}function l3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{}class yt extends U2{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new u3(e,n,r):n==="array-contains"?new f3(e,r):n==="in"?new p3(e,r):n==="not-in"?new m3(e,r):n==="array-contains-any"?new g3(e,r):new yt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new d3(e,r):new h3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(uo(n,this.value)):n!==null&&ui(this.value)===ui(n)&&this.matchesComparison(uo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ue()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class rr extends U2{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new rr(e,n)}matches(e){return z2(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function z2(t){return t.op==="and"}function $2(t){return c3(t)&&z2(t)}function c3(t){for(const e of t.filters)if(e instanceof rr)return!1;return!0}function Pp(t){if(t instanceof yt)return t.field.canonicalString()+t.op.toString()+ho(t.value);if($2(t))return t.filters.map(e=>Pp(e)).join(",");{const e=t.filters.map(n=>Pp(n)).join(",");return`${t.op}(${e})`}}function H2(t,e){return t instanceof yt?function(r,s){return s instanceof yt&&r.op===s.op&&r.field.isEqual(s.field)&&mr(r.value,s.value)}(t,e):t instanceof rr?function(r,s){return s instanceof rr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&H2(o,s.filters[a]),!0):!1}(t,e):void ue()}function W2(t){return t instanceof yt?function(n){return`${n.field.canonicalString()} ${n.op} ${ho(n.value)}`}(t):t instanceof rr?function(n){return n.op.toString()+" {"+n.getFilters().map(W2).join(" ,")+"}"}(t):"Filter"}class u3 extends yt{constructor(e,n,r){super(e,n,r),this.key=ae.fromName(r.referenceValue)}matches(e){const n=ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class d3 extends yt{constructor(e,n){super(e,"in",n),this.keys=G2("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class h3 extends yt{constructor(e,n){super(e,"not-in",n),this.keys=G2("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function G2(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ae.fromName(r.referenceValue))}class f3 extends yt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return dg(n)&&Za(n.arrayValue,this.value)}}class p3 extends yt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Za(this.value.arrayValue,n)}}class m3 extends yt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Za(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Za(this.value.arrayValue,n)}}class g3 extends yt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!dg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Za(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ue=null}}function Kv(t,e=null,n=[],r=[],s=null,i=null,o=null){return new y3(t,e,n,r,s,i,o)}function hg(t){const e=fe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Pp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),vd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ho(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ho(r)).join(",")),e.ue=n}return e.ue}function fg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!l3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!H2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!qv(t.startAt,e.startAt)&&qv(t.endAt,e.endAt)}function Dp(t){return ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function v3(t,e,n,r,s,i,o,a){return new Il(t,e,n,r,s,i,o,a)}function pg(t){return new Il(t)}function Qv(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function q2(t){return t.collectionGroup!==null}function Ia(t){const e=fe(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Bt(Mt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new Pu(i,r))}),n.has(Mt.keyField().canonicalString())||e.ce.push(new Pu(Mt.keyField(),r))}return e.ce}function hr(t){const e=fe(t);return e.le||(e.le=x3(e,Ia(t))),e.le}function x3(t,e){if(t.limitType==="F")return Kv(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Pu(s.field,i)});const n=t.endAt?new Ru(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ru(t.startAt.position,t.startAt.inclusive):null;return Kv(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function jp(t,e){const n=t.filters.concat([e]);return new Il(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Op(t,e,n){return new Il(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function xd(t,e){return fg(hr(t),hr(e))&&t.limitType===e.limitType}function K2(t){return`${hg(hr(t))}|lt:${t.limitType}`}function ki(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>W2(s)).join(", ")}]`),vd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>ho(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>ho(s)).join(",")),`Target(${r})`}(hr(t))}; limitType=${t.limitType})`}function wd(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ae.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Ia(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,c){const u=Gv(o,a,c);return o.inclusive?u<=0:u<0}(r.startAt,Ia(r),s)||r.endAt&&!function(o,a,c){const u=Gv(o,a,c);return o.inclusive?u>=0:u>0}(r.endAt,Ia(r),s))}(t,e)}function w3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Q2(t){return(e,n)=>{let r=!1;for(const s of Ia(t)){const i=_3(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function _3(t,e,n){const r=t.field.isKeyField()?ae.comparator(e.key,n.key):function(i,o,a){const c=o.data.field(i),u=a.data.field(i);return c!==null&&u!==null?uo(c,u):ue()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ue()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){yi(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return V2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E3=new ot(ae.comparator);function Br(){return E3}const Y2=new ot(ae.comparator);function da(...t){let e=Y2;for(const n of t)e=e.insert(n.key,n);return e}function X2(t){let e=Y2;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Qs(){return Sa()}function J2(){return Sa()}function Sa(){return new Co(t=>t.toString(),(t,e)=>t.isEqual(e))}const b3=new ot(ae.comparator),I3=new Bt(ae.comparator);function Ae(...t){let e=I3;for(const n of t)e=e.add(n);return e}const S3=new Bt(Be);function T3(){return S3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z2(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Au(e)?"-0":e}}function eE(t){return{integerValue:""+t}}function C3(t,e){return s3(e)?eE(e):Z2(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(){this._=void 0}}function N3(t,e,n){return t instanceof el?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&cg(i)&&(i=ug(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof tl?nE(t,e):t instanceof nl?rE(t,e):function(s,i){const o=tE(s,i),a=Yv(o)+Yv(s.Pe);return Rp(o)&&Rp(s.Pe)?eE(a):Z2(s.serializer,a)}(t,e)}function k3(t,e,n){return t instanceof tl?nE(t,e):t instanceof nl?rE(t,e):n}function tE(t,e){return t instanceof Du?function(r){return Rp(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class el extends _d{}class tl extends _d{constructor(e){super(),this.elements=e}}function nE(t,e){const n=sE(e);for(const r of t.elements)n.some(s=>mr(s,r))||n.push(r);return{arrayValue:{values:n}}}class nl extends _d{constructor(e){super(),this.elements=e}}function rE(t,e){let n=sE(e);for(const r of t.elements)n=n.filter(s=>!mr(s,r));return{arrayValue:{values:n}}}class Du extends _d{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Yv(t){return mt(t.integerValue||t.doubleValue)}function sE(t){return dg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(e,n){this.field=e,this.transform=n}}function R3(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof tl&&s instanceof tl||r instanceof nl&&s instanceof nl?co(r.elements,s.elements,mr):r instanceof Du&&s instanceof Du?mr(r.Pe,s.Pe):r instanceof el&&s instanceof el}(t.transform,e.transform)}class P3{constructor(e,n){this.version=e,this.transformResults=n}}class ln{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ln}static exists(e){return new ln(void 0,e)}static updateTime(e){return new ln(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ed{}function iE(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new bd(t.key,ln.none()):new Sl(t.key,t.data,ln.none());{const n=t.data,r=gn.empty();let s=new Bt(Mt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Ps(t.key,r,new Sn(s.toArray()),ln.none())}}function D3(t,e,n){t instanceof Sl?function(s,i,o){const a=s.value.clone(),c=Jv(s.fieldTransforms,i,o.transformResults);a.setAll(c),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ps?function(s,i,o){if(!Hc(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=Jv(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(oE(s)),c.setAll(a),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ta(t,e,n,r){return t instanceof Sl?function(i,o,a,c){if(!Hc(i.precondition,o))return a;const u=i.value.clone(),h=Zv(i.fieldTransforms,c,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ps?function(i,o,a,c){if(!Hc(i.precondition,o))return a;const u=Zv(i.fieldTransforms,c,o),h=o.data;return h.setAll(oE(i)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return Hc(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function j3(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=tE(r.transform,s||null);i!=null&&(n===null&&(n=gn.empty()),n.set(r.field,i))}return n||null}function Xv(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&co(r,s,(i,o)=>R3(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Sl extends Ed{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ps extends Ed{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function oE(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Jv(t,e,n){const r=new Map;Qe(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,k3(o,a,n[s]))}return r}function Zv(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,N3(i,o,e))}return r}class bd extends Ed{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class O3 extends Ed{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&D3(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ta(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ta(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=J2();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const c=iE(o,a);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(de.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ae())}isEqual(e){return this.batchId===e.batchId&&co(this.mutations,e.mutations,(n,r)=>Xv(n,r))&&co(this.baseMutations,e.baseMutations,(n,r)=>Xv(n,r))}}class mg{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Qe(e.mutations.length===r.length);let s=function(){return b3}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new mg(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ft,je;function F3(t){switch(t){default:return ue();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0}}function aE(t){if(t===void 0)return Fr("GRPC error has no .code"),$.UNKNOWN;switch(t){case ft.OK:return $.OK;case ft.CANCELLED:return $.CANCELLED;case ft.UNKNOWN:return $.UNKNOWN;case ft.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case ft.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case ft.INTERNAL:return $.INTERNAL;case ft.UNAVAILABLE:return $.UNAVAILABLE;case ft.UNAUTHENTICATED:return $.UNAUTHENTICATED;case ft.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case ft.NOT_FOUND:return $.NOT_FOUND;case ft.ALREADY_EXISTS:return $.ALREADY_EXISTS;case ft.PERMISSION_DENIED:return $.PERMISSION_DENIED;case ft.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case ft.ABORTED:return $.ABORTED;case ft.OUT_OF_RANGE:return $.OUT_OF_RANGE;case ft.UNIMPLEMENTED:return $.UNIMPLEMENTED;case ft.DATA_LOSS:return $.DATA_LOSS;default:return ue()}}(je=ft||(ft={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B3(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U3=new Zs([4294967295,4294967295],0);function e1(t){const e=B3().encode(t),n=new k2;return n.update(e),new Uint8Array(n.digest())}function t1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Zs([n,r],0),new Zs([s,i],0)]}class gg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ha(`Invalid padding: ${n}`);if(r<0)throw new ha(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ha(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ha(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Zs.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(Zs.fromNumber(r)));return s.compare(U3)===1&&(s=new Zs([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=e1(e),[r,s]=t1(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new gg(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=e1(e),[r,s]=t1(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ha extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Tl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Id(de.min(),s,new ot(Be),Br(),Ae())}}class Tl{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Tl(r,n,Ae(),Ae(),Ae())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class lE{constructor(e,n){this.targetId=e,this.me=n}}class cE{constructor(e,n,r=tn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class n1{constructor(){this.fe=0,this.ge=s1(),this.pe=tn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=Ae(),n=Ae(),r=Ae();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ue()}}),new Tl(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=s1()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Qe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class z3{constructor(e){this.Le=e,this.Be=new Map,this.ke=Br(),this.qe=r1(),this.Qe=new ot(Be)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ue()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(Dp(i))if(r===0){const o=new ae(i.path);this.Ue(n,o,Zt.newNoDocument(o,de.min()))}else Qe(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),c=a?this.Xe(a,e,o):1;if(c!==0){this.je(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=ci(r).toUint8Array()}catch(c){if(c instanceof F2)return lo("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new gg(o,s,i)}catch(c){return lo(c instanceof ha?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,o)=>{const a=this.Je(o);if(a){if(i.current&&Dp(a.target)){const c=new ae(a.target.path);this.ke.get(c)!==null||this.it(o,c)||this.Ue(o,c,Zt.newNoDocument(c,e))}i.be&&(n.set(o,i.Ce()),i.ve())}});let r=Ae();this.qe.forEach((i,o)=>{let a=!0;o.forEachWhile(c=>{const u=this.Je(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new Id(e,n,this.Qe,this.ke,r);return this.ke=Br(),this.qe=r1(),this.Qe=new ot(Be),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new n1,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Bt(Be),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||re("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new n1),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function r1(){return new ot(ae.comparator)}function s1(){return new ot(ae.comparator)}const $3={asc:"ASCENDING",desc:"DESCENDING"},H3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},W3={and:"AND",or:"OR"};class G3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Lp(t,e){return t.useProto3Json||vd(e)?e:{value:e}}function ju(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uE(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function q3(t,e){return ju(t,e.toTimestamp())}function fr(t){return Qe(!!t),de.fromTimestamp(function(n){const r=Ss(n);return new st(r.seconds,r.nanos)}(t))}function yg(t,e){return Mp(t,e).canonicalString()}function Mp(t,e){const n=function(s){return new Je(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function dE(t){const e=Je.fromString(t);return Qe(gE(e)),e}function Vp(t,e){return yg(t.databaseId,e.path)}function nf(t,e){const n=dE(e);if(n.get(1)!==t.databaseId.projectId)throw new Z($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Z($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ae(fE(n))}function hE(t,e){return yg(t.databaseId,e)}function K3(t){const e=dE(t);return e.length===4?Je.emptyPath():fE(e)}function Fp(t){return new Je(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function fE(t){return Qe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function i1(t,e,n){return{name:Vp(t,e),fields:n.value.mapValue.fields}}function Q3(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ue()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,h){return u.useProto3Json?(Qe(h===void 0||typeof h=="string"),tn.fromBase64String(h||"")):(Qe(h===void 0||h instanceof Buffer||h instanceof Uint8Array),tn.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const h=u.code===void 0?$.UNKNOWN:aE(u.code);return new Z(h,u.message||"")}(o);n=new cE(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=nf(t,r.document.name),i=fr(r.document.updateTime),o=r.document.createTime?fr(r.document.createTime):de.min(),a=new gn({mapValue:{fields:r.document.fields}}),c=Zt.newFoundDocument(s,i,o,a),u=r.targetIds||[],h=r.removedTargetIds||[];n=new Wc(u,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=nf(t,r.document),i=r.readTime?fr(r.readTime):de.min(),o=Zt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Wc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=nf(t,r.document),i=r.removedTargetIds||[];n=new Wc([],i,s,null)}else{if(!("filter"in e))return ue();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new V3(s,i),a=r.targetId;n=new lE(a,o)}}return n}function Y3(t,e){let n;if(e instanceof Sl)n={update:i1(t,e.key,e.value)};else if(e instanceof bd)n={delete:Vp(t,e.key)};else if(e instanceof Ps)n={update:i1(t,e.key,e.data),updateMask:iA(e.fieldMask)};else{if(!(e instanceof O3))return ue();n={verify:Vp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof el)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof tl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof nl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Du)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ue()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:q3(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ue()}(t,e.precondition)),n}function X3(t,e){return t&&t.length>0?(Qe(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?fr(s.updateTime):fr(i);return o.isEqual(de.min())&&(o=fr(i)),new P3(o,s.transformResults||[])}(n,e))):[]}function J3(t,e){return{documents:[hE(t,e.path)]}}function Z3(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=hE(t,s);const i=function(u){if(u.length!==0)return mE(rr.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(h=>function(p){return{field:Ai(p.field),direction:nA(p.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Lp(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:s}}function eA(t){let e=K3(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Qe(r===1);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const p=pE(f);return p instanceof rr&&$2(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(b){return new Pu(Ri(b.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,vd(p)?null:p}(n.limit));let c=null;n.startAt&&(c=function(f){const p=!!f.before,y=f.values||[];return new Ru(y,p)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const p=!f.before,y=f.values||[];return new Ru(y,p)}(n.endAt)),v3(e,s,o,i,a,"F",c,u)}function tA(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ue()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function pE(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ri(n.unaryFilter.field);return yt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Ri(n.unaryFilter.field);return yt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ri(n.unaryFilter.field);return yt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ri(n.unaryFilter.field);return yt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ue()}}(t):t.fieldFilter!==void 0?function(n){return yt.create(Ri(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ue()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return rr.create(n.compositeFilter.filters.map(r=>pE(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ue()}}(n.compositeFilter.op))}(t):ue()}function nA(t){return $3[t]}function rA(t){return H3[t]}function sA(t){return W3[t]}function Ai(t){return{fieldPath:t.canonicalString()}}function Ri(t){return Mt.fromServerFormat(t.fieldPath)}function mE(t){return t instanceof yt?function(n){if(n.op==="=="){if(Wv(n.value))return{unaryFilter:{field:Ai(n.field),op:"IS_NAN"}};if(Hv(n.value))return{unaryFilter:{field:Ai(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Wv(n.value))return{unaryFilter:{field:Ai(n.field),op:"IS_NOT_NAN"}};if(Hv(n.value))return{unaryFilter:{field:Ai(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ai(n.field),op:rA(n.op),value:n.value}}}(t):t instanceof rr?function(n){const r=n.getFilters().map(s=>mE(s));return r.length===1?r[0]:{compositeFilter:{op:sA(n.op),filters:r}}}(t):ue()}function iA(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function gE(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e,n,r,s,i=de.min(),o=de.min(),a=tn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new is(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e){this.ct=e}}function aA(t){const e=eA({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Op(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(){this._n=new cA}addToCollectionParentIndex(e,n){return this._n.add(n),G.resolve()}getCollectionParents(e,n){return G.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return G.resolve()}deleteFieldIndex(e,n){return G.resolve()}deleteAllFieldIndexes(e){return G.resolve()}createTargetIndexes(e,n){return G.resolve()}getDocumentsMatchingTarget(e,n){return G.resolve(null)}getIndexType(e,n){return G.resolve(0)}getFieldIndexes(e,n){return G.resolve([])}getNextCollectionGroupToUpdate(e){return G.resolve(null)}getMinOffset(e,n){return G.resolve(Is.min())}getMinOffsetFromCollectionGroup(e,n){return G.resolve(Is.min())}updateCollectionGroup(e,n,r){return G.resolve()}updateIndexEntries(e,n){return G.resolve()}}class cA{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Bt(Je.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Bt(Je.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new fo(0)}static Ln(){return new fo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(){this.changes=new Co(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?G.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Ta(r.mutation,s,Sn.empty(),st.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ae()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ae()){const s=Qs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=da();return i.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Qs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ae()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Br();const o=Sa(),a=function(){return Sa()}();return n.forEach((c,u)=>{const h=r.get(u.key);s.has(u.key)&&(h===void 0||h.mutation instanceof Ps)?i=i.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),Ta(h.mutation,u,h.mutation.getFieldMask(),st.now())):o.set(u.key,Sn.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((u,h)=>o.set(u,h)),n.forEach((u,h)=>{var f;return a.set(u,new dA(h,(f=o.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Sa();let s=new ot((o,a)=>o-a),i=Ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let h=r.get(c)||Sn.empty();h=a.applyToLocalView(u,h),r.set(c,h);const f=(s.get(a.batchId)||Ae()).add(c);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),u=c.key,h=c.value,f=J2();h.forEach(p=>{if(!i.has(p)){const y=iE(n.get(p),r.get(p));y!==null&&f.set(p,y),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return G.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return ae.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):q2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):G.resolve(Qs());let a=-1,c=i;return o.next(u=>G.forEach(u,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(h)?G.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{c=c.insert(h,p)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,c,u,Ae())).next(h=>({batchId:a,changes:X2(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ae(n)).next(r=>{let s=da();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=da();return this.indexManager.getCollectionParents(e,i).next(a=>G.forEach(a,c=>{const u=function(f,p){return new Il(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(h=>{h.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((c,u)=>{const h=u.getKey();o.get(h)===null&&(o=o.insert(h,Zt.newInvalidDocument(h)))});let a=da();return o.forEach((c,u)=>{const h=i.get(c);h!==void 0&&Ta(h.mutation,u,Sn.empty(),st.now()),wd(n,u)&&(a=a.insert(c,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return G.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:fr(s.createTime)}}(n)),G.resolve()}getNamedQuery(e,n){return G.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(s){return{name:s.name,query:aA(s.bundledQuery),readTime:fr(s.readTime)}}(n)),G.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(){this.overlays=new ot(ae.comparator),this.hr=new Map}getOverlay(e,n){return G.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Qs();return G.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),G.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.hr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.hr.delete(r)),G.resolve()}getOverlaysForCollection(e,n,r){const s=Qs(),i=n.length+1,o=new ae(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return G.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new ot((u,h)=>u-h);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=i.get(u.largestBatchId);h===null&&(h=Qs(),i=i.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const a=Qs(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=s)););return G.resolve(a)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.hr.get(s.largestBatchId).delete(r.key);this.hr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new M3(n,r));let i=this.hr.get(n);i===void 0&&(i=Ae(),this.hr.set(n,i)),this.hr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(){this.Pr=new Bt(Et.Ir),this.Tr=new Bt(Et.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new Et(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Et(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new ae(new Je([])),r=new Et(n,e),s=new Et(n,e+1),i=[];return this.Tr.forEachInRange([r,s],o=>{this.Ar(o),i.push(o.key)}),i}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new ae(new Je([])),r=new Et(n,e),s=new Et(n,e+1);let i=Ae();return this.Tr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Et(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Et{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return ae.comparator(e.key,n.key)||Be(e.pr,n.pr)}static Er(e,n){return Be(e.pr,n.pr)||ae.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Bt(Et.Ir)}checkEmpty(e){return G.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new L3(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.wr=this.wr.add(new Et(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return G.resolve(o)}lookupMutationBatch(e,n){return G.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.br(r),i=s<0?0:s;return G.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Et(n,0),s=new Et(n,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([r,s],o=>{const a=this.Sr(o.pr);i.push(a)}),G.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Bt(Be);return n.forEach(s=>{const i=new Et(s,0),o=new Et(s,Number.POSITIVE_INFINITY);this.wr.forEachInRange([i,o],a=>{r=r.add(a.pr)})}),G.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ae.isDocumentKey(i)||(i=i.child(""));const o=new Et(new ae(i),0);let a=new Bt(Be);return this.wr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(c.pr)),!0)},o),G.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const s=this.Sr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Qe(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return G.forEach(n.mutations,s=>{const i=new Et(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new Et(n,0),s=this.wr.firstAfterOrEqual(r);return G.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,G.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e){this.vr=e,this.docs=function(){return new ot(ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return G.resolve(r?r.document.mutableCopy():Zt.newInvalidDocument(n))}getEntries(e,n){let r=Br();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Zt.newInvalidDocument(s))}),G.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Br();const o=n.path,a=new ae(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:u,value:{document:h}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||e3(Zk(h),r)<=0||(s.has(h.key)||wd(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return G.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ue()}Fr(e,n){return G.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new yA(this)}getSize(e){return G.resolve(this.size)}}class yA extends uA{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.ar.addEntry(e,s)):this.ar.removeEntry(r)}),G.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e){this.persistence=e,this.Mr=new Co(n=>hg(n),fg),this.lastRemoteSnapshotVersion=de.min(),this.highestTargetId=0,this.Or=0,this.Nr=new vg,this.targetCount=0,this.Lr=fo.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,s)=>n(s)),G.resolve()}getLastRemoteSnapshotVersion(e){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return G.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),G.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new fo(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,G.resolve()}updateTargetData(e,n){return this.qn(n),G.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,G.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),G.waitFor(i).next(()=>s)}getTargetCount(e){return G.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return G.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),G.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),G.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),G.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return G.resolve(r)}containsKey(e,n){return G.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e,n){this.Br={},this.overlays={},this.kr=new lg(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new vA(this),this.indexManager=new lA,this.remoteDocumentCache=function(s){return new gA(s)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new oA(n),this.$r=new fA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new pA,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new mA(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){re("MemoryPersistence","Starting transaction:",e);const s=new wA(this.kr.next());return this.referenceDelegate.Ur(),r(s).next(i=>this.referenceDelegate.Wr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Gr(e,n){return G.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class wA extends n3{constructor(e){super(),this.currentSequenceNumber=e}}class xg{constructor(e){this.persistence=e,this.zr=new vg,this.jr=null}static Hr(e){return new xg(e)}get Jr(){if(this.jr)return this.jr;throw ue()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),G.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),G.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),G.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(s=>this.Jr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Jr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.Jr,r=>{const s=ae.fromPath(r);return this.Yr(e,s).next(i=>{i||n.removeEntry(s,de.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return G.or([()=>G.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=s}static Ki(e,n){let r=Ae(),s=Ae();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new wg(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return IN()?8:r3(zt())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ji(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Hi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new _A;return this.Ji(e,n,o).next(a=>{if(i.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>i.result)}Yi(e,n,r,s){return r.documentReadCount<this.Wi?(na()<=Re.DEBUG&&re("QueryEngine","SDK will not create cache indexes for query:",ki(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),G.resolve()):(na()<=Re.DEBUG&&re("QueryEngine","Query:",ki(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Gi*s?(na()<=Re.DEBUG&&re("QueryEngine","The SDK decides to create cache indexes for query:",ki(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,hr(n))):G.resolve())}ji(e,n){if(Qv(n))return G.resolve(null);let r=hr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Op(n,null,"F"),r=hr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Ae(...i);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.Zi(n,a);return this.Xi(n,u,o,c.readTime)?this.ji(e,Op(n,null,"F")):this.es(e,u,n,c)}))})))}Hi(e,n,r,s){return Qv(n)||s.isEqual(de.min())?G.resolve(null):this.zi.getDocuments(e,r).next(i=>{const o=this.Zi(n,i);return this.Xi(n,o,r,s)?G.resolve(null):(na()<=Re.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ki(n)),this.es(e,o,n,Jk(s,-1)).next(a=>a))})}Zi(e,n){let r=new Bt(Q2(e));return n.forEach((s,i)=>{wd(e,i)&&(r=r.add(i))}),r}Xi(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ji(e,n,r){return na()<=Re.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",ki(n)),this.zi.getDocumentsMatchingQuery(e,n,Is.min(),r)}es(e,n,r,s){return this.zi.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e,n,r,s){this.persistence=e,this.ts=n,this.serializer=s,this.ns=new ot(Be),this.rs=new Co(i=>hg(i),fg),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hA(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function IA(t,e,n,r){return new bA(t,e,n,r)}async function yE(t,e){const n=fe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let c=Ae();for(const u of s){o.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}for(const u of i){a.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(u=>({us:u,removedBatchIds:o,addedBatchIds:a}))})})}function SA(t,e){const n=fe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(a,c,u,h){const f=u.batch,p=f.keys();let y=G.resolve();return p.forEach(b=>{y=y.next(()=>h.getEntry(c,b)).next(I=>{const N=u.docVersions.get(b);Qe(N!==null),I.version.compareTo(N)<0&&(f.applyToRemoteDocument(I,u),I.isValidDocument()&&(I.setReadTime(u.commitVersion),h.addEntry(I)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(c,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=Ae();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function vE(t){const e=fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function TA(t,e){const n=fe(t),r=e.snapshotVersion;let s=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.os.newChangeBuffer({trackRemovals:!0});s=n.ns;const a=[];e.targetChanges.forEach((h,f)=>{const p=s.get(f);if(!p)return;a.push(n.Qr.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.Qr.addMatchingKeys(i,h.addedDocuments,f)));let y=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?y=y.withResumeToken(tn.EMPTY_BYTE_STRING,de.min()).withLastLimboFreeSnapshotVersion(de.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),s=s.insert(f,y),function(I,N,E){return I.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(p,y,h)&&a.push(n.Qr.updateTargetData(i,y))});let c=Br(),u=Ae();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(CA(i,o,e.documentUpdates).next(h=>{c=h.cs,u=h.ls})),!r.isEqual(de.min())){const h=n.Qr.getLastRemoteSnapshotVersion(i).next(f=>n.Qr.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return G.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,u)).next(()=>c)}).then(i=>(n.ns=s,i))}function CA(t,e,n){let r=Ae(),s=Ae();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Br();return n.forEach((a,c)=>{const u=i.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),c.isNoDocument()&&c.version.isEqual(de.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):re("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{cs:o,ls:s}})}function NA(t,e){const n=fe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function kA(t,e){const n=fe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Qr.getTargetData(r,e).next(i=>i?(s=i,G.resolve(s)):n.Qr.allocateTargetId(r).next(o=>(s=new is(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.ns.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function Bp(t,e,n){const r=fe(t),s=r.ns.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!bl(o))throw o;re("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(s.target)}function o1(t,e,n){const r=fe(t);let s=de.min(),i=Ae();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,h){const f=fe(c),p=f.rs.get(h);return p!==void 0?G.resolve(f.ns.get(p)):f.Qr.getTargetData(u,h)}(r,o,hr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{i=c})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?s:de.min(),n?i:Ae())).next(a=>(AA(r,w3(e),a),{documents:a,hs:i})))}function AA(t,e,n){let r=t.ss.get(e)||de.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.ss.set(e,r)}class a1{constructor(){this.activeTargetIds=T3()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class RA{constructor(){this.no=new a1,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new a1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){re("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){re("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ec=null;function rf(){return Ec===null?Ec=function(){return 268435456+Math.round(2147483648*Math.random())}():Ec++,"0x"+Ec.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt="WebChannelConnection";class OA extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${s}/databases/${i}`,this.bo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Do(){return!1}Co(n,r,s,i,o){const a=rf(),c=this.vo(n,r.toUriEncodedString());re("RestConnection",`Sending RPC '${n}' ${a}:`,c,s);const u={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(u,i,o),this.Mo(n,c,u,s).then(h=>(re("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw lo("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",c,"request:",s),h})}xo(n,r,s,i,o,a){return this.Co(n,r,s,i,o)}Fo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+To}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}vo(n,r){const s=DA[n];return`${this.wo}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,s){const i=rf();return new Promise((o,a)=>{const c=new A2;c.setWithCredentials(!0),c.listenOnce(P2.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case zc.NO_ERROR:const h=c.getResponseJson();re(Qt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(h)),o(h);break;case zc.TIMEOUT:re(Qt,`RPC '${e}' ${i} timed out`),a(new Z($.DEADLINE_EXCEEDED,"Request time out"));break;case zc.HTTP_ERROR:const f=c.getStatus();if(re(Qt,`RPC '${e}' ${i} failed with status:`,f,"response text:",c.getResponseText()),f>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const y=p==null?void 0:p.error;if(y&&y.status&&y.message){const b=function(N){const E=N.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(E)>=0?E:$.UNKNOWN}(y.status);a(new Z(b,y.message))}else a(new Z($.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new Z($.UNAVAILABLE,"Connection failed."));break;default:ue()}}finally{re(Qt,`RPC '${e}' ${i} completed.`)}});const u=JSON.stringify(s);re(Qt,`RPC '${e}' ${i} sending request:`,s),c.send(n,"POST",u,r,15)})}Oo(e,n,r){const s=rf(),i=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=O2(),a=j2(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.xmlHttpFactory=new R2({})),this.Fo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=i.join("");re(Qt,`Creating RPC '${e}' stream ${s}: ${h}`,c);const f=o.createWebChannel(h,c);let p=!1,y=!1;const b=new jA({lo:N=>{y?re(Qt,`Not sending because RPC '${e}' stream ${s} is closed:`,N):(p||(re(Qt,`Opening RPC '${e}' stream ${s} transport.`),f.open(),p=!0),re(Qt,`RPC '${e}' stream ${s} sending:`,N),f.send(N))},ho:()=>f.close()}),I=(N,E,w)=>{N.listen(E,_=>{try{w(_)}catch(P){setTimeout(()=>{throw P},0)}})};return I(f,ua.EventType.OPEN,()=>{y||(re(Qt,`RPC '${e}' stream ${s} transport opened.`),b.mo())}),I(f,ua.EventType.CLOSE,()=>{y||(y=!0,re(Qt,`RPC '${e}' stream ${s} transport closed`),b.po())}),I(f,ua.EventType.ERROR,N=>{y||(y=!0,lo(Qt,`RPC '${e}' stream ${s} transport errored:`,N),b.po(new Z($.UNAVAILABLE,"The operation could not be completed")))}),I(f,ua.EventType.MESSAGE,N=>{var E;if(!y){const w=N.data[0];Qe(!!w);const _=w,P=_.error||((E=_[0])===null||E===void 0?void 0:E.error);if(P){re(Qt,`RPC '${e}' stream ${s} received error:`,P);const O=P.status;let j=function(C){const k=ft[C];if(k!==void 0)return aE(k)}(O),T=P.message;j===void 0&&(j=$.INTERNAL,T="Unknown error status: "+O+" with message "+P.message),y=!0,b.po(new Z(j,T)),f.close()}else re(Qt,`RPC '${e}' stream ${s} received:`,w),b.yo(w)}}),I(a,D2.STAT_EVENT,N=>{N.stat===kp.PROXY?re(Qt,`RPC '${e}' stream ${s} detected buffering proxy`):N.stat===kp.NOPROXY&&re(Qt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{b.fo()},0),b}}function sf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sd(t){return new G3(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(e,n,r=1e3,s=1.5,i=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=s,this.Bo=i,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),s=Math.max(0,n-r);s>0&&re("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,s,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(e,n,r,s,i,o,a,c){this.oi=e,this.Go=r,this.zo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new xE(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,n){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(Fr(n.toString()),Fr("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(n)}__(){}auth(){this.state=1;const e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.jo===n&&this.u_(r,s)},r=>{e(()=>{const s=new Z($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(s)})})}u_(e,n){const r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(s=>{r(()=>this.c_(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}e_(){this.state=5,this.Yo.$o(async()=>{this.state=0,this.start()})}c_(e){return re("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(re("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class LA extends wE{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();const n=Q3(this.serializer,e),r=function(i){if(!("targetChange"in i))return de.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?de.min():o.readTime?fr(o.readTime):de.min()}(e);return this.listener.h_(n,r)}P_(e){const n={};n.database=Fp(this.serializer),n.addTarget=function(i,o){let a;const c=o.target;if(a=Dp(c)?{documents:J3(i,c)}:{query:Z3(i,c)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=uE(i,o.resumeToken);const u=Lp(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(de.min())>0){a.readTime=ju(i,o.snapshotVersion.toTimestamp());const u=Lp(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=tA(this.serializer,e);r&&(n.labels=r),this.i_(n)}I_(e){const n={};n.database=Fp(this.serializer),n.removeTarget=e,this.i_(n)}}class MA extends wE{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const n=X3(e.writeResults,e.commitTime),r=fr(e.commitTime);return this.listener.A_(r,n)}return Qe(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=Fp(this.serializer),this.i_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Y3(this.serializer,r))};this.i_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.m_=!1}f_(){if(this.m_)throw new Z($.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Co(e,Mp(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Z($.UNKNOWN,i.toString())})}xo(e,n,r,s,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.xo(e,Mp(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Z($.UNKNOWN,o.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class FA{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Fr(n),this.y_=!1):re("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=i,this.O_.io(o=>{r.enqueueAndForget(async()=>{vi(this)&&(re("RemoteStore","Restarting streams for network reachability change."),await async function(c){const u=fe(c);u.M_.add(4),await Cl(u),u.N_.set("Unknown"),u.M_.delete(4),await Td(u)}(this))})}),this.N_=new FA(r,s)}}async function Td(t){if(vi(t))for(const e of t.x_)await e(!0)}async function Cl(t){for(const e of t.x_)await e(!1)}function _E(t,e){const n=fe(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),Ig(n)?bg(n):No(n).Xo()&&Eg(n,e))}function _g(t,e){const n=fe(t),r=No(n);n.F_.delete(e),r.Xo()&&EE(n,e),n.F_.size===0&&(r.Xo()?r.n_():vi(n)&&n.N_.set("Unknown"))}function Eg(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(de.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}No(t).P_(e)}function EE(t,e){t.L_.xe(e),No(t).I_(e)}function bg(t){t.L_=new z3({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),No(t).start(),t.N_.w_()}function Ig(t){return vi(t)&&!No(t).Zo()&&t.F_.size>0}function vi(t){return fe(t).M_.size===0}function bE(t){t.L_=void 0}async function UA(t){t.N_.set("Online")}async function zA(t){t.F_.forEach((e,n)=>{Eg(t,e)})}async function $A(t,e){bE(t),Ig(t)?(t.N_.D_(e),bg(t)):t.N_.set("Unknown")}async function HA(t,e,n){if(t.N_.set("Online"),e instanceof cE&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.F_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.F_.delete(a),s.L_.removeTarget(a))}(t,e)}catch(r){re("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ou(t,r)}else if(e instanceof Wc?t.L_.Ke(e):e instanceof lE?t.L_.He(e):t.L_.We(e),!n.isEqual(de.min()))try{const r=await vE(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.L_.rt(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const h=i.F_.get(u);h&&i.F_.set(u,h.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{const h=i.F_.get(c);if(!h)return;i.F_.set(c,h.withResumeToken(tn.EMPTY_BYTE_STRING,h.snapshotVersion)),EE(i,c);const f=new is(h.target,c,u,h.sequenceNumber);Eg(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){re("RemoteStore","Failed to raise snapshot:",r),await Ou(t,r)}}async function Ou(t,e,n){if(!bl(e))throw e;t.M_.add(1),await Cl(t),t.N_.set("Offline"),n||(n=()=>vE(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{re("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await Td(t)})}function IE(t,e){return e().catch(n=>Ou(t,n,e))}async function Cd(t){const e=fe(t),n=Ts(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;WA(e);)try{const s=await NA(e.localStore,r);if(s===null){e.v_.length===0&&n.n_();break}r=s.batchId,GA(e,s)}catch(s){await Ou(e,s)}SE(e)&&TE(e)}function WA(t){return vi(t)&&t.v_.length<10}function GA(t,e){t.v_.push(e);const n=Ts(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function SE(t){return vi(t)&&!Ts(t).Zo()&&t.v_.length>0}function TE(t){Ts(t).start()}async function qA(t){Ts(t).V_()}async function KA(t){const e=Ts(t);for(const n of t.v_)e.d_(n.mutations)}async function QA(t,e,n){const r=t.v_.shift(),s=mg.from(r,e,n);await IE(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Cd(t)}async function YA(t,e){e&&Ts(t).E_&&await async function(r,s){if(function(o){return F3(o)&&o!==$.ABORTED}(s.code)){const i=r.v_.shift();Ts(r).t_(),await IE(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Cd(r)}}(t,e),SE(t)&&TE(t)}async function c1(t,e){const n=fe(t);n.asyncQueue.verifyOperationInProgress(),re("RemoteStore","RemoteStore received new credentials");const r=vi(n);n.M_.add(3),await Cl(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await Td(n)}async function XA(t,e){const n=fe(t);e?(n.M_.delete(2),await Td(n)):e||(n.M_.add(2),await Cl(n),n.N_.set("Unknown"))}function No(t){return t.B_||(t.B_=function(n,r,s){const i=fe(n);return i.f_(),new LA(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Po:UA.bind(null,t),To:zA.bind(null,t),Ao:$A.bind(null,t),h_:HA.bind(null,t)}),t.x_.push(async e=>{e?(t.B_.t_(),Ig(t)?bg(t):t.N_.set("Unknown")):(await t.B_.stop(),bE(t))})),t.B_}function Ts(t){return t.k_||(t.k_=function(n,r,s){const i=fe(n);return i.f_(),new MA(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:qA.bind(null,t),Ao:YA.bind(null,t),R_:KA.bind(null,t),A_:QA.bind(null,t)}),t.x_.push(async e=>{e?(t.k_.t_(),await Cd(t)):(await t.k_.stop(),t.v_.length>0&&(re("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))})),t.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new jr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Sg(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Z($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tg(t,e){if(Fr("AsyncQueue",`${e}: ${t}`),bl(t))return new Z($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ae.comparator(n.key,r.key):(n,r)=>ae.comparator(n.key,r.key),this.keyedMap=da(),this.sortedSet=new ot(this.comparator)}static emptySet(e){return new Yi(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Yi)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Yi;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(){this.q_=new ot(ae.comparator)}track(e){const n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):ue():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}}class po{constructor(e,n,r,s,i,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new po(e,n,Yi.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class ZA{constructor(){this.queries=new Co(e=>K2(e),xd),this.onlineState="Unknown",this.z_=new Set}}async function CE(t,e){const n=fe(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.W_()&&e.G_()&&(r=2):(i=new JA,r=e.G_()?0:1);try{switch(r){case 0:i.K_=await n.onListen(s,!0);break;case 1:i.K_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Tg(o,`Initialization of query '${ki(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.U_.push(e),e.j_(n.onlineState),i.K_&&e.H_(i.K_)&&Cg(n)}async function NE(t,e){const n=fe(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.U_.indexOf(e);o>=0&&(i.U_.splice(o,1),i.U_.length===0?s=e.G_()?0:1:!i.W_()&&e.G_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function eR(t,e){const n=fe(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.U_)a.H_(s)&&(r=!0);o.K_=s}}r&&Cg(n)}function tR(t,e,n){const r=fe(t),s=r.queries.get(e);if(s)for(const i of s.U_)i.onError(n);r.queries.delete(e)}function Cg(t){t.z_.forEach(e=>{e.next()})}var Up,d1;(d1=Up||(Up={})).J_="default",d1.Cache="cache";class kE{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new po(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=po.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==Up.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(e){this.key=e}}class RE{constructor(e){this.key=e}}class nR{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=Ae(),this.mutatedKeys=Ae(),this.Ia=Q2(e),this.Ta=new Yi(this.Ia)}get Ea(){return this.la}da(e,n){const r=n?n.Aa:new u1,s=n?n.Ta:this.Ta;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const p=s.get(h),y=wd(this.query,f)?f:null,b=!!p&&this.mutatedKeys.has(p.key),I=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let N=!1;p&&y?p.data.isEqual(y.data)?b!==I&&(r.track({type:3,doc:y}),N=!0):this.Ra(p,y)||(r.track({type:2,doc:y}),N=!0,(c&&this.Ia(y,c)>0||u&&this.Ia(y,u)<0)&&(a=!0)):!p&&y?(r.track({type:0,doc:y}),N=!0):p&&!y&&(r.track({type:1,doc:p}),N=!0,(c||u)&&(a=!0)),N&&(y?(o=o.add(y),i=I?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{Ta:o,Aa:r,Xi:a,mutatedKeys:i}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const o=e.Aa.Q_();o.sort((h,f)=>function(y,b){const I=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ue()}};return I(y)-I(b)}(h.type,f.type)||this.Ia(h.doc,f.doc)),this.Va(r),s=s!=null&&s;const a=n&&!s?this.ma():[],c=this.Pa.size===0&&this.current&&!s?1:0,u=c!==this.ha;return this.ha=c,o.length!==0||u?{snapshot:new po(this.query,e.Ta,i,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new u1,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=Ae(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new RE(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new AE(r))}),n}pa(e){this.la=e.hs,this.Pa=Ae();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return po.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class rR{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class sR{constructor(e){this.key=e,this.wa=!1}}class iR{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new Co(a=>K2(a),xd),this.Da=new Map,this.Ca=new Set,this.va=new ot(ae.comparator),this.Fa=new Map,this.Ma=new vg,this.xa={},this.Oa=new Map,this.Na=fo.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function oR(t,e,n=!0){const r=ME(t);let s;const i=r.ba.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.ya()):s=await PE(r,e,n,!0),s}async function aR(t,e){const n=ME(t);await PE(n,e,!0,!1)}async function PE(t,e,n,r){const s=await kA(t.localStore,hr(e)),i=s.targetId,o=n?t.sharedClientState.addLocalQueryTarget(i):"not-current";let a;return r&&(a=await lR(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&_E(t.remoteStore,s),a}async function lR(t,e,n,r,s){t.Ba=(f,p,y)=>async function(I,N,E,w){let _=N.view.da(E);_.Xi&&(_=await o1(I.localStore,N.query,!1).then(({documents:T})=>N.view.da(T,_)));const P=w&&w.targetChanges.get(N.targetId),O=w&&w.targetMismatches.get(N.targetId)!=null,j=N.view.applyChanges(_,I.isPrimaryClient,P,O);return f1(I,N.targetId,j.fa),j.snapshot}(t,f,p,y);const i=await o1(t.localStore,e,!0),o=new nR(e,i.hs),a=o.da(i.documents),c=Tl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,c);f1(t,n,u.fa);const h=new rR(e,n,o);return t.ba.set(e,h),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),u.snapshot}async function cR(t,e,n){const r=fe(t),s=r.ba.get(e),i=r.Da.get(s.targetId);if(i.length>1)return r.Da.set(s.targetId,i.filter(o=>!xd(o,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Bp(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&_g(r.remoteStore,s.targetId),zp(r,s.targetId)}).catch(El)):(zp(r,s.targetId),await Bp(r.localStore,s.targetId,!0))}async function uR(t,e){const n=fe(t),r=n.ba.get(e),s=n.Da.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),_g(n.remoteStore,r.targetId))}async function dR(t,e,n){const r=vR(t);try{const s=await function(o,a){const c=fe(o),u=st.now(),h=a.reduce((y,b)=>y.add(b.key),Ae());let f,p;return c.persistence.runTransaction("Locally write mutations","readwrite",y=>{let b=Br(),I=Ae();return c.os.getEntries(y,h).next(N=>{b=N,b.forEach((E,w)=>{w.isValidDocument()||(I=I.add(E))})}).next(()=>c.localDocuments.getOverlayedDocuments(y,b)).next(N=>{f=N;const E=[];for(const w of a){const _=j3(w,f.get(w.key).overlayedDocument);_!=null&&E.push(new Ps(w.key,_,B2(_.value.mapValue),ln.exists(!0)))}return c.mutationQueue.addMutationBatch(y,u,E,a)}).next(N=>{p=N;const E=N.applyToLocalDocumentSet(f,I);return c.documentOverlayCache.saveOverlays(y,N.batchId,E)})}).then(()=>({batchId:p.batchId,changes:X2(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,c){let u=o.xa[o.currentUser.toKey()];u||(u=new ot(Be)),u=u.insert(a,c),o.xa[o.currentUser.toKey()]=u}(r,s.batchId,n),await Nl(r,s.changes),await Cd(r.remoteStore)}catch(s){const i=Tg(s,"Failed to persist write");n.reject(i)}}async function DE(t,e){const n=fe(t);try{const r=await TA(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Fa.get(i);o&&(Qe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.wa=!0:s.modifiedDocuments.size>0?Qe(o.wa):s.removedDocuments.size>0&&(Qe(o.wa),o.wa=!1))}),await Nl(n,r,e)}catch(r){await El(r)}}function h1(t,e,n){const r=fe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.ba.forEach((i,o)=>{const a=o.view.j_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const c=fe(o);c.onlineState=a;let u=!1;c.queries.forEach((h,f)=>{for(const p of f.U_)p.j_(a)&&(u=!0)}),u&&Cg(c)}(r.eventManager,e),s.length&&r.Sa.h_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function hR(t,e,n){const r=fe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Fa.get(e),i=s&&s.key;if(i){let o=new ot(ae.comparator);o=o.insert(i,Zt.newNoDocument(i,de.min()));const a=Ae().add(i),c=new Id(de.min(),new Map,new ot(Be),o,a);await DE(r,c),r.va=r.va.remove(i),r.Fa.delete(e),Ng(r)}else await Bp(r.localStore,e,!1).then(()=>zp(r,e,n)).catch(El)}async function fR(t,e){const n=fe(t),r=e.batch.batchId;try{const s=await SA(n.localStore,e);OE(n,r,null),jE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Nl(n,s)}catch(s){await El(s)}}async function pR(t,e,n){const r=fe(t);try{const s=await function(o,a){const c=fe(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return c.mutationQueue.lookupMutationBatch(u,a).next(f=>(Qe(f!==null),h=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>c.localDocuments.getDocuments(u,h))})}(r.localStore,e);OE(r,e,n),jE(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Nl(r,s)}catch(s){await El(s)}}function jE(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function OE(t,e,n){const r=fe(t);let s=r.xa[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.xa[r.currentUser.toKey()]=s}}function zp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(r=>{t.Ma.containsKey(r)||LE(t,r)})}function LE(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);n!==null&&(_g(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),Ng(t))}function f1(t,e,n){for(const r of n)r instanceof AE?(t.Ma.addReference(r.key,e),mR(t,r)):r instanceof RE?(re("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||LE(t,r.key)):ue()}function mR(t,e){const n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(re("SyncEngine","New document in limbo: "+n),t.Ca.add(r),Ng(t))}function Ng(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new ae(Je.fromString(e)),r=t.Na.next();t.Fa.set(r,new sR(n)),t.va=t.va.insert(n,r),_E(t.remoteStore,new is(hr(pg(n.path)),r,"TargetPurposeLimboResolution",lg.oe))}}async function Nl(t,e,n){const r=fe(t),s=[],i=[],o=[];r.ba.isEmpty()||(r.ba.forEach((a,c)=>{o.push(r.Ba(c,e,n).then(u=>{var h;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){s.push(u);const f=wg.Ki(c.targetId,u);i.push(f)}}))}),await Promise.all(o),r.Sa.h_(s),await async function(c,u){const h=fe(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>G.forEach(u,p=>G.forEach(p.qi,y=>h.persistence.referenceDelegate.addReference(f,p.targetId,y)).next(()=>G.forEach(p.Qi,y=>h.persistence.referenceDelegate.removeReference(f,p.targetId,y)))))}catch(f){if(!bl(f))throw f;re("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const p=f.targetId;if(!f.fromCache){const y=h.ns.get(p),b=y.snapshotVersion,I=y.withLastLimboFreeSnapshotVersion(b);h.ns=h.ns.insert(p,I)}}}(r.localStore,i))}async function gR(t,e){const n=fe(t);if(!n.currentUser.isEqual(e)){re("SyncEngine","User change. New user:",e.toKey());const r=await yE(n.localStore,e);n.currentUser=e,function(i,o){i.Oa.forEach(a=>{a.forEach(c=>{c.reject(new Z($.CANCELLED,o))})}),i.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Nl(n,r.us)}}function yR(t,e){const n=fe(t),r=n.Fa.get(e);if(r&&r.wa)return Ae().add(r.key);{let s=Ae();const i=n.Da.get(e);if(!i)return s;for(const o of i){const a=n.ba.get(o);s=s.unionWith(a.view.Ea)}return s}}function ME(t){const e=fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=DE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hR.bind(null,e),e.Sa.h_=eR.bind(null,e.eventManager),e.Sa.ka=tR.bind(null,e.eventManager),e}function vR(t){const e=fe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=pR.bind(null,e),e}class p1{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Sd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return IA(this.persistence,new EA,e.initialUser,this.serializer)}createPersistence(e){return new xA(xg.Hr,this.serializer)}createSharedClientState(e){return new RA}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class xR{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>h1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=gR.bind(null,this.syncEngine),await XA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new ZA}()}createDatastore(e){const n=Sd(e.databaseInfo.databaseId),r=function(i){return new OA(i)}(e.databaseInfo);return function(i,o,a,c){return new VA(i,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new BA(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>h1(this.syncEngine,n,0),function(){return l1.D()?new l1:new PA}())}createSyncEngine(e,n){return function(s,i,o,a,c,u,h){const f=new iR(s,i,o,a,c,u);return h&&(f.La=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const s=fe(r);re("RemoteStore","RemoteStore shutting down."),s.M_.add(5),await Cl(s),s.O_.shutdown(),s.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Fr("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Yt.UNAUTHENTICATED,this.clientId=M2.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{re("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(re("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Z($.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new jr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Tg(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function of(t,e){t.asyncQueue.verifyOperationInProgress(),re("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await yE(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function m1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await ER(t);re("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>c1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>c1(e.remoteStore,s)),t._onlineComponents=e}function _R(t){return t.name==="FirebaseError"?t.code===$.FAILED_PRECONDITION||t.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function ER(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){re("FirestoreClient","Using user provided OfflineComponentProvider");try{await of(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!_R(n))throw n;lo("Error using user provided cache. Falling back to memory cache: "+n),await of(t,new p1)}}else re("FirestoreClient","Using default OfflineComponentProvider"),await of(t,new p1);return t._offlineComponents}async function FE(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(re("FirestoreClient","Using user provided OnlineComponentProvider"),await m1(t,t._uninitializedComponentsProvider._online)):(re("FirestoreClient","Using default OnlineComponentProvider"),await m1(t,new xR))),t._onlineComponents}function bR(t){return FE(t).then(e=>e.syncEngine)}async function BE(t){const e=await FE(t),n=e.eventManager;return n.onListen=oR.bind(null,e.syncEngine),n.onUnlisten=cR.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=aR.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=uR.bind(null,e.syncEngine),n}function IR(t,e,n={}){const r=new jr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,c,u){const h=new VE({next:p=>{o.enqueueAndForget(()=>NE(i,f));const y=p.docs.has(a);!y&&p.fromCache?u.reject(new Z($.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&p.fromCache&&c&&c.source==="server"?u.reject(new Z($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),f=new kE(pg(a.path),h,{includeMetadataChanges:!0,ra:!0});return CE(i,f)}(await BE(t),t.asyncQueue,e,n,r)),r.promise}function SR(t,e,n={}){const r=new jr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,c,u){const h=new VE({next:p=>{o.enqueueAndForget(()=>NE(i,f)),p.fromCache&&c.source==="server"?u.reject(new Z($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),f=new kE(a,h,{includeMetadataChanges:!0,ra:!0});return CE(i,f)}(await BE(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(t,e,n){if(!n)throw new Z($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function TR(t,e,n,r){if(e===!0&&r===!0)throw new Z($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function y1(t){if(!ae.isDocumentKey(t))throw new Z($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function v1(t){if(ae.isDocumentKey(t))throw new Z($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Nd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ue()}function Hn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Z($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Nd(t);throw new Z($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Z($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Z($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}TR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=UE((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Z($.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Z($.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Z($.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class kd{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new x1({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Z($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Z($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new x1(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new $k;switch(r.type){case"firstParty":return new qk(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Z($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=g1.get(n);r&&(re("ComponentProvider","Removing Datastore"),g1.delete(n),r.terminate())}(this),Promise.resolve()}}function CR(t,e,n,r={}){var s;const i=(t=Hn(t,kd))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&lo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=Yt.MOCK_USER;else{a=vN(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Z($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Yt(u)}t._authCredentials=new Hk(new L2(a,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ko(this.firestore,e,this._query)}}class cn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cn(this.firestore,e,this._key)}}class vs extends ko{constructor(e,n,r){super(e,n,pg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new cn(this.firestore,null,new ae(e))}withConverter(e){return new vs(this.firestore,e,this._path)}}function xe(t,e,...n){if(t=Tt(t),zE("collection","path",e),t instanceof kd){const r=Je.fromString(e,...n);return v1(r),new vs(t,null,r)}{if(!(t instanceof cn||t instanceof vs))throw new Z($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Je.fromString(e,...n));return v1(r),new vs(t.firestore,null,r)}}function Se(t,e,...n){if(t=Tt(t),arguments.length===1&&(e=M2.newId()),zE("doc","path",e),t instanceof kd){const r=Je.fromString(e,...n);return y1(r),new cn(t,null,new ae(r))}{if(!(t instanceof cn||t instanceof vs))throw new Z($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Je.fromString(e,...n));return y1(r),new cn(t.firestore,t instanceof vs?t.converter:null,new ae(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new xE(this,"async_queue_retry"),this.hu=()=>{const n=sf();n&&re("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const e=sf();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=sf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new jr;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!bl(e))throw e;re("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Fr("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const s=Sg.createAndSchedule(this,e,n,r,i=>this.Eu(i));return this._u.push(s),s}Pu(){this.au&&ue()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}class Ds extends kd{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=function(){return new NR}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||HE(this),this._firestoreClient.terminate()}}function $E(t,e){const n=typeof t=="object"?t:S2(),r=typeof t=="string"?t:"(default)",s=og(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=gN("firestore");i&&CR(s,...i)}return s}function Ad(t){return t._firestoreClient||HE(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function HE(t){var e,n,r;const s=t._freezeSettings(),i=function(a,c,u,h){return new o3(a,c,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,UE(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new wR(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new mo(tn.fromBase64String(e))}catch(n){throw new Z($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new mo(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Z($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Z($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Z($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR=/^__.*__$/;class AR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ps(e,this.data,this.fieldMask,n,this.fieldTransforms):new Sl(e,this.data,n,this.fieldTransforms)}}class WE{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ps(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function GE(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ue()}}class Ag{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.mu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new Ag(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.gu({path:r,yu:!1});return s.wu(e),s}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.gu({path:r,yu:!1});return s.mu(),s}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Lu(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(GE(this.fu)&&kR.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class RR{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Sd(e)}Fu(e,n,r,s=!1){return new Ag({fu:e,methodName:n,vu:r,path:Mt.emptyPath(),yu:!1,Cu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Al(t){const e=t._freezeSettings(),n=Sd(t._databaseId);return new RR(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Rg(t,e,n,r,s,i={}){const o=t.Fu(i.merge||i.mergeFields?2:0,e,n,s);Dg("Data must be an object, but it was:",o,r);const a=QE(r,o);let c,u;if(i.merge)c=new Sn(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const p=$p(e,f,n);if(!o.contains(p))throw new Z($.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);XE(h,p)||h.push(p)}c=new Sn(h),u=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=o.fieldTransforms;return new AR(new gn(a),c,u)}class Pd extends Rd{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Pd}}class Pg extends Rd{_toFieldTransform(e){return new A3(e.path,new el)}isEqual(e){return e instanceof Pg}}function qE(t,e,n,r){const s=t.Fu(1,e,n);Dg("Data must be an object, but it was:",s,r);const i=[],o=gn.empty();yi(r,(c,u)=>{const h=jg(e,c,n);u=Tt(u);const f=s.Su(h);if(u instanceof Pd)i.push(h);else{const p=Rl(u,f);p!=null&&(i.push(h),o.set(h,p))}});const a=new Sn(i);return new WE(o,a,s.fieldTransforms)}function KE(t,e,n,r,s,i){const o=t.Fu(1,e,n),a=[$p(e,r,n)],c=[s];if(i.length%2!=0)throw new Z($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)a.push($p(e,i[p])),c.push(i[p+1]);const u=[],h=gn.empty();for(let p=a.length-1;p>=0;--p)if(!XE(u,a[p])){const y=a[p];let b=c[p];b=Tt(b);const I=o.Su(y);if(b instanceof Pd)u.push(y);else{const N=Rl(b,I);N!=null&&(u.push(y),h.set(y,N))}}const f=new Sn(u);return new WE(h,f,o.fieldTransforms)}function PR(t,e,n,r=!1){return Rl(n,t.Fu(r?4:3,e))}function Rl(t,e){if(YE(t=Tt(t)))return Dg("Unsupported field value:",e,t),QE(t,e);if(t instanceof Rd)return function(r,s){if(!GE(s.fu))throw s.Du(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Du(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let c=Rl(a,s.bu(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Tt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return C3(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=st.fromDate(r);return{timestampValue:ju(s.serializer,i)}}if(r instanceof st){const i=new st(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ju(s.serializer,i)}}if(r instanceof kg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof mo)return{bytesValue:uE(s.serializer,r._byteString)};if(r instanceof cn){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:yg(r.firestore._databaseId||s.databaseId,r._key.path)}}throw s.Du(`Unsupported field value: ${Nd(r)}`)}(t,e)}function QE(t,e){const n={};return V2(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):yi(t,(r,s)=>{const i=Rl(s,e.pu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function YE(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof st||t instanceof kg||t instanceof mo||t instanceof cn||t instanceof Rd)}function Dg(t,e,n){if(!YE(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Nd(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function $p(t,e,n){if((e=Tt(e))instanceof kl)return e._internalPath;if(typeof e=="string")return jg(t,e);throw Lu("Field path arguments must be of type string or ",t,!1,void 0,n)}const DR=new RegExp("[~\\*/\\[\\]]");function jg(t,e,n){if(e.search(DR)>=0)throw Lu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new kl(...e.split("."))._internalPath}catch{throw Lu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Lu(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new Z($.INVALID_ARGUMENT,a+t+c)}function XE(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new jR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Og("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class jR extends JE{data(){return super.data()}}function Og(t,e){return typeof e=="string"?jg(t,e):e instanceof kl?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Z($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Lg{}class LR extends Lg{}function Ue(t,e,...n){let r=[];e instanceof Lg&&r.push(e),r=r.concat(n),function(i){const o=i.filter(c=>c instanceof Mg).length,a=i.filter(c=>c instanceof Dd).length;if(o>1||o>0&&a>0)throw new Z($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Dd extends LR{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Dd(e,n,r)}_apply(e){const n=this._parse(e);return ZE(e._query,n),new ko(e.firestore,e.converter,jp(e._query,n))}_parse(e){const n=Al(e.firestore);return function(i,o,a,c,u,h,f){let p;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Z($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){_1(f,h);const y=[];for(const b of f)y.push(w1(c,i,b));p={arrayValue:{values:y}}}else p=w1(c,i,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||_1(f,h),p=PR(a,o,f,h==="in"||h==="not-in");return yt.create(u,h,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function be(t,e,n){const r=e,s=Og("where",t);return Dd._create(s,r,n)}class Mg extends Lg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Mg(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:rr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const c of a)ZE(o,c),o=jp(o,c)}(e._query,n),new ko(e.firestore,e.converter,jp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function w1(t,e,n){if(typeof(n=Tt(n))=="string"){if(n==="")throw new Z($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!q2(e)&&n.indexOf("/")!==-1)throw new Z($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Je.fromString(n));if(!ae.isDocumentKey(r))throw new Z($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return $v(t,new ae(r))}if(n instanceof cn)return $v(t,n._key);throw new Z($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Nd(n)}.`)}function _1(t,e){if(!Array.isArray(t)||t.length===0)throw new Z($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ZE(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Z($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Z($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class MR{convertValue(e,n="none"){switch(ui(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ci(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ue()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return yi(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertGeoPoint(e){return new kg(mt(e.latitude),mt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ug(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Xa(e));default:return null}}convertTimestamp(e){const n=Ss(e);return new st(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Je.fromString(e);Qe(gE(r));const s=new Ja(r.get(1),r.get(3)),i=new ae(r.popFirst(5));return s.isEqual(n)||Fr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vg(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class eb extends JE{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Gc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Og("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Gc extends eb{data(e={}){return super.data(e)}}class VR{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new fa(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Gc(this._firestore,this._userDataWriter,r.key,r,new fa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Z($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const c=new Gc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new fa(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const c=new Gc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new fa(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,h=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:FR(a.type),doc:c,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function FR(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ue()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function af(t){t=Hn(t,cn);const e=Hn(t.firestore,Ds);return IR(Ad(e),t._key).then(n=>BR(e,t,n))}class tb extends MR{constructor(e){super(),this.firestore=e}convertBytes(e){return new mo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new cn(this.firestore,null,n)}}function Fe(t){t=Hn(t,ko);const e=Hn(t.firestore,Ds),n=Ad(e),r=new tb(e);return OR(t._query),SR(n,t._query).then(s=>new VR(e,r,t,s))}function or(t,e,n){t=Hn(t,cn);const r=Hn(t.firestore,Ds),s=Vg(t.converter,e,n);return Pl(r,[Rg(Al(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,ln.none())])}function Bs(t,e,n,...r){t=Hn(t,cn);const s=Hn(t.firestore,Ds),i=Al(s);let o;return o=typeof(e=Tt(e))=="string"||e instanceof kl?KE(i,"updateDoc",t._key,e,n,r):qE(i,"updateDoc",t._key,e),Pl(s,[o.toMutation(t._key,ln.exists(!0))])}function ar(t){return Pl(Hn(t.firestore,Ds),[new bd(t._key,ln.none())])}function br(t,e){const n=Hn(t.firestore,Ds),r=Se(t),s=Vg(t.converter,e);return Pl(n,[Rg(Al(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,ln.exists(!1))]).then(()=>r)}function Pl(t,e){return function(r,s){const i=new jr;return r.asyncQueue.enqueueAndForget(async()=>dR(await bR(r),s,i)),i.promise}(Ad(t),e)}function BR(t,e,n){const r=n.docs.get(e._key),s=new tb(t);return new eb(t,s,e._key,r,new fa(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Al(e)}set(e,n,r){this._verifyNotCommitted();const s=lf(e,this._firestore),i=Vg(s.converter,n,r),o=Rg(this._dataReader,"WriteBatch.set",s._key,i,s.converter!==null,r);return this._mutations.push(o.toMutation(s._key,ln.none())),this}update(e,n,r,...s){this._verifyNotCommitted();const i=lf(e,this._firestore);let o;return o=typeof(n=Tt(n))=="string"||n instanceof kl?KE(this._dataReader,"WriteBatch.update",i._key,n,r,s):qE(this._dataReader,"WriteBatch.update",i._key,n),this._mutations.push(o.toMutation(i._key,ln.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=lf(e,this._firestore);return this._mutations=this._mutations.concat(new bd(n._key,ln.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Z($.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function lf(t,e){if((t=Tt(t)).firestore!==e)throw new Z($.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function zR(){return new Pg("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hp(t){return Ad(t=Hn(t,Ds)),new UR(t,e=>Pl(t,e))}(function(e,n=!0){(function(s){To=s})(So),ao(new oi("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Ds(new Wk(r.getProvider("auth-internal")),new Qk(r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Z($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ja(u.options.projectId,h)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),ys(Fv,"4.6.4",e),ys(Fv,"4.6.4","esm2017")})();var jt=[];for(var cf=0;cf<256;++cf)jt.push((cf+256).toString(16).slice(1));function $R(t,e=0){return(jt[t[e+0]]+jt[t[e+1]]+jt[t[e+2]]+jt[t[e+3]]+"-"+jt[t[e+4]]+jt[t[e+5]]+"-"+jt[t[e+6]]+jt[t[e+7]]+"-"+jt[t[e+8]]+jt[t[e+9]]+"-"+jt[t[e+10]]+jt[t[e+11]]+jt[t[e+12]]+jt[t[e+13]]+jt[t[e+14]]+jt[t[e+15]]).toLowerCase()}var bc,HR=new Uint8Array(16);function WR(){if(!bc&&(bc=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!bc))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return bc(HR)}var GR=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const E1={randomUUID:GR};function qR(t,e,n){if(E1.randomUUID&&!e&&!t)return E1.randomUUID();t=t||{};var r=t.random||(t.rng||WR)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,$R(r)}const qe=v.createContext(null),KR=({children:t})=>{const[e,n]=v.useState([]),[r,s]=v.useState([]),[i,o]=v.useState(0),[a,c]=v.useState(""),[u,h]=v.useState(null),[f,p]=v.useState(void 0),[y,b]=v.useState(""),[I,N]=v.useState(0),[E,w]=v.useState(0),[_,P]=v.useState(null),[O,j]=v.useState([]),[T,x]=v.useState(!1),[C,k]=v.useState(null),[R,D]=v.useState([]),[A,pe]=v.useState(null),[se,_e]=v.useState({}),[me,W]=v.useState(!0),[X,ee]=v.useState(!1),[le,he]=v.useState(!1),z=$E(N2),We=async B=>(await At(B,"xHAZbksMpLYg10Am0ffg","Andrew Wilson"),!0),ct=async B=>{if(console.log("Generate Data for User: "+B),!_)return!1;try{if(_.displayName&&_.email){const V=await xr(B,"Facebook 2.0 Development Plan","https://images.unsplash.com/photo-1426604966848-d7adac402bff?q=80&w=3540&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",_.email,_.displayName,!0);if(V.boardID){const U=await rn("Idea & Research",V.boardID,0),H=await rn("Design & Prototyping",V.boardID,1);await rn("Development",V.boardID,2),await rn("Testing & Deployment",V.boardID,3),await rn("Completed",V.boardID,4),U.listID&&(await ge("Analyze competitors: Explore Facebook, Instagram, and TikTok to identify trends and user expectations.",U.listID,0,0),await ge("Survey 1,000 users: Determine what they want from a new social media platform.",U.listID,1,1),await ge("Research emerging technologies like AI-based content suggestions.",U.listID,2,2),await ge("Document findings and create a comprehensive report to guide further stages.",U.listID,3,3),await ge("Brainstorm unique selling points: For example, improved privacy features.",U.listID,4,4),await ge("Read industry blogs and case studies for inspiration.",U.listID,5,5),await ge("Prepare a pitch deck to secure funding for the project.",U.listID,6,6),await ge("Schedule meetings with potential investors.",U.listID,7,7),await ge("Review successful tech startups' strategies.",U.listID,8,8),await ge("Finalize the core mission and values of Facebook 2.0.",U.listID,9,9)),H.listID&&(await ge("Create wireframes for the user interface: Include a clean, modern feed layout.",H.listID,0,0),await ge("Prototype the onboarding experience: Make it simple and engaging.",H.listID,1,1),await ge("Design profile pages with customizable themes.",H.listID,2,2),await ge("Focus group testing: Gather feedback from initial wireframe designs.",H.listID,3,3),await ge("Design a responsive mobile-first layout.",H.listID,4,4),await ge("Add dark mode option for accessibility and user preference.",H.listID,5,5),await ge("Develop prototypes using Figma or Adobe XD.",H.listID,6,6),await ge("Test the navigation flow: Ensure it feels intuitive.",H.listID,7,7),await ge("Incorporate branding elements like logos and colors.",H.listID,8,8),await ge("Finalize designs for critical features like posting, liking, and commenting.",H.listID,9,9))}const F=await xr(B,"React Learning Planner","https://images.unsplash.com/photo-1512453979798-5ea266f8880c?q=80&w=2400&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",_.email,_.displayName,!1);if(F.boardID){const U=await rn("To Learn",F.boardID,0),H=await rn("Learning",F.boardID,1),J=await rn("Learned",F.boardID,2);U.listID&&(await ge("Learn JavaScript Basics (Arrow functions, Promises, Destructuring)",U.listID,0,0),await ge("Understand JSX, Components, and Rendering in React.",U.listID,1,1),await ge("Learn State and Props, how data flows in React.",U.listID,2,2),await ge("Explore Event Handling in React (onClick, onChange).",U.listID,3,3),await ge("Master React Router for navigation between pages.",U.listID,4,4),await ge("Learn React Hooks (useState, useEffect).",U.listID,5,5)),H.listID&&(await ge("Learning JSX and rendering dynamic content inside React components.",H.listID,0,0),await ge("Experimenting with useState for managing state inside functional components.",H.listID,1,1),await ge("Handling user input events (forms, onClick, onChange).",H.listID,2,2),await ge("Understanding functional components and using hooks.",H.listID,3,3),await ge("Using useEffect to manage side effects in functional components.",H.listID,4,4)),J.listID&&(await ge("Mastered JavaScript basics (arrow functions, template literals).",J.listID,0,0),await ge("Understood the purpose of React and how to create basic components.",J.listID,1,1),await ge("Successfully passed data between components using props.",J.listID,2,2),await ge("Handled events like onClick and onChange in React components.",J.listID,3,3),await ge("Created functional components and understood the difference from class components.",J.listID,4,4),await ge("Managed state using useState hook in functional components.",J.listID,5,5))}}return _.email&&await We(_.email),console.log("Data generated!"),!0}catch(V){return console.error("Error generating data:",V),!1}},Oe=async(B,V)=>{try{console.log(B),console.log(V);const F=xe(z,"boardUsers"),U=Ue(F,be("boardID","==",B),be("user","==",V)),H=await Fe(U);return console.log(H.size),H.forEach(async J=>{console.log(J.id),await ar(Se(F,J.id))}),!0}catch(F){return console.error("Error while leaving from board: ",F),!1}},Ie=async(B,V)=>{try{const F=xe(z,"boardUsers"),U=Ue(F,be("boardID","==",B),be("user","==",V));return(await Fe(U)).forEach(async J=>{await ar(Se(F,J.id))}),!0}catch{return!1}},jn=async B=>{const V=xe(z,"boardUsers"),F=Ue(V,be("user","==",B),be("isFav","==",!0));let U=[];const J=(await Fe(F)).docs.map(te=>te.data().boardID);if(J.length>0){const te=xe(z,"boards"),ye=Ue(te,be("id","in",J));(await Fe(ye)).forEach(Ee=>{const ve=Ee.data();U.push(ve.id)}),pe(U)}else pe(null)},$t=async(B,V)=>{const F=xe(z,"boardUsers"),U=Ue(F,be("boardID","==",B),be("email","==",V));let H=!1;return(await Fe(U)).forEach(te=>{H=te.data().isFav}),H},Ne=async(B,V)=>{try{const F=xe(z,"boardUsers"),U=Ue(F,be("boardID","==",B),be("user","==",V));return(await Fe(U)).forEach(async J=>{const te=J.data();console.log(te);const ye=Se(z,"boardUsers",J.id);await Bs(ye,{isFav:!te.isFav})}),!0}catch{return!1}},kt=async(B,V)=>{try{const F=Se(z,"boards",B);return await Bs(F,{desc:V}),!0}catch{return!1}},dt=async B=>{try{const V=Se(z,"boards",B);await ar(V);const F=xe(z,"lists"),U=Ue(F,be("boardID","==",B));return(await Fe(U)).forEach(async J=>{await ar(Se(F,J.id)),await sr(J.id)}),!0}catch{return!1}},nn=async(B,V)=>{try{const F=Se(z,"boards",B);return await Bs(F,{name:V}),!0}catch{return!1}},yr=async(B,V)=>{try{const F=Se(z,"boards",B);return await Bs(F,{bgImage:V}),!0}catch{return!1}},vr=async(B,V)=>{let F=0;const U=xe(z,"boardUsers"),H=Ue(U,be("boardID","==",B),be("user","==",V));return(await Fe(H)).forEach(te=>{const{role:ye}=te.data();F=ye}),F===0},K=async(B,V)=>{let F=[];try{if(B){const U=xe(z,"users"),H=Ue(U,be("email","==",B));(await Fe(H)).forEach(te=>{let{id:ye,...ke}=te.data();F.push(ke)})}if(V){const U=xe(z,"users"),H=Ue(U,be("id","==",V));(await Fe(H)).forEach(te=>{let{id:ye,...ke}=te.data();F.push(ke)})}}catch{}return F},Me=async B=>{let V="";try{if(B){const F=xe(z,"users"),U=Ue(F,be("id","==",B));(await Fe(U)).forEach(J=>{let{displayName:te}=J.data();V=te})}}catch{}return V},jo=async B=>{const V=xe(z,"boardUsers"),F=Ue(V,be("boardID","==",B)),U=await Fe(F),H=[];return U.forEach(J=>{const te=J.data();H.push(te)}),H},xi=async(B,V,F,U,H)=>{try{const J=Se(z,"invites",F);await Bs(J,{isApproved:!0}),await ar(J);const te=xe(z,"boardUsers");return await br(te,{role:1,user:V,email:U,displayName:H,isFav:!1,boardID:B,lastUsingDate:st.now()}),_&&await Ei(_==null?void 0:_.uid),!0}catch{return!1}},js=async B=>{try{const V=Se(z,"boards",B);return(await af(V)).data()}catch{return null}},wi=async B=>{const V=xe(z,"invites"),F=Ue(V,be("email","==",B)),U=await Fe(F);let H=[];return U.forEach(J=>{let te=J.data();H.push(te)}),H},we=async B=>{try{const V=Se(z,"invites",B);return await ar(V),!0}catch{return!1}},De=async B=>{const V=xe(z,"invites"),F=Ue(V,be("boardID","==",B)),U=await Fe(F);let H=[];return U.forEach(J=>{let te=J.data();H.push(te)}),H},At=async(B,V,F)=>{try{const U=xe(z,"users"),H=Ue(U,be("email","==",B));if(!((await Fe(H)).size>0))return"The use is not registed on Zirello!";const ye=xe(z,"boardUsers"),ke=Ue(ye,be("boardID","==",V),be("email","==",B));if((await Fe(ke)).size>0)return"The user already on this board";const et=xe(z,"invites"),Pt=Ue(et,be("email","==",B),be("boardID","==",V)),Ls=await Fe(Pt);if(console.log(Ls.size),Ls.size>0)return"You have already sent an invitation to this user. Please wait for the user to approve the invitation.";{const bi=(await br(et,{email:B,boardID:V,isApproved:!1,sender:F})).id,Hl=Se(et,bi);await Bs(Hl,{id:bi})}return"User successfully invited"}catch{return"An error occurred on the server. Try again."}},Gn=(B,V)=>{x(V),k(B)},ht=async(B,V)=>{try{const F=Se(z,"items",B);return await or(F,{title:V},{merge:!0}),!0}catch{return!1}},xt=async(B,V)=>{const F=Se(z,"items",B);try{await ar(F);const U=xe(z,"items"),H=Ue(U,be("listID","==",V));let te=(await Fe(H)).docs.map(Ee=>({...Ee.data(),id:Ee.id,indexInList:Ee.data().indexInList}));te.sort((Ee,ve)=>Ee.indexInList-ve.indexInList),console.log("Firestore'dan kalan öğeler:",te);const ye=te.map(async(Ee,ve)=>{const et={...Ee,indexInList:ve},Pt=Se(z,"items",Ee.id);try{await or(Pt,et),console.log(`Document ${Ee.id} successfully updated with index ${ve}`)}catch(Ls){console.error(`Error updating document ${Ee.id}:`,Ls)}});await Promise.all(ye),await Hr();const ke=e.filter(Ee=>Ee.id!==B).map((Ee,ve)=>({...Ee,indexInList:ve}));return console.log(ke),n(ke),console.log("Local db güncellendi:",ke),!0}catch(U){return console.error("Silme işlemi sırasında hata oluştu:",U),!1}},sr=async B=>{const V=xe(z,"items"),F=Ue(V,be("listID","==",B));(await Fe(F)).forEach(async H=>{await ar(Se(z,"items",H.id))})},Os=async(B,V)=>{try{const F=Se(z,"lists",B);await ar(F);const U=xe(z,"lists"),H=Ue(U,be("boardID","==",V));let te=(await Fe(H)).docs.map(Ee=>({...Ee.data(),id:Ee.id,indexInBoard:Ee.data().indexInBoard})),ye=[];te.sort((Ee,ve)=>Ee.indexInBoard-ve.indexInBoard),ye=[...te];const ke=ye.map((Ee,ve)=>{const et={...Ee,indexInBoard:ve},Pt=Se(z,"lists",Ee.id);return or(Pt,et)});return await Promise.all(ke),await sr(B),!0}catch(F){return console.error("Error deleting list or updating indexes: ",F),!1}},Ht=async(B,V)=>{try{const F=Se(z,"lists",B);return await or(F,{title:V},{merge:!0}),!0}catch{return!1}},hn=async(B,V,F)=>{try{const U=xe(z,"boardUsers"),H=Ue(U,be("boardID","==",B),be("user","==",F));return(await Fe(H)).forEach(async te=>{const ye=te.id;console.log(ye);const ke=Se(z,"boardUsers",ye);await or(ke,{lastUsingDate:V},{merge:!0})}),!0}catch{return!1}},_n=async(B,V)=>{try{const F=Se(z,"items",B),U=Se(F,"comments",V);return await ar(U),!0}catch{return!1}},_i=async(B,V,F)=>{try{const U=Se(z,"items",B),H=Se(U,"comments",F);return await or(H,{comment:V},{merge:!0}),console.log(V),console.log("Update comment"),!0}catch{return!1}},Fl=async B=>{const V=Se(z,"items",B),F=xe(V,"comments"),U=await Fe(F);let H=[];return U.forEach(J=>{const te=J.data();H.push(te),console.log(te.comment)}),H},Oo=async(B,V,F)=>{try{const U=Se(z,"items",B),H=xe(U,"comments"),J=await br(H,{createdAt:zR(),comment:V,userID:F}),te=J.id,ye=Se(H,te);return console.log(J.id),await or(ye,{id:te},{merge:!0}),!0}catch{return!1}},hh=async(B,V)=>{try{const F=xe(z,"items"),U=Se(F,B);return await Bs(U,{desc:V}),!0}catch{return!1}},fh=async B=>{const V=xe(z,"items"),F=Se(V,B),H=(await af(F)).data();return console.log(H.desc),H.desc},Lo=async(B,V)=>{try{const F=xe(z,"items"),U=Se(F,V);return await or(U,{desc:B},{merge:!0}),!0}catch(F){return console.log(F),!1}},Mo=async B=>{const V=xe(z,"lists"),F=Ue(V,be("boardID","==",B)),U=await Fe(F);let H=[];return U.forEach(J=>{const te=J.data();H.push({...te,id:J.id})}),s(H),!0},Bl=async B=>{const V=xe(z,"boards"),F=Ue(V,be("id","==",B)),U=await Fe(F);return U.empty?null:U.docs[0].data()},xr=async(B,V,F,U,H,J)=>{try{const te=st.now(),ye=st.now(),ke=xe(z,"boards"),ve=(await br(ke,{name:V,userID:B,bgImage:F,lastUsingDate:te,createdDate:ye,desc:V+" board",isFav:!1})).id;await or(Se(z,"boards",ve),{id:ve},{merge:!0});const et=xe(z,"boardUsers");return J?await br(et,{boardID:ve,user:B,role:0,email:U,lastUsingDate:te,displayName:H,isFav:J}):await br(et,{boardID:ve,user:B,role:0,email:U,lastUsingDate:te,displayName:H,isFav:!1}),{success:!0,boardID:ve}}catch{return{success:!1}}},Ei=async B=>{try{const V=xe(z,"boardUsers"),F=Ue(V,be("user","==",B)),U=await Fe(F),H=[];U.forEach(ye=>{const ke=ye.data();ke.role===1&&H.push(ke)}),console.log(H);const J=[];for(const ye of H){const ke=Se(z,"boards",ye.boardID),Ee=await af(ke);if(Ee.exists()){const ve=Ee.data();console.log(ve),J.push(ve)}}const te=await Promise.all(J.map(async ye=>{const ke=xe(z,"boardUsers"),Ee=Ue(ke,be("boardID","==",ye.id),be("user","==",B));return(await Fe(Ee)).forEach(et=>{const Pt=et.data();ye.id===Pt.boardID&&(ye.lastUsingDate=Pt.lastUsingDate)}),ye}));return D(te),!0}catch(V){return console.error("Error getting team boards:",V),!1}},Vo=async B=>{try{const V=xe(z,"boards"),F=Ue(V),U=await Fe(F),H=[];U.forEach(te=>{let ye=te.data();ye.userID===B&&H.push(ye)});const J=await Promise.all(H.map(async te=>{const ye=xe(z,"boardUsers"),ke=Ue(ye,be("boardID","==",te.id),be("user","==",B));return(await Fe(ke)).forEach(ve=>{const et=ve.data();te.id===et.boardID&&(te.lastUsingDate=et.lastUsingDate)}),te}));return j(J),console.log(J),!0}catch(V){return console.error("Error fetching boards: ",V),!1}},wr=async(B,V,F,U)=>{const H=xe(z,"users"),J=Ue(H,be("email","==",V));console.log(J);const te=await Fe(J);te.forEach(ye=>ye.data()),!(te.size>0)&&await br(H,{email:V,displayName:F,id:B,photoURL:U})},Ul=async()=>{const B=xe(z,"assets"),V=[];return(await Fe(B)).forEach(U=>{const H=U.data();V.push(H)}),V},Hr=async()=>{const B=xe(z,"items"),V=[];(await Fe(B)).docs.forEach(U=>{V.push({id:U.id,...U.data()})}),n(V)},ge=async(B,V,F,U)=>{try{n([...e,{title:B,listID:V,itemIndex:F,desc:"",id:"asd",indexInList:U}]);const H=xe(z,"items"),te=(await br(H,{title:B,listID:V,itemIndex:F,indexInList:U})).id;return await or(Se(z,"items",te),{id:te},{merge:!0}),await Hr(),!0}catch{return!1}},rn=async(B,V,F)=>{try{const U=qR();s([...r,{id:U,title:B,boardID:V,indexInBoard:F}]);const H=xe(z,"lists"),J=await br(H,{id:U,title:B,boardID:V,indexInBoard:F});return Mo(V),{success:!0,listID:J.id}}catch{return{success:!1}}},zl=async(B,V)=>{if(B===null)return;const F=e.filter(H=>H.id!==V.id);console.log(a),F.splice(B,0,{...V,listID:a}),n(F),console.log(F),F.forEach((H,J)=>{H.itemIndex=J});const U=Hp(z);F.forEach(H=>{const J=Se(z,"items",H.id);U.update(J,{listID:H.listID,itemIndex:H.itemIndex})});try{await U.commit(),console.log("Firebase güncellemesi başarılı"),n(F)}catch(H){console.error("Firebase güncellemesi sırasında hata: ",H)}},Rt=async(B,V,F,U)=>{console.log("Move Item Context"),console.log(U);try{console.log("Move list calisiyor"),console.log("Board IDDD "+V);const H=xe(z,"lists"),J=Ue(H,be("boardID","==",V));(await Fe(J)).docs.map(ve=>({id:ve.id,...ve.data()}));let ye=[...U];const ke=U.filter(ve=>ve.id!==U[B].id);ke.splice(B,0,U[B]),ke.forEach((ve,et)=>{ve.indexInBoard=et}),console.log(ke),F(ke);const Ee=Hp(z);ke.forEach(ve=>{const et=Se(z,"lists",ve.id);Ee.update(et,{indexInBoard:ve.indexInBoard})});try{return await Ee.commit(),console.log("Firebase güncellemesi başarılı"),!0}catch(ve){return console.error("Firebase güncellemesi sırasında hata: ",ve),F(ye),!1}return!1}catch(H){return console.error("moveList fonksiyonunda hata: ",H),!1}};return d.jsx(qe.Provider,{value:{addItem:ge,addList:rn,db:e,lists:r,draggedItemHeight:i,setDraggedItemHeight:o,targetColumnID:a,setTargetColumnID:c,activeItem:u,setActiveItem:h,moveItem:zl,activeList:f,setActiveList:p,moveList:Rt,activeDraggedType:y,setActiveDraggedType:b,activeListIndex:I,setActiveListIndex:N,setActiveItemIndex:w,activeItemIndex:E,user:_,setUser:P,addUser:wr,getBoards:Vo,addBoard:xr,boards:O,getListsOfBoard:Mo,getItem:Hr,getBGImages:Ul,getBoardDetails:Bl,addDescToItem:Lo,getDecsForItem:fh,updateDesc:hh,addCommentToItem:Oo,getItemComments:Fl,updateComment:_i,deleteComment:_n,updateLastUsingDate:hn,setBoards:j,setDB:n,updateListTitle:Ht,setLists:s,deleteList:Os,updateItemTitle:ht,deleteItem:xt,showNotification:T,setShowNotification:x,handleNotification:Gn,notificationMessage:C,setNotificationMessage:k,sendInvitation:At,getBoardInvites:De,deleteInvitation:we,getUserInvitations:wi,getBoardAllDetails:js,approveInvite:xi,getTeamBoards:Ei,getBoardUsers:jo,teamBoards:R,setTeamBoards:D,getUserPublicData:K,checkUserIsBoardAdmin:vr,updateBackground:yr,updateBoardName:nn,deleteBoard:dt,updateBoardDesc:kt,toggleFavBoard:Ne,getIsBoardFav:$t,getUserStarredBoards:jn,favBoardsIDS:A,setFavBoardsIDS:pe,fav:se,setFav:_e,removeMemberFromBoard:Ie,leaveFromBoard:Oe,canDraggable:me,setCanDraggable:W,itemDragging:X,setItemDragging:ee,boardBG:le,setBoardBG:he,getUserName:Me,generateData:ct,sendInivationToNewUser:We},children:t})},QR=({boardID:t})=>{const[e,n]=v.useState(!1),r=v.useRef(null),[s,i]=v.useState(""),o=v.useRef(null),a=v.useContext(qe);if(!a)throw new Error("No Context");const{addList:c,lists:u,handleNotification:h}=a;v.useEffect(()=>{r&&o.current&&o.current.focus()},[e]),v.useEffect(()=>{const y=b=>{r.current&&!r.current.contains(b.target)&&(console.log("Disariya tiklandi"),n(!1))};return document.addEventListener("click",y),()=>{document.removeEventListener("click",y)}},[]);const f=()=>{console.log("prepare"),n(y=>!y)},p=async()=>{n(!1);const y=u.length,b=await c(s,t,y);i(""),b&&h(`New List (${s}) has been created!`,!0)};return e?d.jsxs("div",{className:"flex-col items-start justify-start w-56 lg:w-72 bg-gray-100 dark:bg-gray-900 p-2 rounded-lg h-fit text-sm",ref:r,children:[d.jsx("input",{ref:o,className:"bg-gray-200 p-3 text-gray-800 dark:text-gray-300 dark:bg-gray-700 flex w-full rounded-lg mb-2",placeholder:"Add list title...",onChange:y=>i(y.target.value),value:s,onKeyDown:y=>{y.key==="Enter"&&(p(),console.log("DOWWWN"))}}),d.jsxs("div",{className:"flex justify-between items-center w-full gap-1 h-10",children:[s===""?d.jsx("button",{className:"bg-gray-200 dark:bg-gray-400  w-full h-full flex-1 rounded-lg text-gray-900 cursor-not-allowed",children:"Add List"}):d.jsx("button",{className:"bg-blue-500 hover:bg-blue-600 w-full h-full flex-1 rounded-lg text-white",onClick:p,children:"Add List"}),d.jsx(gd,{onClick:f,className:"text-gray-900 h-full w-8 lg:w-10 p-2 dark:text-gray-200 dark:hover:bg-gray-800  rounded-md hover:bg-gray-200 cursor-pointer"})]})]}):d.jsxs("div",{onClick:f,className:" brightness-110  w-56 lg:w-72 flex bg-white/40 backdrop-blur-3xl items-center justify-start p-3 gap-2 hover:brightness-105 rounded-lg cursor-pointer h-fit shadow-2xl",children:[d.jsx(sN,{size:16,className:"pointer-events-none text-gray-900"}),d.jsx("p",{className:"text-sm text-gray-900 pointer-events-none ",children:"Add another list"})]})};var YR={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function XR(t){if(typeof t=="number")return{value:t,unit:"px"};var e,n=(t.match(/^[0-9.]*/)||"").toString();n.includes(".")?e=parseFloat(n):e=parseInt(n,10);var r=(t.match(/[^0-9]*$/)||"").toString();return YR[r]?{value:e,unit:r}:(console.warn("React Spinners: ".concat(t," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}function b1(t){var e=XR(t);return"".concat(e.value).concat(e.unit)}var JR=function(t,e,n){var r="react-spinners-".concat(t,"-").concat(n);if(typeof window>"u"||!window.document)return r;var s=document.createElement("style");document.head.appendChild(s);var i=s.sheet,o=`
    @keyframes `.concat(r,` {
      `).concat(e,`
    }
  `);return i&&i.insertRule(o,0),r},Mu=function(){return Mu=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Mu.apply(this,arguments)},ZR=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n},eP=JR("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");function nb(t){var e=t.loading,n=e===void 0?!0:e,r=t.color,s=r===void 0?"#000000":r,i=t.speedMultiplier,o=i===void 0?1:i,a=t.cssOverride,c=a===void 0?{}:a,u=t.size,h=u===void 0?35:u,f=ZR(t,["loading","color","speedMultiplier","cssOverride","size"]),p=Mu({background:"transparent !important",width:b1(h),height:b1(h),borderRadius:"100%",border:"2px solid",borderTopColor:s,borderBottomColor:"transparent",borderLeftColor:s,borderRightColor:s,display:"inline-block",animation:"".concat(eP," ").concat(.75/o,"s 0s infinite linear"),animationFillMode:"both"},c);return n?v.createElement("span",Mu({style:p},f)):null}function tP(t){return ie({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",strokeWidth:"2",d:"M16,7 L19,7 L19,11 L16,11 L16,7 Z M9,15 L20,15 M9,11 L13,11 M9,7 L13,7 M6,18.5 C6,19.8807119 4.88071187,21 3.5,21 C2.11928813,21 1,19.8807119 1,18.5 L1,7 L6.02493781,7 M6,18.5 L6,3 L23,3 L23,18.5 C23,19.8807119 21.8807119,21 20.5,21 L3.5,21"},child:[]}]})(t)}function uf(t){return ie({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",strokeWidth:"2",d:"M7,7 L17,17 M7,17 L17,7"},child:[]}]})(t)}function I1(t){return ie({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"rect",attr:{x:"0.46",y:"3.06",width:"23.08",height:"2.18"},child:[]},{tag:"rect",attr:{x:"0.46",y:"8.29",width:"15.81",height:"2.18"},child:[]},{tag:"rect",attr:{x:"0.46",y:"13.53",width:"23.08",height:"2.18"},child:[]},{tag:"rect",attr:{x:"0.46",y:"18.76",width:"15.81",height:"2.18"},child:[]}]})(t)}const nP=({item:t,onCardItemDataChanged:e})=>{const n=v.useContext(qe);if(!n)throw new Error("No context");const{addDescToItem:r,getDecsForItem:s,updateDesc:i}=n,[o,a]=v.useState(""),[c,u]=v.useState(null),[h,f]=v.useState(!1),[p,y]=v.useState(!0),[b,I]=v.useState(!1),[N,E]=v.useState(""),[w,_]=v.useState(!1),P=()=>{o!=null&&(o!==""?r(o,t.id).then(T=>{T&&(s(t.id).then(x=>u(x)),e())}):console.log("Az"))};v.useEffect(()=>{c!==null&&E(c)},[b]),v.useEffect(()=>{console.log("desc Editing "+N),console.log("updated Desc "+c),console.log("DESC "+o)},[c,N,o]);const O=async()=>{const T=await s(t.id);u(T)};v.useEffect(()=>{O().then(()=>y(!1))},[]),v.useEffect(()=>{c&&E(c)},[c]);const j=()=>{console.log("Desc update"),_(!0),i(t.id,N).then(O).then(()=>I(!1)).then(()=>_(!1))};return p?d.jsxs("div",{className:"flex-col items-center justify-between",children:[d.jsxs("div",{className:"flex items-center ",children:[d.jsx(I1,{className:"lg:text-1xl text-sm ",color:"#94a3b8"}),d.jsx("h1",{className:"text-1xl ml-2 text-gray-800 dark:text-gray-400",children:"Description"})]}),d.jsx(nb,{color:"#94a3b8",loading:p,size:25})]}):d.jsxs("div",{className:"flex flex-col items-start",children:[d.jsxs("div",{className:"flex justify-between items-center w-full",children:[d.jsxs("div",{className:"flex items-center py-2 ",children:[d.jsx(I1,{className:"w-3 h-3 min-w-3 min-h-3 lg:h-4 lg:min-w-4 lg:min-h-4 text-gray-800 dark:text-gray-400"}),d.jsx("h1",{className:"lg:text-base ml-2 text-gray-800 dark:text-gray-400 text-sm",children:"Description"})]}),c&&b!==!0&&d.jsx("button",{className:" dark:bg-gray-700 dark:hover:bg-gray-600 bg-gray-300 hover:bg-gray-400 text-gray-800 dark:text-gray-400 px-2 py-1 lg:px-6 lg:py-2 lg:text-base text-sm",onClick:()=>I(!0),children:"Edit"})]}),d.jsxs("div",{className:"lg:pl-6 w-full",children:[b&&c&&N.length>-1&&d.jsxs("div",{className:"   mt-3 flex flex-col self-start w-full",children:[d.jsx("textarea",{className:"w-full bg-gray-300 text-gray-800 dark:bg-gray-700 dark:text-gray-400 p-3 text-sm lg:text-base",value:N,onChange:T=>E(T.target.value)}),d.jsxs("div",{className:"flex gap-3 mt-2",children:[w?d.jsx("button",{className:"bg-gray-400 px-3 py-1 rounded-md cursor-not-allowed text-sm lg:text-base",onClick:j,disabled:!0,children:"Save"}):N===""?d.jsx("button",{className:"bg-gray-400  px-3 py-1 rounded-md cursor-not-allowed text-sm lg:text-base",children:"Save"}):d.jsx("button",{className:"bg-blue-400 hover:bg-blue-300 px-3 py-1 rounded-md text-sm lg:text-base",onClick:j,children:"Save"}),d.jsx("button",{onClick:()=>I(!1),className:"text-gray-800 hover:bg-gray-400 dark:text-gray-400 dark:bg-gray-900 dark:hover:bg-gray-600  px-3 py-1 rounded-md text-sm lg:text-base",children:"Cancel"})]})]}),c!=null&&b===!1&&d.jsx("div",{className:"text-gray-800 bg-gray-300 dark:bg-gray-700 dark:text-gray-400 mt-3 p-3 text-sm lg:text-base  flex self-start w-full",children:d.jsx("p",{children:c})}),c===null||c===void 0&&d.jsxs(d.Fragment,{children:[h===!1&&d.jsx("div",{onClick:()=>f(!0),className:"w-full mt-3",children:d.jsxs("p",{className:"bg-gray-300 dark:bg-gray-700 dark:text-gray-400 text-sm p-2 lg:p-4  lg:text-base cursor-pointer hover:bg-gray-400",children:["Add a more detailed description..."," "]})}),h===!0&&d.jsxs("div",{className:"w-full",children:[d.jsx("textarea",{className:"pl-2 mt-3  dark:bg-gray-600 p-2 dark:text-gray-400 w-full text-sm lg:text-base",placeholder:"add description...",onChange:T=>a(T.target.value)}),d.jsxs("div",{className:"flex items-center justify-start gap-3 mt-2",children:[o===""?d.jsx("button",{className:"bg-gray-400 px-3 py-1 rounded-md cursor-not-allowed lg:text-base text-sm",children:"Save"}):d.jsx("button",{className:"bg-blue-500 hover:bg-blue-600 text-gray-100 px-3 py-1 rounded-md cursor-pointer lg:text-base text-sm",onClick:P,children:"Save"}),d.jsx("button",{onClick:()=>f(!1),className:"dark:text-gray-400 dark:hover:bg-gray-800 hover:bg-gray-300  px-3 py-1 rounded-md lg:text-base text-sm",children:"Cancel"})]})]})]})]})]})};function rP(t){return ie({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H4.414a1 1 0 0 0-.707.293L.854 15.146A.5.5 0 0 1 0 14.793zm3.5 1a.5.5 0 0 0 0 1h9a.5.5 0 0 0 0-1zm0 2.5a.5.5 0 0 0 0 1h9a.5.5 0 0 0 0-1zm0 2.5a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1z"},child:[]}]})(t)}function sP(t){return ie({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M294.1 256L167 129c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.3 34 0L345 239c9.1 9.1 9.3 23.7.7 33.1L201.1 417c-4.7 4.7-10.9 7-17 7s-12.3-2.3-17-7c-9.4-9.4-9.4-24.6 0-33.9l127-127.1z"},child:[]}]})(t)}function Dl(t){return ie({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M405 136.798L375.202 107 256 226.202 136.798 107 107 136.798 226.202 256 107 375.202 136.798 405 256 285.798 375.202 405 405 375.202 285.798 256z"},child:[]}]})(t)}function iP(t){return ie({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 464c22.779 0 41.411-18.719 41.411-41.6h-82.823c0 22.881 18.633 41.6 41.412 41.6zm134.589-124.8V224.8c0-63.44-44.516-117.518-103.53-131.041V79.2c0-17.682-13.457-31.2-31.059-31.2s-31.059 13.518-31.059 31.2v14.559c-59.015 13.523-103.53 67.601-103.53 131.041v114.4L80 380.8v20.8h352v-20.8l-41.411-41.6z"},child:[]}]})(t)}function oP(t){return ie({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M120,216a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V40a8,8,0,0,1,8-8h64a8,8,0,0,1,0,16H56V208h56A8,8,0,0,1,120,216Zm109.66-93.66-40-40A8,8,0,0,0,176,88v32H112a8,8,0,0,0,0,16h64v32a8,8,0,0,0,13.66,5.66l40-40A8,8,0,0,0,229.66,122.34Z"},child:[]}]})(t)}function aP(t){return ie({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M120,216a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V40a8,8,0,0,1,8-8h64a8,8,0,0,1,0,16H56V208h56A8,8,0,0,1,120,216Zm109.66-93.66-40-40a8,8,0,0,0-11.32,11.32L204.69,120H112a8,8,0,0,0,0,16h92.69l-26.35,26.34a8,8,0,0,0,11.32,11.32l40-40A8,8,0,0,0,229.66,122.34Z"},child:[]}]})(t)}function Wp(t){return ie({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M136,32V64a8,8,0,0,1-16,0V32a8,8,0,0,1,16,0Zm88,88H192a8,8,0,0,0,0,16h32a8,8,0,0,0,0-16Zm-45.09,47.6a8,8,0,0,0-11.31,11.31l22.62,22.63a8,8,0,0,0,11.32-11.32ZM128,184a8,8,0,0,0-8,8v32a8,8,0,0,0,16,0V192A8,8,0,0,0,128,184ZM77.09,167.6,54.46,190.22a8,8,0,0,0,11.32,11.32L88.4,178.91A8,8,0,0,0,77.09,167.6ZM72,128a8,8,0,0,0-8-8H32a8,8,0,0,0,0,16H64A8,8,0,0,0,72,128ZM65.78,54.46A8,8,0,0,0,54.46,65.78L77.09,88.4A8,8,0,0,0,88.4,77.09Z"},child:[]}]})(t)}function lP(t){return ie({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M117.25,157.92a60,60,0,1,0-66.5,0A95.83,95.83,0,0,0,3.53,195.63a8,8,0,1,0,13.4,8.74,80,80,0,0,1,134.14,0,8,8,0,0,0,13.4-8.74A95.83,95.83,0,0,0,117.25,157.92ZM40,108a44,44,0,1,1,44,44A44.05,44.05,0,0,1,40,108Zm210.14,98.7a8,8,0,0,1-11.07-2.33A79.83,79.83,0,0,0,172,168a8,8,0,0,1,0-16,44,44,0,1,0-16.34-84.87,8,8,0,1,1-5.94-14.85,60,60,0,0,1,55.53,105.64,95.83,95.83,0,0,1,47.22,37.71A8,8,0,0,1,250.14,206.7Z"},child:[]}]})(t)}function cP(t){return ie({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M128,28A100,100,0,1,0,228,128,100.11,100.11,0,0,0,128,28Zm91.92,96.44c-33.69,24.71-58.55,15.45-83.94,3,23.54-15.86,45.85-33.95,43.34-75.81A92,92,0,0,1,219.92,124.44ZM170.86,46.61C175.4,88.13,155,105,131.55,120.83c-2-28.32-6.47-56.69-44-75.45a91.87,91.87,0,0,1,83.3,1.23ZM79,50.18c38.22,16.83,42.63,43,44.58,71.16-25.5-12.46-52.33-22.75-87.34.38A92.07,92.07,0,0,1,79,50.18Zm-42.9,81.38c33.69-24.71,58.55-15.45,83.94-3.05-23.54,15.86-45.85,34-43.34,75.81A92,92,0,0,1,36.08,131.56Zm49.06,77.83C80.6,167.87,101,151,124.45,135.17c2,28.32,6.47,56.69,44,75.45a91.87,91.87,0,0,1-83.3-1.23ZM177,205.82c-38.22-16.83-42.63-43-44.58-71.16,14.43,7.05,29.29,13.41,45.81,13.41,12.67,0,26.33-3.74,41.53-13.78A92.06,92.06,0,0,1,177,205.82Z"},child:[]}]})(t)}const uP=({item:t,canEditing:e,onEditHandle:n,setEditingItem:r,getComment:s,itemID:i,setDeletingItem:o,canDelete:a,onDeleteHandle:c,user:u})=>{const[h,f]=v.useState(""),[p,y]=v.useState(null),[b,I]=v.useState("null"),[N,E]=v.useState(!0),[w,_]=v.useState(!1),P=v.useContext(qe);if(!P)throw new Error("No Context");const{updateComment:O,deleteComment:j,getUserPublicData:T}=P,x=async()=>{console.log(t.userID);const A=await T(void 0,t.userID);console.log("Result"),console.log(A[0]),y(A[0])};v.useEffect(()=>{f(t.comment)},[n]),v.useEffect(()=>{x()},[u,t]),v.useEffect(()=>{p&&I(p==null?void 0:p.photoURL),p!=null&&p.photoURL&&E(!1)},[p]);const C=A=>{if(!A)return"";const pe=new Date(A.seconds*1e3),se={year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"};return new Intl.DateTimeFormat("en-EN",se).format(pe)},k=async()=>{console.log(i),console.log(t.id);const A=await O(i,h,t.id);console.log(A),A&&(await s(),r(null))},R=()=>{o(t.id),r(null),c(t.id)},D=async()=>{_(!0),await j(i,t.id)&&(await s(),_(!1))};return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"bg-gray-700 flex-col lg:ml-6 rounded-md hover:bg-gray-600 mt-1 lg:mt-3",children:[d.jsxs("div",{className:" text-gray-200 p-3 flex-col items-start  rounded-md mt-1 bg-orange-300 hidden",children:[d.jsxs("div",{className:"flex items-center gap-1",children:[N?d.jsx("p",{className:"rounded-full mr-2",children:"W"}):d.jsx("img",{className:"rounded-full mr-2",width:20,height:20,src:b}),d.jsx("p",{className:"text-sm font-bold",children:p&&p.displayName}),d.jsx("p",{className:"text-sm font-thin ml-2",children:C(t.createdAt)})]}),e?d.jsx("div",{className:"flex-col items-start justify-start ml-8",children:d.jsx("textarea",{className:"w-full p-2 bg-gray-500",placeholder:t.comment,onChange:A=>f(A.target.value),value:h})}):d.jsx("div",{className:"flex-col items-start justify-start ml-8",children:d.jsx("p",{className:"text-left",children:t.comment})})]}),d.jsxs("div",{className:"  text-gray-800 dark:text-gray-400 p-3 flex-col items-start  rounded-md mt-1 bg-gray-300 dark:bg-gray-800",children:[d.jsxs("div",{className:"flex items-start",children:[N?d.jsx("p",{className:"rounded-full mr-2",children:"W"}):d.jsx("img",{className:"rounded-full mr-2 w-5 h-5",src:b}),d.jsx("p",{className:"text-sm lg:text-base font-bold",children:p&&p.displayName})]}),d.jsx("p",{className:"text-xs lg:text-sm font-extralight ml-7 text-left",children:C(t.createdAt)}),e?d.jsx("div",{className:"flex-col items-start justify-start ml-8",children:d.jsx("textarea",{className:"w-full p-2 dark:bg-gray-700 bg-gray-400 mt-2 lg:text-base text-sm",placeholder:t.comment,onChange:A=>f(A.target.value),value:h})}):d.jsx("div",{className:"flex-col items-start justify-start mt-2 ",children:d.jsx("p",{className:"text-left text-sm lg:text-base font-thin",children:t.comment})})]})]}),a?d.jsxs("div",{className:" shadow-lg dark:bg-gray-800 bg-gray-200  border dark:border-gray-500 border-gray-400  rounded-sm  flex-col items-center text-sm  md:m-0 m-1   md:absolute  md:w-11/12 p-3 dark:text-gray-300 text-gray-800",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("div",{className:" flex flex-grow justify-center",children:d.jsx("p",{children:"Are you sure?"})}),d.jsx("div",{className:"",children:d.jsx(Dl,{className:"text-gray-800 dark:text-gray-400 hover:bg-gray-300 cursor-pointer dark:hover:bg-gray-900",size:18,onClick:()=>{o(null)}})})]}),w?d.jsx("div",{className:"flex items-center justify-center bg-red-500  text-black px-2 py-1 rounded-md w-full cursor-not-allowed",children:d.jsx(Wp,{className:" h-5 w-5  text-gray-800  rounded-md animate-spin mr-1"})}):d.jsx("button",{className:"bg-red-500 text-black px-2 py-1 rounded-md w-full hover:bg-red-400",onClick:D,children:"Delete Commnet"})]}):"",e?d.jsxs("div",{className:"flex ml-8 p-2 gap-3",children:[d.jsx("button",{className:" px-4 py-1 text-gray-300 bg-blue-600 hover:bg-blue-500 rounded-md lg:text-base text-sm",onClick:k,children:"Save"}),d.jsx("button",{onClick:()=>{r(null)},className:" px-4 py-1 text-gray-900 dark:text-gray-400 dark:hover:bg-gray-700 hover:bg-gray-400 rounded-md lg:text-base text-sm",children:"Cancel"})]}):d.jsx(d.Fragment,{children:p&&p.email===u.email?d.jsxs("div",{className:"flex ml-8 p-2",children:[d.jsx("button",{className:" px-4 py-1 text-gray-800 dark:text-gray-400  underline text-sm lg:text-base",onClick:()=>{n(t.id),o(null)},children:"Edit"}),d.jsx("button",{className:" px-4 py-1 text-gray-800 dark:text-gray-400  underline text-sm lg:text-base",onClick:R,children:"Delete"})]}):""})]})},dP=({item:t})=>{const[e,n]=v.useState(""),[r,s]=v.useState(!1),[i,o]=v.useState([]),[a,c]=v.useState(null),[u,h]=v.useState(null),f=v.useContext(qe);if(!f)throw new Error("No context");const{user:p,addCommentToItem:y,getItemComments:b}=f;v.useEffect(()=>{I()},[p]);const I=async()=>{const _=await b(t.id);o(_)},N=async()=>{if(!p)return;await y(t.id,e,p.uid)&&(s(!1),I())},E=_=>{c(_)},w=_=>{h(_)};return d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"flex items-center justify-start mt-6",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx(rP,{className:"w-3 h-3 min-w-3 min-h-3 lg:h-4 lg:min-w-4 lg:min-h-4 text-gray-800 dark:text-gray-400"}),d.jsx("p",{className:"text-sm lg:text-base ml-2 text-gray-800 dark:text-gray-400 pb-[3px]",children:"Comments"})]})}),d.jsx("div",{className:"mt-5 flex items-start w-full ",children:r?d.jsxs("div",{className:"w-full lg:pl-6",children:[d.jsx("textarea",{className:"dark:bg-gray-700 dark:text-gray-400 bg-gray-300 text-gray-800 w-full p-2 text-sm lg:text-base rounded-md",onChange:_=>n(_.target.value)}),d.jsxs("div",{className:"flex w-full gap-3 mt-1",children:[d.jsx("button",{className:"bg-blue-400 hover:bg-blue-300 px-3 py-1 rounded-md text-sm lg:text-base",onClick:N,children:"Save"}),d.jsx("button",{onClick:()=>s(!1),className:"dark:text-gray-400 dark:hover:bg-gray-700 hover:bg-gray-400 px-3 py-1 rounded-md lg:text-base text-sm",children:"Cancel"})]})]}):d.jsx("div",{className:"lg:ml-6 py-2 px-4 rounded-lg bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-800 dark:text-gray-400 w-full dark:hover:bg-gray-700",onClick:()=>s(!0),children:d.jsx("p",{className:"cursor-pointer lg:text-base text-sm",children:"Write a comment..."})})}),i&&d.jsx("div",{className:"flex-col gap-3 mt-6 mb-24",children:p&&i.sort((_,P)=>P.createdAt.seconds-_.createdAt.seconds).map(_=>d.jsx(uP,{item:_,user:p,canEditing:_.id===a,onEditHandle:E,setEditingItem:c,itemID:t.id,getComment:I,canDelete:_.id===u,setDeletingItem:h,onDeleteHandle:w}))})]})};function hP(t){return ie({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M16.5 9c-.42 0-.83.04-1.24.11L1.01 3 1 10l9 2-9 2 .01 7 8.07-3.46C9.59 21.19 12.71 24 16.5 24c4.14 0 7.5-3.36 7.5-7.5S20.64 9 16.5 9zm0 13c-3.03 0-5.5-2.47-5.5-5.5s2.47-5.5 5.5-5.5 5.5 2.47 5.5 5.5-2.47 5.5-5.5 5.5z"},child:[]},{tag:"path",attr:{d:"m18.27 14.03-1.77 1.76-1.77-1.76-.7.7 1.76 1.77-1.76 1.77.7.7 1.77-1.76 1.77 1.76.7-.7-1.76-1.77 1.76-1.77z"},child:[]}]})(t)}function S1(t){return ie({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12 1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"},child:[]}]})(t)}function T1(t){return ie({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"},child:[]}]})(t)}function fP(t){return ie({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"},child:[]}]})(t)}function Ic(t){return ie({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"},child:[]}]})(t)}function df(t){return ie({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M15.41 16.59 10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"},child:[]}]})(t)}function hf(t){return ie({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"},child:[]}]})(t)}function C1(t){return ie({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04a.996.996 0 0 0 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"},child:[]}]})(t)}function N1(t){return ie({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"},child:[]}]})(t)}function pP(t){return ie({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm3.3 14.71L11 12.41V7h2v4.59l3.71 3.71-1.42 1.41z"},child:[]}]})(t)}function mP(t){return ie({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M3 21h3.75L17.81 9.94l-3.75-3.75L3 17.25V21zm2-2.92 9.06-9.06.92.92L5.92 19H5v-.92zM18.37 3.29a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83a.996.996 0 0 0 0-1.41l-2.34-2.34z"},child:[]}]})(t)}function Gp(t){return ie({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"},child:[]}]})(t)}function k1(t){return ie({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M512 1024c-69.1 0-136.2-13.5-199.3-40.2C251.7 958 197 921 150 874c-47-47-84-101.7-109.8-162.7C13.5 648.2 0 581.1 0 512c0-19.9 16.1-36 36-36s36 16.1 36 36c0 59.4 11.6 117 34.6 171.3 22.2 52.4 53.9 99.5 94.3 139.9 40.4 40.4 87.5 72.2 139.9 94.3C395 940.4 452.6 952 512 952c59.4 0 117-11.6 171.3-34.6 52.4-22.2 99.5-53.9 139.9-94.3 40.4-40.4 72.2-87.5 94.3-139.9C940.4 629 952 571.4 952 512c0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 0 0-94.3-139.9 437.71 437.71 0 0 0-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.2C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3s-13.5 136.2-40.2 199.3C958 772.3 921 827 874 874c-47 47-101.8 83.9-162.7 109.7-63.1 26.8-130.2 40.3-199.3 40.3z"},child:[]}]})(t)}function gP(t){return ie({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 0 0-94.3-139.9 437.71 437.71 0 0 0-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"},child:[]}]})(t)}function A1(t){return ie({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M678.3 642.4c24.2-13 51.9-20.4 81.4-20.4h.1c3 0 4.4-3.6 2.2-5.6a371.67 371.67 0 0 0-103.7-65.8c-.4-.2-.8-.3-1.2-.5C719.2 505 759.6 431.7 759.6 349c0-137-110.8-248-247.5-248S264.7 212 264.7 349c0 82.7 40.4 156 102.6 201.1-.4.2-.8.3-1.2.5-44.7 18.9-84.8 46-119.3 80.6a373.42 373.42 0 0 0-80.4 119.5A373.6 373.6 0 0 0 137 888.8a8 8 0 0 0 8 8.2h59.9c4.3 0 7.9-3.5 8-7.8 2-77.2 32.9-149.5 87.6-204.3C357 628.2 432.2 597 512.2 597c56.7 0 111.1 15.7 158 45.1a8.1 8.1 0 0 0 8.1.3zM512.2 521c-45.8 0-88.9-17.9-121.4-50.4A171.2 171.2 0 0 1 340.5 349c0-45.9 17.9-89.1 50.3-121.6S466.3 177 512.2 177s88.9 17.9 121.4 50.4A171.2 171.2 0 0 1 683.9 349c0 45.9-17.9 89.1-50.3 121.6C601.1 503.1 558 521 512.2 521zM880 759h-84v-84c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v84h-84c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h84v84c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-84h84c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"},child:[]}]})(t)}function yP(t){return ie({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 0c-4.418 0-8 3.582-8 8s3.582 8 8 8 8-3.582 8-8-3.582-8-8-8zM8 14.5c-3.59 0-6.5-2.91-6.5-6.5s2.91-6.5 6.5-6.5 6.5 2.91 6.5 6.5-2.91 6.5-6.5 6.5z"},child:[]},{tag:"path",attr:{d:"M10.5 4l-2.5 2.5-2.5-2.5-1.5 1.5 2.5 2.5-2.5 2.5 1.5 1.5 2.5-2.5 2.5 2.5 1.5-1.5-2.5-2.5 2.5-2.5z"},child:[]}]})(t)}function vP(t){return ie({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M0 1h16v2h-16zM0 4h10v2h-10zM0 10h10v2h-10zM0 7h16v2h-16zM0 13h16v2h-16z"},child:[]}]})(t)}function rl(t){"@babel/helpers - typeof";return rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rl(t)}function xP(t,e){if(rl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(rl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wP(t){var e=xP(t,"string");return rl(e)=="symbol"?e:e+""}function _P(t,e,n){return(e=wP(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function P1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R1(Object(n),!0).forEach(function(r){_P(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pn(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var D1=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),ff=function(){return Math.random().toString(36).substring(7).split("").join(".")},j1={INIT:"@@redux/INIT"+ff(),REPLACE:"@@redux/REPLACE"+ff(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+ff()}};function EP(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function rb(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(pn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(pn(1));return n(rb)(t,e)}if(typeof t!="function")throw new Error(pn(2));var s=t,i=e,o=[],a=o,c=!1;function u(){a===o&&(a=o.slice())}function h(){if(c)throw new Error(pn(3));return i}function f(I){if(typeof I!="function")throw new Error(pn(4));if(c)throw new Error(pn(5));var N=!0;return u(),a.push(I),function(){if(N){if(c)throw new Error(pn(6));N=!1,u();var w=a.indexOf(I);a.splice(w,1),o=null}}}function p(I){if(!EP(I))throw new Error(pn(7));if(typeof I.type>"u")throw new Error(pn(8));if(c)throw new Error(pn(9));try{c=!0,i=s(i,I)}finally{c=!1}for(var N=o=a,E=0;E<N.length;E++){var w=N[E];w()}return I}function y(I){if(typeof I!="function")throw new Error(pn(10));s=I,p({type:j1.REPLACE})}function b(){var I,N=f;return I={subscribe:function(w){if(typeof w!="object"||w===null)throw new Error(pn(11));function _(){w.next&&w.next(h())}_();var P=N(_);return{unsubscribe:P}}},I[D1]=function(){return this},I}return p({type:j1.INIT}),r={dispatch:p,subscribe:f,getState:h,replaceReducer:y},r[D1]=b,r}function O1(t,e){return function(){return e(t.apply(this,arguments))}}function L1(t,e){if(typeof t=="function")return O1(t,e);if(typeof t!="object"||t===null)throw new Error(pn(16));var n={};for(var r in t){var s=t[r];typeof s=="function"&&(n[r]=O1(s,e))}return n}function sb(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,s){return function(){return r(s.apply(void 0,arguments))}})}function bP(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var s=r.apply(void 0,arguments),i=function(){throw new Error(pn(15))},o={getState:s.getState,dispatch:function(){return i.apply(void 0,arguments)}},a=e.map(function(c){return c(o)});return i=sb.apply(void 0,a)(s.dispatch),P1(P1({},s),{},{dispatch:i})}}}var ib={exports:{}},ob={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var go=v;function IP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var SP=typeof Object.is=="function"?Object.is:IP,TP=go.useState,CP=go.useEffect,NP=go.useLayoutEffect,kP=go.useDebugValue;function AP(t,e){var n=e(),r=TP({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return NP(function(){s.value=n,s.getSnapshot=e,pf(s)&&i({inst:s})},[t,n,e]),CP(function(){return pf(s)&&i({inst:s}),t(function(){pf(s)&&i({inst:s})})},[t]),kP(n),n}function pf(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!SP(t,n)}catch{return!0}}function RP(t,e){return e()}var PP=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?RP:AP;ob.useSyncExternalStore=go.useSyncExternalStore!==void 0?go.useSyncExternalStore:PP;ib.exports=ob;var ab=ib.exports,DP={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jd=v,jP=ab;function OP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var LP=typeof Object.is=="function"?Object.is:OP,MP=jP.useSyncExternalStore,VP=jd.useRef,FP=jd.useEffect,BP=jd.useMemo,UP=jd.useDebugValue;DP.useSyncExternalStoreWithSelector=function(t,e,n,r,s){var i=VP(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=BP(function(){function c(y){if(!u){if(u=!0,h=y,y=r(y),s!==void 0&&o.hasValue){var b=o.value;if(s(b,y))return f=b}return f=y}if(b=f,LP(h,y))return b;var I=r(y);return s!==void 0&&s(b,I)?b:(h=y,f=I)}var u=!1,h,f,p=n===void 0?null:n;return[function(){return c(e())},p===null?void 0:function(){return c(p())}]},[e,n,r,s]);var a=MP(t,i[0],i[1]);return FP(function(){o.hasValue=!0,o.value=a},[a]),UP(a),a};function zP(t){t()}let lb=zP;const $P=t=>lb=t,HP=()=>lb,M1=Symbol.for("react-redux-context"),V1=typeof globalThis<"u"?globalThis:{};function WP(){var t;if(!v.createContext)return{};const e=(t=V1[M1])!=null?t:V1[M1]=new Map;let n=e.get(v.createContext);return n||(n=v.createContext(null),e.set(v.createContext,n)),n}const cb=WP(),GP=()=>{throw new Error("uSES not initialized!")};function xs(){return xs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xs.apply(null,arguments)}function ub(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}var db={exports:{}},$e={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nt=typeof Symbol=="function"&&Symbol.for,Fg=Nt?Symbol.for("react.element"):60103,Bg=Nt?Symbol.for("react.portal"):60106,Od=Nt?Symbol.for("react.fragment"):60107,Ld=Nt?Symbol.for("react.strict_mode"):60108,Md=Nt?Symbol.for("react.profiler"):60114,Vd=Nt?Symbol.for("react.provider"):60109,Fd=Nt?Symbol.for("react.context"):60110,Ug=Nt?Symbol.for("react.async_mode"):60111,Bd=Nt?Symbol.for("react.concurrent_mode"):60111,Ud=Nt?Symbol.for("react.forward_ref"):60112,zd=Nt?Symbol.for("react.suspense"):60113,qP=Nt?Symbol.for("react.suspense_list"):60120,$d=Nt?Symbol.for("react.memo"):60115,Hd=Nt?Symbol.for("react.lazy"):60116,KP=Nt?Symbol.for("react.block"):60121,QP=Nt?Symbol.for("react.fundamental"):60117,YP=Nt?Symbol.for("react.responder"):60118,XP=Nt?Symbol.for("react.scope"):60119;function Dn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Fg:switch(t=t.type,t){case Ug:case Bd:case Od:case Md:case Ld:case zd:return t;default:switch(t=t&&t.$$typeof,t){case Fd:case Ud:case Hd:case $d:case Vd:return t;default:return e}}case Bg:return e}}}function hb(t){return Dn(t)===Bd}$e.AsyncMode=Ug;$e.ConcurrentMode=Bd;$e.ContextConsumer=Fd;$e.ContextProvider=Vd;$e.Element=Fg;$e.ForwardRef=Ud;$e.Fragment=Od;$e.Lazy=Hd;$e.Memo=$d;$e.Portal=Bg;$e.Profiler=Md;$e.StrictMode=Ld;$e.Suspense=zd;$e.isAsyncMode=function(t){return hb(t)||Dn(t)===Ug};$e.isConcurrentMode=hb;$e.isContextConsumer=function(t){return Dn(t)===Fd};$e.isContextProvider=function(t){return Dn(t)===Vd};$e.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Fg};$e.isForwardRef=function(t){return Dn(t)===Ud};$e.isFragment=function(t){return Dn(t)===Od};$e.isLazy=function(t){return Dn(t)===Hd};$e.isMemo=function(t){return Dn(t)===$d};$e.isPortal=function(t){return Dn(t)===Bg};$e.isProfiler=function(t){return Dn(t)===Md};$e.isStrictMode=function(t){return Dn(t)===Ld};$e.isSuspense=function(t){return Dn(t)===zd};$e.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Od||t===Bd||t===Md||t===Ld||t===zd||t===qP||typeof t=="object"&&t!==null&&(t.$$typeof===Hd||t.$$typeof===$d||t.$$typeof===Vd||t.$$typeof===Fd||t.$$typeof===Ud||t.$$typeof===QP||t.$$typeof===YP||t.$$typeof===XP||t.$$typeof===KP)};$e.typeOf=Dn;db.exports=$e;var JP=db.exports,zg=JP,ZP={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},eD={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},tD={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},fb={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},$g={};$g[zg.ForwardRef]=tD;$g[zg.Memo]=fb;function F1(t){return zg.isMemo(t)?fb:$g[t.$$typeof]||ZP}var nD=Object.defineProperty,rD=Object.getOwnPropertyNames,B1=Object.getOwnPropertySymbols,sD=Object.getOwnPropertyDescriptor,iD=Object.getPrototypeOf,U1=Object.prototype;function pb(t,e,n){if(typeof e!="string"){if(U1){var r=iD(e);r&&r!==U1&&pb(t,r,n)}var s=rD(e);B1&&(s=s.concat(B1(e)));for(var i=F1(t),o=F1(e),a=0;a<s.length;++a){var c=s[a];if(!eD[c]&&!(n&&n[c])&&!(o&&o[c])&&!(i&&i[c])){var u=sD(e,c);try{nD(t,c,u)}catch{}}}}return t}var oD=pb;const z1=am(oD);var mb={exports:{}},He={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hg=Symbol.for("react.element"),Wg=Symbol.for("react.portal"),Wd=Symbol.for("react.fragment"),Gd=Symbol.for("react.strict_mode"),qd=Symbol.for("react.profiler"),Kd=Symbol.for("react.provider"),Qd=Symbol.for("react.context"),aD=Symbol.for("react.server_context"),Yd=Symbol.for("react.forward_ref"),Xd=Symbol.for("react.suspense"),Jd=Symbol.for("react.suspense_list"),Zd=Symbol.for("react.memo"),eh=Symbol.for("react.lazy"),lD=Symbol.for("react.offscreen"),gb;gb=Symbol.for("react.module.reference");function Wn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Hg:switch(t=t.type,t){case Wd:case qd:case Gd:case Xd:case Jd:return t;default:switch(t=t&&t.$$typeof,t){case aD:case Qd:case Yd:case eh:case Zd:case Kd:return t;default:return e}}case Wg:return e}}}He.ContextConsumer=Qd;He.ContextProvider=Kd;He.Element=Hg;He.ForwardRef=Yd;He.Fragment=Wd;He.Lazy=eh;He.Memo=Zd;He.Portal=Wg;He.Profiler=qd;He.StrictMode=Gd;He.Suspense=Xd;He.SuspenseList=Jd;He.isAsyncMode=function(){return!1};He.isConcurrentMode=function(){return!1};He.isContextConsumer=function(t){return Wn(t)===Qd};He.isContextProvider=function(t){return Wn(t)===Kd};He.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Hg};He.isForwardRef=function(t){return Wn(t)===Yd};He.isFragment=function(t){return Wn(t)===Wd};He.isLazy=function(t){return Wn(t)===eh};He.isMemo=function(t){return Wn(t)===Zd};He.isPortal=function(t){return Wn(t)===Wg};He.isProfiler=function(t){return Wn(t)===qd};He.isStrictMode=function(t){return Wn(t)===Gd};He.isSuspense=function(t){return Wn(t)===Xd};He.isSuspenseList=function(t){return Wn(t)===Jd};He.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Wd||t===qd||t===Gd||t===Xd||t===Jd||t===lD||typeof t=="object"&&t!==null&&(t.$$typeof===eh||t.$$typeof===Zd||t.$$typeof===Kd||t.$$typeof===Qd||t.$$typeof===Yd||t.$$typeof===gb||t.getModuleId!==void 0)};He.typeOf=Wn;mb.exports=He;var cD=mb.exports;const uD=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function dD(t,e,n,r,{areStatesEqual:s,areOwnPropsEqual:i,areStatePropsEqual:o}){let a=!1,c,u,h,f,p;function y(w,_){return c=w,u=_,h=t(c,u),f=e(r,u),p=n(h,f,u),a=!0,p}function b(){return h=t(c,u),e.dependsOnOwnProps&&(f=e(r,u)),p=n(h,f,u),p}function I(){return t.dependsOnOwnProps&&(h=t(c,u)),e.dependsOnOwnProps&&(f=e(r,u)),p=n(h,f,u),p}function N(){const w=t(c,u),_=!o(w,h);return h=w,_&&(p=n(h,f,u)),p}function E(w,_){const P=!i(_,u),O=!s(w,c,_,u);return c=w,u=_,P&&O?b():P?I():O?N():p}return function(_,P){return a?E(_,P):y(_,P)}}function hD(t,e){let{initMapStateToProps:n,initMapDispatchToProps:r,initMergeProps:s}=e,i=ub(e,uD);const o=n(t,i),a=r(t,i),c=s(t,i);return dD(o,a,c,t,i)}function fD(t,e){const n={};for(const r in t){const s=t[r];typeof s=="function"&&(n[r]=(...i)=>e(s(...i)))}return n}function qp(t){return function(n){const r=t(n);function s(){return r}return s.dependsOnOwnProps=!1,s}}function $1(t){return t.dependsOnOwnProps?!!t.dependsOnOwnProps:t.length!==1}function yb(t,e){return function(r,{displayName:s}){const i=function(a,c){return i.dependsOnOwnProps?i.mapToProps(a,c):i.mapToProps(a,void 0)};return i.dependsOnOwnProps=!0,i.mapToProps=function(a,c){i.mapToProps=t,i.dependsOnOwnProps=$1(t);let u=i(a,c);return typeof u=="function"&&(i.mapToProps=u,i.dependsOnOwnProps=$1(u),u=i(a,c)),u},i}}function Gg(t,e){return(n,r)=>{throw new Error(`Invalid value of type ${typeof t} for ${e} argument when connecting component ${r.wrappedComponentName}.`)}}function pD(t){return t&&typeof t=="object"?qp(e=>fD(t,e)):t?typeof t=="function"?yb(t):Gg(t,"mapDispatchToProps"):qp(e=>({dispatch:e}))}function mD(t){return t?typeof t=="function"?yb(t):Gg(t,"mapStateToProps"):qp(()=>({}))}function gD(t,e,n){return xs({},n,t,e)}function yD(t){return function(n,{displayName:r,areMergedPropsEqual:s}){let i=!1,o;return function(c,u,h){const f=t(c,u,h);return i?s(f,o)||(o=f):(i=!0,o=f),o}}}function vD(t){return t?typeof t=="function"?yD(t):Gg(t,"mergeProps"):()=>gD}function xD(){const t=HP();let e=null,n=null;return{clear(){e=null,n=null},notify(){t(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){let r=[],s=e;for(;s;)r.push(s),s=s.next;return r},subscribe(r){let s=!0,i=n={callback:r,next:null,prev:n};return i.prev?i.prev.next=i:e=i,function(){!s||e===null||(s=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}const H1={notify(){},get:()=>[]};function vb(t,e){let n,r=H1,s=0,i=!1;function o(I){h();const N=r.subscribe(I);let E=!1;return()=>{E||(E=!0,N(),f())}}function a(){r.notify()}function c(){b.onStateChange&&b.onStateChange()}function u(){return i}function h(){s++,n||(n=e?e.addNestedSub(c):t.subscribe(c),r=xD())}function f(){s--,n&&s===0&&(n(),n=void 0,r.clear(),r=H1)}function p(){i||(i=!0,h())}function y(){i&&(i=!1,f())}const b={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:c,isSubscribed:u,trySubscribe:p,tryUnsubscribe:y,getListeners:()=>r};return b}const wD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Vu=wD?v.useLayoutEffect:v.useEffect;function W1(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function mf(t,e){if(W1(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(!Object.prototype.hasOwnProperty.call(e,n[s])||!W1(t[n[s]],e[n[s]]))return!1;return!0}const _D=["reactReduxForwardedRef"];let xb=GP;const ED=t=>{xb=t},bD=[null,null];function ID(t,e,n){Vu(()=>t(...e),n)}function SD(t,e,n,r,s,i){t.current=r,n.current=!1,s.current&&(s.current=null,i())}function TD(t,e,n,r,s,i,o,a,c,u,h){if(!t)return()=>{};let f=!1,p=null;const y=()=>{if(f||!a.current)return;const I=e.getState();let N,E;try{N=r(I,s.current)}catch(w){E=w,p=w}E||(p=null),N===i.current?o.current||u():(i.current=N,c.current=N,o.current=!0,h())};return n.onStateChange=y,n.trySubscribe(),y(),()=>{if(f=!0,n.tryUnsubscribe(),n.onStateChange=null,p)throw p}}function CD(t,e){return t===e}function wb(t,e,n,{pure:r,areStatesEqual:s=CD,areOwnPropsEqual:i=mf,areStatePropsEqual:o=mf,areMergedPropsEqual:a=mf,forwardRef:c=!1,context:u=cb}={}){const h=u,f=mD(t),p=pD(e),y=vD(n),b=!!t;return N=>{const E=N.displayName||N.name||"Component",w=`Connect(${E})`,_={shouldHandleStateChanges:b,displayName:w,wrappedComponentName:E,WrappedComponent:N,initMapStateToProps:f,initMapDispatchToProps:p,initMergeProps:y,areStatesEqual:s,areStatePropsEqual:o,areOwnPropsEqual:i,areMergedPropsEqual:a};function P(T){const[x,C,k]=v.useMemo(()=>{const{reactReduxForwardedRef:dt}=T,nn=ub(T,_D);return[T.context,dt,nn]},[T]),R=v.useMemo(()=>x&&x.Consumer&&cD.isContextConsumer(v.createElement(x.Consumer,null))?x:h,[x,h]),D=v.useContext(R),A=!!T.store&&!!T.store.getState&&!!T.store.dispatch,pe=!!D&&!!D.store,se=A?T.store:D.store,_e=pe?D.getServerState:se.getState,me=v.useMemo(()=>hD(se.dispatch,_),[se]),[W,X]=v.useMemo(()=>{if(!b)return bD;const dt=vb(se,A?void 0:D.subscription),nn=dt.notifyNestedSubs.bind(dt);return[dt,nn]},[se,A,D]),ee=v.useMemo(()=>A?D:xs({},D,{subscription:W}),[A,D,W]),le=v.useRef(),he=v.useRef(k),z=v.useRef(),We=v.useRef(!1);v.useRef(!1);const ct=v.useRef(!1),Oe=v.useRef();Vu(()=>(ct.current=!0,()=>{ct.current=!1}),[]);const Ie=v.useMemo(()=>()=>z.current&&k===he.current?z.current:me(se.getState(),k),[se,k]),jn=v.useMemo(()=>nn=>W?TD(b,se,W,me,he,le,We,ct,z,X,nn):()=>{},[W]);ID(SD,[he,le,We,k,z,X]);let $t;try{$t=xb(jn,Ie,_e?()=>me(_e(),k):Ie)}catch(dt){throw Oe.current&&(dt.message+=`
The error may be correlated with this previous error:
${Oe.current.stack}

`),dt}Vu(()=>{Oe.current=void 0,z.current=void 0,le.current=$t});const Ne=v.useMemo(()=>v.createElement(N,xs({},$t,{ref:C})),[C,N,$t]);return v.useMemo(()=>b?v.createElement(R.Provider,{value:ee},Ne):Ne,[R,Ne,ee])}const j=v.memo(P);if(j.WrappedComponent=N,j.displayName=P.displayName=w,c){const x=v.forwardRef(function(k,R){return v.createElement(j,xs({},k,{reactReduxForwardedRef:R}))});return x.displayName=w,x.WrappedComponent=N,z1(x,N)}return z1(j,N)}}function ND({store:t,context:e,children:n,serverState:r,stabilityCheck:s="once",noopCheck:i="once"}){const o=v.useMemo(()=>{const u=vb(t);return{store:t,subscription:u,getServerState:r?()=>r:void 0,stabilityCheck:s,noopCheck:i}},[t,r,s,i]),a=v.useMemo(()=>t.getState(),[t]);Vu(()=>{const{subscription:u}=o;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),a!==t.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[o,a]);const c=e||cb;return v.createElement(c.Provider,{value:o},n)}ED(ab.useSyncExternalStore);$P(vl.unstable_batchedUpdates);function kD(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function _b(t,e){var n=v.useState(function(){return{inputs:e,result:t()}})[0],r=v.useRef(!0),s=v.useRef(n),i=r.current||!!(e&&s.current.inputs&&kD(e,s.current.inputs)),o=i?s.current:{inputs:e,result:t()};return v.useEffect(function(){r.current=!1,s.current=o},[o]),o.result}function AD(t,e){return _b(function(){return t},e)}var Pe=_b,oe=AD,RD="Invariant failed";function PD(t,e){throw new Error(RD)}var Jn=function(e){var n=e.top,r=e.right,s=e.bottom,i=e.left,o=r-i,a=s-n,c={top:n,right:r,bottom:s,left:i,width:o,height:a,x:i,y:n,center:{x:(r+i)/2,y:(s+n)/2}};return c},qg=function(e,n){return{top:e.top-n.top,left:e.left-n.left,bottom:e.bottom+n.bottom,right:e.right+n.right}},G1=function(e,n){return{top:e.top+n.top,left:e.left+n.left,bottom:e.bottom-n.bottom,right:e.right-n.right}},DD=function(e,n){return{top:e.top+n.y,left:e.left+n.x,bottom:e.bottom+n.y,right:e.right+n.x}},gf={top:0,right:0,bottom:0,left:0},Kg=function(e){var n=e.borderBox,r=e.margin,s=r===void 0?gf:r,i=e.border,o=i===void 0?gf:i,a=e.padding,c=a===void 0?gf:a,u=Jn(qg(n,s)),h=Jn(G1(n,o)),f=Jn(G1(h,c));return{marginBox:u,borderBox:Jn(n),paddingBox:h,contentBox:f,margin:s,border:o,padding:c}},On=function(e){var n=e.slice(0,-2),r=e.slice(-2);if(r!=="px")return 0;var s=Number(n);return isNaN(s)&&PD(),s},jD=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Fu=function(e,n){var r=e.borderBox,s=e.border,i=e.margin,o=e.padding,a=DD(r,n);return Kg({borderBox:a,border:s,margin:i,padding:o})},Bu=function(e,n){return n===void 0&&(n=jD()),Fu(e,n)},Eb=function(e,n){var r={top:On(n.marginTop),right:On(n.marginRight),bottom:On(n.marginBottom),left:On(n.marginLeft)},s={top:On(n.paddingTop),right:On(n.paddingRight),bottom:On(n.paddingBottom),left:On(n.paddingLeft)},i={top:On(n.borderTopWidth),right:On(n.borderRightWidth),bottom:On(n.borderBottomWidth),left:On(n.borderLeftWidth)};return Kg({borderBox:e,margin:r,padding:s,border:i})},bb=function(e){var n=e.getBoundingClientRect(),r=window.getComputedStyle(e);return Eb(n,r)},q1=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function OD(t,e){return!!(t===e||q1(t)&&q1(e))}function LD(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!OD(t[n],e[n]))return!1;return!0}function St(t,e){e===void 0&&(e=LD);var n=null;function r(){for(var s=[],i=0;i<arguments.length;i++)s[i]=arguments[i];if(n&&n.lastThis===this&&e(s,n.lastArgs))return n.lastResult;var o=t.apply(this,s);return n={lastResult:o,lastArgs:s,lastThis:this},o}return r.clear=function(){n=null},r}var sl=function(e){var n=[],r=null,s=function(){for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];n=a,!r&&(r=requestAnimationFrame(function(){r=null,e.apply(void 0,n)}))};return s.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},s};function Ib(t,e){}Ib.bind(null,"warn");Ib.bind(null,"error");function ws(){}function MD(t,e){return{...t,...e}}function Fn(t,e,n){const r=e.map(s=>{const i=MD(n,s.options);return t.addEventListener(s.eventName,s.fn,i),function(){t.removeEventListener(s.eventName,s.fn,i)}});return function(){r.forEach(i=>{i()})}}const VD="Invariant failed";class Uu extends Error{}Uu.prototype.toString=function(){return this.message};function Q(t,e){throw new Uu(VD)}class FD extends Te.Component{constructor(...e){super(...e),this.callbacks=null,this.unbind=ws,this.onWindowError=n=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),n.error instanceof Uu&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=Fn(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(e){if(e instanceof Uu){this.setState({});return}throw e}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const BD=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,zu=t=>t+1,UD=t=>`
  You have lifted an item in position ${zu(t.source.index)}
`,Sb=(t,e)=>{const n=t.droppableId===e.droppableId,r=zu(t.index),s=zu(e.index);return n?`
      You have moved the item from position ${r}
      to position ${s}
    `:`
    You have moved the item from position ${r}
    in list ${t.droppableId}
    to list ${e.droppableId}
    in position ${s}
  `},Tb=(t,e,n)=>e.droppableId===n.droppableId?`
      The item ${t}
      has been combined with ${n.draggableId}`:`
      The item ${t}
      in list ${e.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,zD=t=>{const e=t.destination;if(e)return Sb(t.source,e);const n=t.combine;return n?Tb(t.draggableId,t.source,n):"You are over an area that cannot be dropped on"},K1=t=>`
  The item has returned to its starting position
  of ${zu(t.index)}
`,$D=t=>{if(t.reason==="CANCEL")return`
      Movement cancelled.
      ${K1(t.source)}
    `;const e=t.destination,n=t.combine;return e?`
      You have dropped the item.
      ${Sb(t.source,e)}
    `:n?`
      You have dropped the item.
      ${Tb(t.draggableId,t.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${K1(t.source)}
  `},HD={dragHandleUsageInstructions:BD,onDragStart:UD,onDragUpdate:zD,onDragEnd:$D};var qc=HD;const Ct={x:0,y:0},Vt=(t,e)=>({x:t.x+e.x,y:t.y+e.y}),Tn=(t,e)=>({x:t.x-e.x,y:t.y-e.y}),_s=(t,e)=>t.x===e.x&&t.y===e.y,Ao=t=>({x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}),di=(t,e,n=0)=>t==="x"?{x:e,y:n}:{x:n,y:e},il=(t,e)=>Math.sqrt((e.x-t.x)**2+(e.y-t.y)**2),Q1=(t,e)=>Math.min(...e.map(n=>il(t,n))),Cb=t=>e=>({x:t(e.x),y:t(e.y)});var WD=(t,e)=>{const n=Jn({top:Math.max(e.top,t.top),right:Math.min(e.right,t.right),bottom:Math.min(e.bottom,t.bottom),left:Math.max(e.left,t.left)});return n.width<=0||n.height<=0?null:n};const jl=(t,e)=>({top:t.top+e.y,left:t.left+e.x,bottom:t.bottom+e.y,right:t.right+e.x}),Y1=t=>[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}],GD={top:0,right:0,bottom:0,left:0},qD=(t,e)=>e?jl(t,e.scroll.diff.displacement):t,KD=(t,e,n)=>n&&n.increasedBy?{...t,[e.end]:t[e.end]+n.increasedBy[e.line]}:t,QD=(t,e)=>e&&e.shouldClipSubject?WD(e.pageMarginBox,t):Jn(t);var yo=({page:t,withPlaceholder:e,axis:n,frame:r})=>{const s=qD(t.marginBox,r),i=KD(s,n,e),o=QD(i,r);return{page:t,withPlaceholder:e,active:o}},Qg=(t,e)=>{t.frame||Q();const n=t.frame,r=Tn(e,n.scroll.initial),s=Ao(r),i={...n,scroll:{initial:n.scroll.initial,current:e,diff:{value:r,displacement:s},max:n.scroll.max}},o=yo({page:t.subject.page,withPlaceholder:t.subject.withPlaceholder,axis:t.axis,frame:i});return{...t,frame:i,subject:o}};const Nb=St(t=>t.reduce((e,n)=>(e[n.descriptor.id]=n,e),{})),kb=St(t=>t.reduce((e,n)=>(e[n.descriptor.id]=n,e),{})),th=St(t=>Object.values(t)),YD=St(t=>Object.values(t));var Ro=St((t,e)=>YD(e).filter(r=>t===r.descriptor.droppableId).sort((r,s)=>r.descriptor.index-s.descriptor.index));function Yg(t){return t.at&&t.at.type==="REORDER"?t.at.destination:null}function nh(t){return t.at&&t.at.type==="COMBINE"?t.at.combine:null}var rh=St((t,e)=>e.filter(n=>n.descriptor.id!==t.descriptor.id)),XD=({isMovingForward:t,draggable:e,destination:n,insideDestination:r,previousImpact:s})=>{if(!n.isCombineEnabled||!Yg(s))return null;function o(y){const b={type:"COMBINE",combine:{draggableId:y,droppableId:n.descriptor.id}};return{...s,at:b}}const a=s.displaced.all,c=a.length?a[0]:null;if(t)return c?o(c):null;const u=rh(e,r);if(!c){if(!u.length)return null;const y=u[u.length-1];return o(y.descriptor.id)}const h=u.findIndex(y=>y.descriptor.id===c);h===-1&&Q();const f=h-1;if(f<0)return null;const p=u[f];return o(p.descriptor.id)},Po=(t,e)=>t.descriptor.droppableId===e.descriptor.id;const Ab={point:Ct,value:0},ol={invisible:{},visible:{},all:[]},JD={displaced:ol,displacedBy:Ab,at:null};var ZD=JD,Un=(t,e)=>n=>t<=n&&n<=e,Rb=t=>{const e=Un(t.top,t.bottom),n=Un(t.left,t.right);return r=>{if(e(r.top)&&e(r.bottom)&&n(r.left)&&n(r.right))return!0;const i=e(r.top)||e(r.bottom),o=n(r.left)||n(r.right);if(i&&o)return!0;const c=r.top<t.top&&r.bottom>t.bottom,u=r.left<t.left&&r.right>t.right;return c&&u?!0:c&&o||u&&i}},e5=t=>{const e=Un(t.top,t.bottom),n=Un(t.left,t.right);return r=>e(r.top)&&e(r.bottom)&&n(r.left)&&n(r.right)};const Xg={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},Pb={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var t5=t=>e=>{const n=Un(e.top,e.bottom),r=Un(e.left,e.right);return s=>t===Xg?n(s.top)&&n(s.bottom):r(s.left)&&r(s.right)};const n5=(t,e)=>{const n=e.frame?e.frame.scroll.diff.displacement:Ct;return jl(t,n)},r5=(t,e,n)=>e.subject.active?n(e.subject.active)(t):!1,s5=(t,e,n)=>n(e)(t),Jg=({target:t,destination:e,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:s})=>{const i=r?n5(t,e):t;return r5(i,e,s)&&s5(i,n,s)},i5=t=>Jg({...t,isVisibleThroughFrameFn:Rb}),Db=t=>Jg({...t,isVisibleThroughFrameFn:e5}),o5=t=>Jg({...t,isVisibleThroughFrameFn:t5(t.destination.axis)}),a5=(t,e,n)=>{if(typeof n=="boolean")return n;if(!e)return!0;const{invisible:r,visible:s}=e;if(r[t])return!1;const i=s[t];return i?i.shouldAnimate:!0};function l5(t,e){const n=t.page.marginBox,r={top:e.point.y,right:0,bottom:0,left:e.point.x};return Jn(qg(n,r))}function al({afterDragging:t,destination:e,displacedBy:n,viewport:r,forceShouldAnimate:s,last:i}){return t.reduce(function(a,c){const u=l5(c,n),h=c.descriptor.id;if(a.all.push(h),!i5({target:u,destination:e,viewport:r,withDroppableDisplacement:!0}))return a.invisible[c.descriptor.id]=!0,a;const p=a5(h,i,s),y={draggableId:h,shouldAnimate:p};return a.visible[h]=y,a},{all:[],visible:{},invisible:{}})}function c5(t,e){if(!t.length)return 0;const n=t[t.length-1].descriptor.index;return e.inHomeList?n:n+1}function X1({insideDestination:t,inHomeList:e,displacedBy:n,destination:r}){const s=c5(t,{inHomeList:e});return{displaced:ol,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:s}}}}function $u({draggable:t,insideDestination:e,destination:n,viewport:r,displacedBy:s,last:i,index:o,forceShouldAnimate:a}){const c=Po(t,n);if(o==null)return X1({insideDestination:e,inHomeList:c,displacedBy:s,destination:n});const u=e.find(b=>b.descriptor.index===o);if(!u)return X1({insideDestination:e,inHomeList:c,displacedBy:s,destination:n});const h=rh(t,e),f=e.indexOf(u),p=h.slice(f);return{displaced:al({afterDragging:p,destination:n,displacedBy:s,last:i,viewport:r.frame,forceShouldAnimate:a}),displacedBy:s,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:o}}}}function Cs(t,e){return!!e.effected[t]}var u5=({isMovingForward:t,destination:e,draggables:n,combine:r,afterCritical:s})=>{if(!e.isCombineEnabled)return null;const i=r.draggableId,a=n[i].descriptor.index;return Cs(i,s)?t?a:a-1:t?a+1:a},d5=({isMovingForward:t,isInHomeList:e,insideDestination:n,location:r})=>{if(!n.length)return null;const s=r.index,i=t?s+1:s-1,o=n[0].descriptor.index,a=n[n.length-1].descriptor.index,c=e?a:a+1;return i<o||i>c?null:i},h5=({isMovingForward:t,isInHomeList:e,draggable:n,draggables:r,destination:s,insideDestination:i,previousImpact:o,viewport:a,afterCritical:c})=>{const u=o.at;if(u||Q(),u.type==="REORDER"){const f=d5({isMovingForward:t,isInHomeList:e,location:u.destination,insideDestination:i});return f==null?null:$u({draggable:n,insideDestination:i,destination:s,viewport:a,last:o.displaced,displacedBy:o.displacedBy,index:f})}const h=u5({isMovingForward:t,destination:s,displaced:o.displaced,draggables:r,combine:u.combine,afterCritical:c});return h==null?null:$u({draggable:n,insideDestination:i,destination:s,viewport:a,last:o.displaced,displacedBy:o.displacedBy,index:h})},f5=({displaced:t,afterCritical:e,combineWith:n,displacedBy:r})=>{const s=!!(t.visible[n]||t.invisible[n]);return Cs(n,e)?s?Ct:Ao(r.point):s?r.point:Ct},p5=({afterCritical:t,impact:e,draggables:n})=>{const r=nh(e);r||Q();const s=r.draggableId,i=n[s].page.borderBox.center,o=f5({displaced:e.displaced,afterCritical:t,combineWith:s,displacedBy:e.displacedBy});return Vt(i,o)};const jb=(t,e)=>e.margin[t.start]+e.borderBox[t.size]/2,m5=(t,e)=>e.margin[t.end]+e.borderBox[t.size]/2,Zg=(t,e,n)=>e[t.crossAxisStart]+n.margin[t.crossAxisStart]+n.borderBox[t.crossAxisSize]/2,J1=({axis:t,moveRelativeTo:e,isMoving:n})=>di(t.line,e.marginBox[t.end]+jb(t,n),Zg(t,e.marginBox,n)),Z1=({axis:t,moveRelativeTo:e,isMoving:n})=>di(t.line,e.marginBox[t.start]-m5(t,n),Zg(t,e.marginBox,n)),g5=({axis:t,moveInto:e,isMoving:n})=>di(t.line,e.contentBox[t.start]+jb(t,n),Zg(t,e.contentBox,n));var y5=({impact:t,draggable:e,draggables:n,droppable:r,afterCritical:s})=>{const i=Ro(r.descriptor.id,n),o=e.page,a=r.axis;if(!i.length)return g5({axis:a,moveInto:r.page,isMoving:o});const{displaced:c,displacedBy:u}=t,h=c.all[0];if(h){const p=n[h];if(Cs(h,s))return Z1({axis:a,moveRelativeTo:p.page,isMoving:o});const y=Fu(p.page,u.point);return Z1({axis:a,moveRelativeTo:y,isMoving:o})}const f=i[i.length-1];if(f.descriptor.id===e.descriptor.id)return o.borderBox.center;if(Cs(f.descriptor.id,s)){const p=Fu(f.page,Ao(s.displacedBy.point));return J1({axis:a,moveRelativeTo:p,isMoving:o})}return J1({axis:a,moveRelativeTo:f.page,isMoving:o})},Kp=(t,e)=>{const n=t.frame;return n?Vt(e,n.scroll.diff.displacement):e};const v5=({impact:t,draggable:e,droppable:n,draggables:r,afterCritical:s})=>{const i=e.page.borderBox.center,o=t.at;return!n||!o?i:o.type==="REORDER"?y5({impact:t,draggable:e,draggables:r,droppable:n,afterCritical:s}):p5({impact:t,draggables:r,afterCritical:s})};var sh=t=>{const e=v5(t),n=t.droppable;return n?Kp(n,e):e},Ob=(t,e)=>{const n=Tn(e,t.scroll.initial),r=Ao(n);return{frame:Jn({top:e.y,bottom:e.y+t.frame.height,left:e.x,right:e.x+t.frame.width}),scroll:{initial:t.scroll.initial,max:t.scroll.max,current:e,diff:{value:n,displacement:r}}}};function ex(t,e){return t.map(n=>e[n])}function x5(t,e){for(let n=0;n<e.length;n++){const r=e[n].visible[t];if(r)return r}return null}var w5=({impact:t,viewport:e,destination:n,draggables:r,maxScrollChange:s})=>{const i=Ob(e,Vt(e.scroll.current,s)),o=n.frame?Qg(n,Vt(n.frame.scroll.current,s)):n,a=t.displaced,c=al({afterDragging:ex(a.all,r),destination:n,displacedBy:t.displacedBy,viewport:i.frame,last:a,forceShouldAnimate:!1}),u=al({afterDragging:ex(a.all,r),destination:o,displacedBy:t.displacedBy,viewport:e.frame,last:a,forceShouldAnimate:!1}),h={},f={},p=[a,c,u];return a.all.forEach(b=>{const I=x5(b,p);if(I){f[b]=I;return}h[b]=!0}),{...t,displaced:{all:a.all,invisible:h,visible:f}}},_5=(t,e)=>Vt(t.scroll.diff.displacement,e),e0=({pageBorderBoxCenter:t,draggable:e,viewport:n})=>{const r=_5(n,t),s=Tn(r,e.page.borderBox.center);return Vt(e.client.borderBox.center,s)},Lb=({draggable:t,destination:e,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:s,onlyOnMainAxis:i=!1})=>{const o=Tn(n,t.page.borderBox.center),c={target:jl(t.page.borderBox,o),destination:e,withDroppableDisplacement:s,viewport:r};return i?o5(c):Db(c)},E5=({isMovingForward:t,draggable:e,destination:n,draggables:r,previousImpact:s,viewport:i,previousPageBorderBoxCenter:o,previousClientSelection:a,afterCritical:c})=>{if(!n.isEnabled)return null;const u=Ro(n.descriptor.id,r),h=Po(e,n),f=XD({isMovingForward:t,draggable:e,destination:n,insideDestination:u,previousImpact:s})||h5({isMovingForward:t,isInHomeList:h,draggable:e,draggables:r,destination:n,insideDestination:u,previousImpact:s,viewport:i,afterCritical:c});if(!f)return null;const p=sh({impact:f,draggable:e,droppable:n,draggables:r,afterCritical:c});if(Lb({draggable:e,destination:n,newPageBorderBoxCenter:p,viewport:i.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:e0({pageBorderBoxCenter:p,draggable:e,viewport:i}),impact:f,scrollJumpRequest:null};const b=Tn(p,o),I=w5({impact:f,viewport:i,destination:n,draggables:r,maxScrollChange:b});return{clientSelection:a,impact:I,scrollJumpRequest:b}};const sn=t=>{const e=t.subject.active;return e||Q(),e};var b5=({isMovingForward:t,pageBorderBoxCenter:e,source:n,droppables:r,viewport:s})=>{const i=n.subject.active;if(!i)return null;const o=n.axis,a=Un(i[o.start],i[o.end]),c=th(r).filter(h=>h!==n).filter(h=>h.isEnabled).filter(h=>!!h.subject.active).filter(h=>Rb(s.frame)(sn(h))).filter(h=>{const f=sn(h);return t?i[o.crossAxisEnd]<f[o.crossAxisEnd]:f[o.crossAxisStart]<i[o.crossAxisStart]}).filter(h=>{const f=sn(h),p=Un(f[o.start],f[o.end]);return a(f[o.start])||a(f[o.end])||p(i[o.start])||p(i[o.end])}).sort((h,f)=>{const p=sn(h)[o.crossAxisStart],y=sn(f)[o.crossAxisStart];return t?p-y:y-p}).filter((h,f,p)=>sn(h)[o.crossAxisStart]===sn(p[0])[o.crossAxisStart]);if(!c.length)return null;if(c.length===1)return c[0];const u=c.filter(h=>Un(sn(h)[o.start],sn(h)[o.end])(e[o.line]));return u.length===1?u[0]:u.length>1?u.sort((h,f)=>sn(h)[o.start]-sn(f)[o.start])[0]:c.sort((h,f)=>{const p=Q1(e,Y1(sn(h))),y=Q1(e,Y1(sn(f)));return p!==y?p-y:sn(h)[o.start]-sn(f)[o.start]})[0]};const tx=(t,e)=>{const n=t.page.borderBox.center;return Cs(t.descriptor.id,e)?Tn(n,e.displacedBy.point):n},I5=(t,e)=>{const n=t.page.borderBox;return Cs(t.descriptor.id,e)?jl(n,Ao(e.displacedBy.point)):n};var S5=({pageBorderBoxCenter:t,viewport:e,destination:n,insideDestination:r,afterCritical:s})=>r.filter(o=>Db({target:I5(o,s),destination:n,viewport:e.frame,withDroppableDisplacement:!0})).sort((o,a)=>{const c=il(t,Kp(n,tx(o,s))),u=il(t,Kp(n,tx(a,s)));return c<u?-1:u<c?1:o.descriptor.index-a.descriptor.index})[0]||null,Ol=St(function(e,n){const r=n[e.line];return{value:r,point:di(e.line,r)}});const T5=(t,e,n)=>{const r=t.axis;if(t.descriptor.mode==="virtual")return di(r.line,e[r.line]);const s=t.subject.page.contentBox[r.size],c=Ro(t.descriptor.id,n).reduce((u,h)=>u+h.client.marginBox[r.size],0)+e[r.line]-s;return c<=0?null:di(r.line,c)},Mb=(t,e)=>({...t,scroll:{...t.scroll,max:e}}),Vb=(t,e,n)=>{const r=t.frame;Po(e,t)&&Q(),t.subject.withPlaceholder&&Q();const s=Ol(t.axis,e.displaceBy).point,i=T5(t,s,n),o={placeholderSize:s,increasedBy:i,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!r){const h=yo({page:t.subject.page,withPlaceholder:o,axis:t.axis,frame:t.frame});return{...t,subject:h}}const a=i?Vt(r.scroll.max,i):r.scroll.max,c=Mb(r,a),u=yo({page:t.subject.page,withPlaceholder:o,axis:t.axis,frame:c});return{...t,subject:u,frame:c}},C5=t=>{const e=t.subject.withPlaceholder;e||Q();const n=t.frame;if(!n){const o=yo({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return{...t,subject:o}}const r=e.oldFrameMaxScroll;r||Q();const s=Mb(n,r),i=yo({page:t.subject.page,axis:t.axis,frame:s,withPlaceholder:null});return{...t,subject:i,frame:s}};var N5=({previousPageBorderBoxCenter:t,moveRelativeTo:e,insideDestination:n,draggable:r,draggables:s,destination:i,viewport:o,afterCritical:a})=>{if(!e){if(n.length)return null;const f={displaced:ol,displacedBy:Ab,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:0}}},p=sh({impact:f,draggable:r,droppable:i,draggables:s,afterCritical:a}),y=Po(r,i)?i:Vb(i,r,s);return Lb({draggable:r,destination:y,newPageBorderBoxCenter:p,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?f:null}const c=t[i.axis.line]<=e.page.borderBox.center[i.axis.line],u=(()=>{const f=e.descriptor.index;return e.descriptor.id===r.descriptor.id||c?f:f+1})(),h=Ol(i.axis,r.displaceBy);return $u({draggable:r,insideDestination:n,destination:i,viewport:o,displacedBy:h,last:ol,index:u})},k5=({isMovingForward:t,previousPageBorderBoxCenter:e,draggable:n,isOver:r,draggables:s,droppables:i,viewport:o,afterCritical:a})=>{const c=b5({isMovingForward:t,pageBorderBoxCenter:e,source:r,droppables:i,viewport:o});if(!c)return null;const u=Ro(c.descriptor.id,s),h=S5({pageBorderBoxCenter:e,viewport:o,destination:c,insideDestination:u,afterCritical:a}),f=N5({previousPageBorderBoxCenter:e,destination:c,draggable:n,draggables:s,moveRelativeTo:h,insideDestination:u,viewport:o,afterCritical:a});if(!f)return null;const p=sh({impact:f,draggable:n,droppable:c,draggables:s,afterCritical:a});return{clientSelection:e0({pageBorderBoxCenter:p,draggable:n,viewport:o}),impact:f,scrollJumpRequest:null}},Nn=t=>{const e=t.at;return e?e.type==="REORDER"?e.destination.droppableId:e.combine.droppableId:null};const A5=(t,e)=>{const n=Nn(t);return n?e[n]:null};var R5=({state:t,type:e})=>{const n=A5(t.impact,t.dimensions.droppables),r=!!n,s=t.dimensions.droppables[t.critical.droppable.id],i=n||s,o=i.axis.direction,a=o==="vertical"&&(e==="MOVE_UP"||e==="MOVE_DOWN")||o==="horizontal"&&(e==="MOVE_LEFT"||e==="MOVE_RIGHT");if(a&&!r)return null;const c=e==="MOVE_DOWN"||e==="MOVE_RIGHT",u=t.dimensions.draggables[t.critical.draggable.id],h=t.current.page.borderBoxCenter,{draggables:f,droppables:p}=t.dimensions;return a?E5({isMovingForward:c,previousPageBorderBoxCenter:h,draggable:u,destination:i,draggables:f,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):k5({isMovingForward:c,previousPageBorderBoxCenter:h,draggable:u,isOver:i,draggables:f,droppables:p,viewport:t.viewport,afterCritical:t.afterCritical})};function Ws(t){return t.phase==="DRAGGING"||t.phase==="COLLECTING"}function Fb(t){const e=Un(t.top,t.bottom),n=Un(t.left,t.right);return function(s){return e(s.y)&&n(s.x)}}function P5(t,e){return t.left<e.right&&t.right>e.left&&t.top<e.bottom&&t.bottom>e.top}function D5({pageBorderBox:t,draggable:e,candidates:n}){const r=e.page.borderBox.center,s=n.map(i=>{const o=i.axis,a=di(i.axis.line,t.center[o.line],i.page.borderBox.center[o.crossAxisLine]);return{id:i.descriptor.id,distance:il(r,a)}}).sort((i,o)=>o.distance-i.distance);return s[0]?s[0].id:null}function j5({pageBorderBox:t,draggable:e,droppables:n}){const r=th(n).filter(s=>{if(!s.isEnabled)return!1;const i=s.subject.active;if(!i||!P5(t,i))return!1;if(Fb(i)(t.center))return!0;const o=s.axis,a=i.center[o.crossAxisLine],c=t[o.crossAxisStart],u=t[o.crossAxisEnd],h=Un(i[o.crossAxisStart],i[o.crossAxisEnd]),f=h(c),p=h(u);return!f&&!p?!0:f?c<a:u>a});return r.length?r.length===1?r[0].descriptor.id:D5({pageBorderBox:t,draggable:e,candidates:r}):null}const Bb=(t,e)=>Jn(jl(t,e));var O5=(t,e)=>{const n=t.frame;return n?Bb(e,n.scroll.diff.value):e};function Ub({displaced:t,id:e}){return!!(t.visible[e]||t.invisible[e])}function L5({draggable:t,closest:e,inHomeList:n}){return e?n&&e.descriptor.index>t.descriptor.index?e.descriptor.index-1:e.descriptor.index:null}var M5=({pageBorderBoxWithDroppableScroll:t,draggable:e,destination:n,insideDestination:r,last:s,viewport:i,afterCritical:o})=>{const a=n.axis,c=Ol(n.axis,e.displaceBy),u=c.value,h=t[a.start],f=t[a.end],y=rh(e,r).find(I=>{const N=I.descriptor.id,E=I.page.borderBox.center[a.line],w=Cs(N,o),_=Ub({displaced:s,id:N});return w?_?f<=E:h<E-u:_?f<=E+u:h<E})||null,b=L5({draggable:e,closest:y,inHomeList:Po(e,n)});return $u({draggable:e,insideDestination:r,destination:n,viewport:i,last:s,displacedBy:c,index:b})};const V5=4;var F5=({draggable:t,pageBorderBoxWithDroppableScroll:e,previousImpact:n,destination:r,insideDestination:s,afterCritical:i})=>{if(!r.isCombineEnabled)return null;const o=r.axis,a=Ol(r.axis,t.displaceBy),c=a.value,u=e[o.start],h=e[o.end],p=rh(t,s).find(b=>{const I=b.descriptor.id,N=b.page.borderBox,w=N[o.size]/V5,_=Cs(I,i),P=Ub({displaced:n.displaced,id:I});return _?P?h>N[o.start]+w&&h<N[o.end]-w:u>N[o.start]-c+w&&u<N[o.end]-c-w:P?h>N[o.start]+c+w&&h<N[o.end]+c-w:u>N[o.start]+w&&u<N[o.end]-w});return p?{displacedBy:a,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:p.descriptor.id,droppableId:r.descriptor.id}}}:null},zb=({pageOffset:t,draggable:e,draggables:n,droppables:r,previousImpact:s,viewport:i,afterCritical:o})=>{const a=Bb(e.page.borderBox,t),c=j5({pageBorderBox:a,draggable:e,droppables:r});if(!c)return ZD;const u=r[c],h=Ro(u.descriptor.id,n),f=O5(u,a);return F5({pageBorderBoxWithDroppableScroll:f,draggable:e,previousImpact:s,destination:u,insideDestination:h,afterCritical:o})||M5({pageBorderBoxWithDroppableScroll:f,draggable:e,destination:u,insideDestination:h,last:s.displaced,viewport:i,afterCritical:o})},t0=(t,e)=>({...t,[e.descriptor.id]:e});const B5=({previousImpact:t,impact:e,droppables:n})=>{const r=Nn(t),s=Nn(e);if(!r||r===s)return n;const i=n[r];if(!i.subject.withPlaceholder)return n;const o=C5(i);return t0(n,o)};var U5=({draggable:t,draggables:e,droppables:n,previousImpact:r,impact:s})=>{const i=B5({previousImpact:r,impact:s,droppables:n}),o=Nn(s);if(!o)return i;const a=n[o];if(Po(t,a)||a.subject.withPlaceholder)return i;const c=Vb(a,t,e);return t0(i,c)},Ca=({state:t,clientSelection:e,dimensions:n,viewport:r,impact:s,scrollJumpRequest:i})=>{const o=r||t.viewport,a=n||t.dimensions,c=e||t.current.client.selection,u=Tn(c,t.initial.client.selection),h={offset:u,selection:c,borderBoxCenter:Vt(t.initial.client.borderBoxCenter,u)},f={selection:Vt(h.selection,o.scroll.current),borderBoxCenter:Vt(h.borderBoxCenter,o.scroll.current),offset:Vt(h.offset,o.scroll.diff.value)},p={client:h,page:f};if(t.phase==="COLLECTING")return{...t,dimensions:a,viewport:o,current:p};const y=a.draggables[t.critical.draggable.id],b=s||zb({pageOffset:f.offset,draggable:y,draggables:a.draggables,droppables:a.droppables,previousImpact:t.impact,viewport:o,afterCritical:t.afterCritical}),I=U5({draggable:y,impact:b,previousImpact:t.impact,draggables:a.draggables,droppables:a.droppables});return{...t,current:p,dimensions:{draggables:a.draggables,droppables:I},impact:b,viewport:o,scrollJumpRequest:i||null,forceShouldAnimate:i?!1:null}};function z5(t,e){return t.map(n=>e[n])}var $b=({impact:t,viewport:e,draggables:n,destination:r,forceShouldAnimate:s})=>{const i=t.displaced,o=z5(i.all,n),a=al({afterDragging:o,destination:r,displacedBy:t.displacedBy,viewport:e.frame,forceShouldAnimate:s,last:i});return{...t,displaced:a}},Hb=({impact:t,draggable:e,droppable:n,draggables:r,viewport:s,afterCritical:i})=>{const o=sh({impact:t,draggable:e,draggables:r,droppable:n,afterCritical:i});return e0({pageBorderBoxCenter:o,draggable:e,viewport:s})},Wb=({state:t,dimensions:e,viewport:n})=>{t.movementMode!=="SNAP"&&Q();const r=t.impact,s=n||t.viewport,i=e||t.dimensions,{draggables:o,droppables:a}=i,c=o[t.critical.draggable.id],u=Nn(r);u||Q();const h=a[u],f=$b({impact:r,viewport:s,destination:h,draggables:o}),p=Hb({impact:f,draggable:c,droppable:h,draggables:o,viewport:s,afterCritical:t.afterCritical});return Ca({impact:f,clientSelection:p,state:t,dimensions:i,viewport:s})},$5=t=>({index:t.index,droppableId:t.droppableId}),Gb=({draggable:t,home:e,draggables:n,viewport:r})=>{const s=Ol(e.axis,t.displaceBy),i=Ro(e.descriptor.id,n),o=i.indexOf(t);o===-1&&Q();const a=i.slice(o+1),c=a.reduce((p,y)=>(p[y.descriptor.id]=!0,p),{}),u={inVirtualList:e.descriptor.mode==="virtual",displacedBy:s,effected:c};return{impact:{displaced:al({afterDragging:a,destination:e,displacedBy:s,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:s,at:{type:"REORDER",destination:$5(t.descriptor)}},afterCritical:u}},H5=(t,e)=>({draggables:t.draggables,droppables:t0(t.droppables,e)}),W5=({draggable:t,offset:e,initialWindowScroll:n})=>{const r=Fu(t.client,e),s=Bu(r,n);return{...t,placeholder:{...t.placeholder,client:r},client:r,page:s}},G5=t=>{const e=t.frame;return e||Q(),e},q5=({additions:t,updatedDroppables:e,viewport:n})=>{const r=n.scroll.diff.value;return t.map(s=>{const i=s.descriptor.droppableId,o=e[i],c=G5(o).scroll.diff.value,u=Vt(r,c);return W5({draggable:s,offset:u,initialWindowScroll:n.scroll.initial})})},K5=({state:t,published:e})=>{const n=e.modified.map(E=>{const w=t.dimensions.droppables[E.droppableId];return Qg(w,E.scroll)}),r={...t.dimensions.droppables,...Nb(n)},s=kb(q5({additions:e.additions,updatedDroppables:r,viewport:t.viewport})),i={...t.dimensions.draggables,...s};e.removals.forEach(E=>{delete i[E]});const o={droppables:r,draggables:i},a=Nn(t.impact),c=a?o.droppables[a]:null,u=o.draggables[t.critical.draggable.id],h=o.droppables[t.critical.droppable.id],{impact:f,afterCritical:p}=Gb({draggable:u,home:h,draggables:i,viewport:t.viewport}),y=c&&c.isCombineEnabled?t.impact:f,b=zb({pageOffset:t.current.page.offset,draggable:o.draggables[t.critical.draggable.id],draggables:o.draggables,droppables:o.droppables,previousImpact:y,viewport:t.viewport,afterCritical:p}),I={...t,phase:"DRAGGING",impact:b,onLiftImpact:f,dimensions:o,afterCritical:p,forceShouldAnimate:!1};return t.phase==="COLLECTING"?I:{...I,phase:"DROP_PENDING",reason:t.reason,isWaiting:!1}};const Qp=t=>t.movementMode==="SNAP",yf=(t,e,n)=>{const r=H5(t.dimensions,e);return!Qp(t)||n?Ca({state:t,dimensions:r}):Wb({state:t,dimensions:r})};function vf(t){return t.isDragging&&t.movementMode==="SNAP"?{...t,scrollJumpRequest:null}:t}const nx={phase:"IDLE",completed:null,shouldFlush:!1};var Q5=(t=nx,e)=>{if(e.type==="FLUSH")return{...nx,shouldFlush:!0};if(e.type==="INITIAL_PUBLISH"){t.phase!=="IDLE"&&Q();const{critical:n,clientSelection:r,viewport:s,dimensions:i,movementMode:o}=e.payload,a=i.draggables[n.draggable.id],c=i.droppables[n.droppable.id],u={selection:r,borderBoxCenter:a.client.borderBox.center,offset:Ct},h={client:u,page:{selection:Vt(u.selection,s.scroll.initial),borderBoxCenter:Vt(u.selection,s.scroll.initial),offset:Vt(u.selection,s.scroll.diff.value)}},f=th(i.droppables).every(I=>!I.isFixedOnPage),{impact:p,afterCritical:y}=Gb({draggable:a,home:c,draggables:i.draggables,viewport:s});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:o,dimensions:i,initial:h,current:h,isWindowScrollAllowed:f,impact:p,afterCritical:y,onLiftImpact:p,viewport:s,scrollJumpRequest:null,forceShouldAnimate:null}}if(e.type==="COLLECTION_STARTING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"?t:(t.phase!=="DRAGGING"&&Q(),{...t,phase:"COLLECTING"});if(e.type==="PUBLISH_WHILE_DRAGGING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"||Q(),K5({state:t,published:e.payload});if(e.type==="MOVE"){if(t.phase==="DROP_PENDING")return t;Ws(t)||Q();const{client:n}=e.payload;return _s(n,t.current.client.selection)?t:Ca({state:t,clientSelection:n,impact:Qp(t)?t.impact:null})}if(e.type==="UPDATE_DROPPABLE_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="COLLECTING")return vf(t);Ws(t)||Q();const{id:n,newScroll:r}=e.payload,s=t.dimensions.droppables[n];if(!s)return t;const i=Qg(s,r);return yf(t,i,!1)}if(e.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(t.phase==="DROP_PENDING")return t;Ws(t)||Q();const{id:n,isEnabled:r}=e.payload,s=t.dimensions.droppables[n];s||Q(),s.isEnabled===r&&Q();const i={...s,isEnabled:r};return yf(t,i,!0)}if(e.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(t.phase==="DROP_PENDING")return t;Ws(t)||Q();const{id:n,isCombineEnabled:r}=e.payload,s=t.dimensions.droppables[n];s||Q(),s.isCombineEnabled===r&&Q();const i={...s,isCombineEnabled:r};return yf(t,i,!0)}if(e.type==="MOVE_BY_WINDOW_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="DROP_ANIMATING")return t;Ws(t)||Q(),t.isWindowScrollAllowed||Q();const n=e.payload.newScroll;if(_s(t.viewport.scroll.current,n))return vf(t);const r=Ob(t.viewport,n);return Qp(t)?Wb({state:t,viewport:r}):Ca({state:t,viewport:r})}if(e.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Ws(t))return t;const n=e.payload.maxScroll;if(_s(n,t.viewport.scroll.max))return t;const r={...t.viewport,scroll:{...t.viewport.scroll,max:n}};return{...t,viewport:r}}if(e.type==="MOVE_UP"||e.type==="MOVE_DOWN"||e.type==="MOVE_LEFT"||e.type==="MOVE_RIGHT"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&Q();const n=R5({state:t,type:e.type});return n?Ca({state:t,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):t}if(e.type==="DROP_PENDING"){const n=e.payload.reason;return t.phase!=="COLLECTING"&&Q(),{...t,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(e.type==="DROP_ANIMATE"){const{completed:n,dropDuration:r,newHomeClientOffset:s}=e.payload;return t.phase==="DRAGGING"||t.phase==="DROP_PENDING"||Q(),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:s,dimensions:t.dimensions}}if(e.type==="DROP_COMPLETE"){const{completed:n}=e.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return t};const Y5=t=>({type:"BEFORE_INITIAL_CAPTURE",payload:t}),X5=t=>({type:"LIFT",payload:t}),J5=t=>({type:"INITIAL_PUBLISH",payload:t}),Z5=t=>({type:"PUBLISH_WHILE_DRAGGING",payload:t}),e6=()=>({type:"COLLECTION_STARTING",payload:null}),t6=t=>({type:"UPDATE_DROPPABLE_SCROLL",payload:t}),n6=t=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}),r6=t=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}),qb=t=>({type:"MOVE",payload:t}),s6=t=>({type:"MOVE_BY_WINDOW_SCROLL",payload:t}),i6=t=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}),o6=()=>({type:"MOVE_UP",payload:null}),a6=()=>({type:"MOVE_DOWN",payload:null}),l6=()=>({type:"MOVE_RIGHT",payload:null}),c6=()=>({type:"MOVE_LEFT",payload:null}),n0=()=>({type:"FLUSH",payload:null}),u6=t=>({type:"DROP_ANIMATE",payload:t}),r0=t=>({type:"DROP_COMPLETE",payload:t}),Kb=t=>({type:"DROP",payload:t}),d6=t=>({type:"DROP_PENDING",payload:t}),Qb=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var h6=t=>({getState:e,dispatch:n})=>r=>s=>{if(s.type!=="LIFT"){r(s);return}const{id:i,clientSelection:o,movementMode:a}=s.payload,c=e();c.phase==="DROP_ANIMATING"&&n(r0({completed:c.completed})),e().phase!=="IDLE"&&Q(),n(n0()),n(Y5({draggableId:i,movementMode:a}));const h={draggableId:i,scrollOptions:{shouldPublishImmediately:a==="SNAP"}},{critical:f,dimensions:p,viewport:y}=t.startPublishing(h);n(J5({critical:f,dimensions:p,clientSelection:o,movementMode:a,viewport:y}))},f6=t=>()=>e=>n=>{n.type==="INITIAL_PUBLISH"&&t.dragging(),n.type==="DROP_ANIMATE"&&t.dropping(n.payload.completed.result.reason),(n.type==="FLUSH"||n.type==="DROP_COMPLETE")&&t.resting(),e(n)};const s0={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},ll={opacity:{drop:0,combining:.7},scale:{drop:.75}},Yb={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Us=`${Yb.outOfTheWay}s ${s0.outOfTheWay}`,Na={fluid:`opacity ${Us}`,snap:`transform ${Us}, opacity ${Us}`,drop:t=>{const e=`${t}s ${s0.drop}`;return`transform ${e}, opacity ${e}`},outOfTheWay:`transform ${Us}`,placeholder:`height ${Us}, width ${Us}, margin ${Us}`},rx=t=>_s(t,Ct)?void 0:`translate(${t.x}px, ${t.y}px)`,Yp={moveTo:rx,drop:(t,e)=>{const n=rx(t);if(n)return e?`${n} scale(${ll.scale.drop})`:n}},{minDropTime:Xp,maxDropTime:Xb}=Yb,p6=Xb-Xp,sx=1500,m6=.6;var g6=({current:t,destination:e,reason:n})=>{const r=il(t,e);if(r<=0)return Xp;if(r>=sx)return Xb;const s=r/sx,i=Xp+p6*s,o=n==="CANCEL"?i*m6:i;return Number(o.toFixed(2))},y6=({impact:t,draggable:e,dimensions:n,viewport:r,afterCritical:s})=>{const{draggables:i,droppables:o}=n,a=Nn(t),c=a?o[a]:null,u=o[e.descriptor.droppableId],h=Hb({impact:t,draggable:e,draggables:i,afterCritical:s,droppable:c||u,viewport:r});return Tn(h,e.client.borderBox.center)},v6=({draggables:t,reason:e,lastImpact:n,home:r,viewport:s,onLiftImpact:i})=>!n.at||e!=="DROP"?{impact:$b({draggables:t,impact:i,destination:r,viewport:s,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:ol},didDropInsideDroppable:!0};const x6=({getState:t,dispatch:e})=>n=>r=>{if(r.type!=="DROP"){n(r);return}const s=t(),i=r.payload.reason;if(s.phase==="COLLECTING"){e(d6({reason:i}));return}if(s.phase==="IDLE")return;s.phase==="DROP_PENDING"&&s.isWaiting&&Q(),s.phase==="DRAGGING"||s.phase==="DROP_PENDING"||Q();const a=s.critical,c=s.dimensions,u=c.draggables[s.critical.draggable.id],{impact:h,didDropInsideDroppable:f}=v6({reason:i,lastImpact:s.impact,afterCritical:s.afterCritical,onLiftImpact:s.onLiftImpact,home:s.dimensions.droppables[s.critical.droppable.id],viewport:s.viewport,draggables:s.dimensions.draggables}),p=f?Yg(h):null,y=f?nh(h):null,b={index:a.draggable.index,droppableId:a.droppable.id},I={draggableId:u.descriptor.id,type:u.descriptor.type,source:b,reason:i,mode:s.movementMode,destination:p,combine:y},N=y6({impact:h,draggable:u,dimensions:c,viewport:s.viewport,afterCritical:s.afterCritical}),E={critical:s.critical,afterCritical:s.afterCritical,result:I,impact:h};if(!(!_s(s.current.client.offset,N)||!!I.combine)){e(r0({completed:E}));return}const _=g6({current:s.current.client.offset,destination:N,reason:i});e(u6({newHomeClientOffset:N,dropDuration:_,completed:E}))};var w6=x6,Jb=()=>({x:window.pageXOffset,y:window.pageYOffset});function _6(t){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:e=>{e.target!==window&&e.target!==window.document||t()}}}function E6({onWindowScroll:t}){function e(){t(Jb())}const n=sl(e),r=_6(n);let s=ws;function i(){return s!==ws}function o(){i()&&Q(),s=Fn(window,[r])}function a(){i()||Q(),n.cancel(),s(),s=ws}return{start:o,stop:a,isActive:i}}const b6=t=>t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH",I6=t=>{const e=E6({onWindowScroll:n=>{t.dispatch(s6({newScroll:n}))}});return n=>r=>{!e.isActive()&&r.type==="INITIAL_PUBLISH"&&e.start(),e.isActive()&&b6(r)&&e.stop(),n(r)}};var S6=I6,T6=t=>{let e=!1,n=!1;const r=setTimeout(()=>{n=!0}),s=i=>{e||n||(e=!0,t(i),clearTimeout(r))};return s.wasCalled=()=>e,s},C6=()=>{const t=[],e=s=>{const i=t.findIndex(a=>a.timerId===s);i===-1&&Q();const[o]=t.splice(i,1);o.callback()};return{add:s=>{const i=setTimeout(()=>e(i)),o={timerId:i,callback:s};t.push(o)},flush:()=>{if(!t.length)return;const s=[...t];t.length=0,s.forEach(i=>{clearTimeout(i.timerId),i.callback()})}}};const N6=(t,e)=>t==null&&e==null?!0:t==null||e==null?!1:t.droppableId===e.droppableId&&t.index===e.index,k6=(t,e)=>t==null&&e==null?!0:t==null||e==null?!1:t.draggableId===e.draggableId&&t.droppableId===e.droppableId,A6=(t,e)=>{if(t===e)return!0;const n=t.draggable.id===e.draggable.id&&t.draggable.droppableId===e.draggable.droppableId&&t.draggable.type===e.draggable.type&&t.draggable.index===e.draggable.index,r=t.droppable.id===e.droppable.id&&t.droppable.type===e.droppable.type;return n&&r},ra=(t,e)=>{e()},Sc=(t,e)=>({draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:e});function xf(t,e,n,r){if(!t){n(r(e));return}const s=T6(n);t(e,{announce:s}),s.wasCalled()||n(r(e))}var R6=(t,e)=>{const n=C6();let r=null;const s=(f,p)=>{r&&Q(),ra("onBeforeCapture",()=>{const y=t().onBeforeCapture;y&&y({draggableId:f,mode:p})})},i=(f,p)=>{r&&Q(),ra("onBeforeDragStart",()=>{const y=t().onBeforeDragStart;y&&y(Sc(f,p))})},o=(f,p)=>{r&&Q();const y=Sc(f,p);r={mode:p,lastCritical:f,lastLocation:y.source,lastCombine:null},n.add(()=>{ra("onDragStart",()=>xf(t().onDragStart,y,e,qc.onDragStart))})},a=(f,p)=>{const y=Yg(p),b=nh(p);r||Q();const I=!A6(f,r.lastCritical);I&&(r.lastCritical=f);const N=!N6(r.lastLocation,y);N&&(r.lastLocation=y);const E=!k6(r.lastCombine,b);if(E&&(r.lastCombine=b),!I&&!N&&!E)return;const w={...Sc(f,r.mode),combine:b,destination:y};n.add(()=>{ra("onDragUpdate",()=>xf(t().onDragUpdate,w,e,qc.onDragUpdate))})},c=()=>{r||Q(),n.flush()},u=f=>{r||Q(),r=null,ra("onDragEnd",()=>xf(t().onDragEnd,f,e,qc.onDragEnd))};return{beforeCapture:s,beforeStart:i,start:o,update:a,flush:c,drop:u,abort:()=>{if(!r)return;const f={...Sc(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};u(f)}}},P6=(t,e)=>{const n=R6(t,e);return r=>s=>i=>{if(i.type==="BEFORE_INITIAL_CAPTURE"){n.beforeCapture(i.payload.draggableId,i.payload.movementMode);return}if(i.type==="INITIAL_PUBLISH"){const a=i.payload.critical;n.beforeStart(a,i.payload.movementMode),s(i),n.start(a,i.payload.movementMode);return}if(i.type==="DROP_COMPLETE"){const a=i.payload.completed.result;n.flush(),s(i),n.drop(a);return}if(s(i),i.type==="FLUSH"){n.abort();return}const o=r.getState();o.phase==="DRAGGING"&&n.update(o.critical,o.impact)}};const D6=t=>e=>n=>{if(n.type!=="DROP_ANIMATION_FINISHED"){e(n);return}const r=t.getState();r.phase!=="DROP_ANIMATING"&&Q(),t.dispatch(r0({completed:r.completed}))};var j6=D6;const O6=t=>{let e=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),e&&(e(),e=null)}return s=>i=>{if((i.type==="FLUSH"||i.type==="DROP_COMPLETE"||i.type==="DROP_ANIMATION_FINISHED")&&r(),s(i),i.type!=="DROP_ANIMATE")return;const o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){t.getState().phase==="DROP_ANIMATING"&&t.dispatch(Qb())}};n=requestAnimationFrame(()=>{n=null,e=Fn(window,[o])})}};var L6=O6,M6=t=>()=>e=>n=>{(n.type==="DROP_COMPLETE"||n.type==="FLUSH"||n.type==="DROP_ANIMATE")&&t.stopPublishing(),e(n)},V6=t=>{let e=!1;return()=>n=>r=>{if(r.type==="INITIAL_PUBLISH"){e=!0,t.tryRecordFocus(r.payload.critical.draggable.id),n(r),t.tryRestoreFocusRecorded();return}if(n(r),!!e){if(r.type==="FLUSH"){e=!1,t.tryRestoreFocusRecorded();return}if(r.type==="DROP_COMPLETE"){e=!1;const s=r.payload.completed.result;s.combine&&t.tryShiftRecord(s.draggableId,s.combine.draggableId),t.tryRestoreFocusRecorded()}}}};const F6=t=>t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH";var B6=t=>e=>n=>r=>{if(F6(r)){t.stop(),n(r);return}if(r.type==="INITIAL_PUBLISH"){n(r);const s=e.getState();s.phase!=="DRAGGING"&&Q(),t.start(s);return}n(r),t.scroll(e.getState())};const U6=t=>e=>n=>{if(e(n),n.type!=="PUBLISH_WHILE_DRAGGING")return;const r=t.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||t.dispatch(Kb({reason:r.reason})))};var z6=U6;const $6=sb;var H6=({dimensionMarshal:t,focusMarshal:e,styleMarshal:n,getResponders:r,announce:s,autoScroller:i})=>rb(Q5,$6(bP(f6(n),M6(t),h6(t),w6,j6,L6,z6,B6(i),S6,V6(e),P6(r,s))));const wf=()=>({additions:{},removals:{},modified:{}});function W6({registry:t,callbacks:e}){let n=wf(),r=null;const s=()=>{r||(e.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:c,removals:u,modified:h}=n,f=Object.keys(c).map(b=>t.draggable.getById(b).getDimension(Ct)).sort((b,I)=>b.descriptor.index-I.descriptor.index),p=Object.keys(h).map(b=>{const N=t.droppable.getById(b).callbacks.getScrollWhileDragging();return{droppableId:b,scroll:N}}),y={additions:f,removals:Object.keys(u),modified:p};n=wf(),e.publish(y)}))};return{add:c=>{const u=c.descriptor.id;n.additions[u]=c,n.modified[c.descriptor.droppableId]=!0,n.removals[u]&&delete n.removals[u],s()},remove:c=>{const u=c.descriptor;n.removals[u.id]=!0,n.modified[u.droppableId]=!0,n.additions[u.id]&&delete n.additions[u.id],s()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,n=wf())}}}var Zb=({scrollHeight:t,scrollWidth:e,height:n,width:r})=>{const s=Tn({x:e,y:t},{x:r,y:n});return{x:Math.max(0,s.x),y:Math.max(0,s.y)}},eI=()=>{const t=document.documentElement;return t||Q(),t},tI=()=>{const t=eI();return Zb({scrollHeight:t.scrollHeight,scrollWidth:t.scrollWidth,width:t.clientWidth,height:t.clientHeight})},G6=()=>{const t=Jb(),e=tI(),n=t.y,r=t.x,s=eI(),i=s.clientWidth,o=s.clientHeight,a=r+i,c=n+o;return{frame:Jn({top:n,left:r,right:a,bottom:c}),scroll:{initial:t,current:t,max:e,diff:{value:Ct,displacement:Ct}}}},q6=({critical:t,scrollOptions:e,registry:n})=>{const r=G6(),s=r.scroll.current,i=t.droppable,o=n.droppable.getAllByType(i.type).map(h=>h.callbacks.getDimensionAndWatchScroll(s,e)),a=n.draggable.getAllByType(t.draggable.type).map(h=>h.getDimension(s));return{dimensions:{draggables:kb(a),droppables:Nb(o)},critical:t,viewport:r}};function ix(t,e,n){return!(n.descriptor.id===e.id||n.descriptor.type!==e.type||t.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var K6=(t,e)=>{let n=null;const r=W6({callbacks:{publish:e.publishWhileDragging,collectionStarting:e.collectionStarting},registry:t}),s=(p,y)=>{t.droppable.exists(p)||Q(),n&&e.updateDroppableIsEnabled({id:p,isEnabled:y})},i=(p,y)=>{n&&(t.droppable.exists(p)||Q(),e.updateDroppableIsCombineEnabled({id:p,isCombineEnabled:y}))},o=(p,y)=>{n&&(t.droppable.exists(p)||Q(),e.updateDroppableScroll({id:p,newScroll:y}))},a=(p,y)=>{n&&t.droppable.getById(p).callbacks.scroll(y)},c=()=>{if(!n)return;r.stop();const p=n.critical.droppable;t.droppable.getAllByType(p.type).forEach(y=>y.callbacks.dragStopped()),n.unsubscribe(),n=null},u=p=>{n||Q();const y=n.critical.draggable;p.type==="ADDITION"&&ix(t,y,p.value)&&r.add(p.value),p.type==="REMOVAL"&&ix(t,y,p.value)&&r.remove(p.value)};return{updateDroppableIsEnabled:s,updateDroppableIsCombineEnabled:i,scrollDroppable:a,updateDroppableScroll:o,startPublishing:p=>{n&&Q();const y=t.draggable.getById(p.draggableId),b=t.droppable.getById(y.descriptor.droppableId),I={draggable:y.descriptor,droppable:b.descriptor},N=t.subscribe(u);return n={critical:I,unsubscribe:N},q6({critical:I,registry:t,scrollOptions:p.scrollOptions})},stopPublishing:c}},nI=(t,e)=>t.phase==="IDLE"?!0:t.phase!=="DROP_ANIMATING"||t.completed.result.draggableId===e?!1:t.completed.result.reason==="DROP",Q6=t=>{window.scrollBy(t.x,t.y)};const Y6=St(t=>th(t).filter(e=>!(!e.isEnabled||!e.frame))),X6=(t,e)=>Y6(e).find(r=>(r.frame||Q(),Fb(r.frame.pageMarginBox)(t)))||null;var J6=({center:t,destination:e,droppables:n})=>{if(e){const s=n[e];return s.frame?s:null}return X6(t,n)};const cl={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:t=>t**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var Z6=(t,e,n=()=>cl)=>{const r=n(),s=t[e.size]*r.startFromPercentage,i=t[e.size]*r.maxScrollAtPercentage;return{startScrollingFrom:s,maxScrollValueAt:i}},rI=({startOfRange:t,endOfRange:e,current:n})=>{const r=e-t;return r===0?0:(n-t)/r},i0=1,e9=(t,e,n=()=>cl)=>{const r=n();if(t>e.startScrollingFrom)return 0;if(t<=e.maxScrollValueAt)return r.maxPixelScroll;if(t===e.startScrollingFrom)return i0;const i=1-rI({startOfRange:e.maxScrollValueAt,endOfRange:e.startScrollingFrom,current:t}),o=r.maxPixelScroll*r.ease(i);return Math.ceil(o)},t9=(t,e,n)=>{const r=n(),s=r.durationDampening.accelerateAt,i=r.durationDampening.stopDampeningAt,o=e,a=i,u=Date.now()-o;if(u>=i)return t;if(u<s)return i0;const h=rI({startOfRange:s,endOfRange:a,current:u}),f=t*r.ease(h);return Math.ceil(f)},ox=({distanceToEdge:t,thresholds:e,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:s})=>{const i=e9(t,e,s);return i===0?0:r?Math.max(t9(i,n,s),i0):i},ax=({container:t,distanceToEdges:e,dragStartTime:n,axis:r,shouldUseTimeDampening:s,getAutoScrollerOptions:i})=>{const o=Z6(t,r,i);return e[r.end]<e[r.start]?ox({distanceToEdge:e[r.end],thresholds:o,dragStartTime:n,shouldUseTimeDampening:s,getAutoScrollerOptions:i}):-1*ox({distanceToEdge:e[r.start],thresholds:o,dragStartTime:n,shouldUseTimeDampening:s,getAutoScrollerOptions:i})},n9=({container:t,subject:e,proposedScroll:n})=>{const r=e.height>t.height,s=e.width>t.width;return!s&&!r?n:s&&r?null:{x:s?0:n.x,y:r?0:n.y}};const r9=Cb(t=>t===0?0:t);var sI=({dragStartTime:t,container:e,subject:n,center:r,shouldUseTimeDampening:s,getAutoScrollerOptions:i})=>{const o={top:r.y-e.top,right:e.right-r.x,bottom:e.bottom-r.y,left:r.x-e.left},a=ax({container:e,distanceToEdges:o,dragStartTime:t,axis:Xg,shouldUseTimeDampening:s,getAutoScrollerOptions:i}),c=ax({container:e,distanceToEdges:o,dragStartTime:t,axis:Pb,shouldUseTimeDampening:s,getAutoScrollerOptions:i}),u=r9({x:c,y:a});if(_s(u,Ct))return null;const h=n9({container:e,subject:n,proposedScroll:u});return h?_s(h,Ct)?null:h:null};const s9=Cb(t=>t===0?0:t>0?1:-1),o0=(()=>{const t=(e,n)=>e<0?e:e>n?e-n:0;return({current:e,max:n,change:r})=>{const s=Vt(e,r),i={x:t(s.x,n.x),y:t(s.y,n.y)};return _s(i,Ct)?null:i}})(),iI=({max:t,current:e,change:n})=>{const r={x:Math.max(e.x,t.x),y:Math.max(e.y,t.y)},s=s9(n),i=o0({max:r,current:e,change:s});return!i||s.x!==0&&i.x===0||s.y!==0&&i.y===0},a0=(t,e)=>iI({current:t.scroll.current,max:t.scroll.max,change:e}),i9=(t,e)=>{if(!a0(t,e))return null;const n=t.scroll.max,r=t.scroll.current;return o0({current:r,max:n,change:e})},l0=(t,e)=>{const n=t.frame;return n?iI({current:n.scroll.current,max:n.scroll.max,change:e}):!1},o9=(t,e)=>{const n=t.frame;return!n||!l0(t,e)?null:o0({current:n.scroll.current,max:n.scroll.max,change:e})};var a9=({viewport:t,subject:e,center:n,dragStartTime:r,shouldUseTimeDampening:s,getAutoScrollerOptions:i})=>{const o=sI({dragStartTime:r,container:t.frame,subject:e,center:n,shouldUseTimeDampening:s,getAutoScrollerOptions:i});return o&&a0(t,o)?o:null},l9=({droppable:t,subject:e,center:n,dragStartTime:r,shouldUseTimeDampening:s,getAutoScrollerOptions:i})=>{const o=t.frame;if(!o)return null;const a=sI({dragStartTime:r,container:o.pageMarginBox,subject:e,center:n,shouldUseTimeDampening:s,getAutoScrollerOptions:i});return a&&l0(t,a)?a:null},lx=({state:t,dragStartTime:e,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:s,getAutoScrollerOptions:i})=>{const o=t.current.page.borderBoxCenter,c=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){const f=t.viewport,p=a9({dragStartTime:e,viewport:f,subject:c,center:o,shouldUseTimeDampening:n,getAutoScrollerOptions:i});if(p){r(p);return}}const u=J6({center:o,destination:Nn(t.impact),droppables:t.dimensions.droppables});if(!u)return;const h=l9({dragStartTime:e,droppable:u,subject:c,center:o,shouldUseTimeDampening:n,getAutoScrollerOptions:i});h&&s(u.descriptor.id,h)},c9=({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:n=()=>cl})=>{const r=sl(t),s=sl(e);let i=null;const o=u=>{i||Q();const{shouldUseTimeDampening:h,dragStartTime:f}=i;lx({state:u,scrollWindow:r,scrollDroppable:s,dragStartTime:f,shouldUseTimeDampening:h,getAutoScrollerOptions:n})};return{start:u=>{i&&Q();const h=Date.now();let f=!1;const p=()=>{f=!0};lx({state:u,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:p,scrollDroppable:p,getAutoScrollerOptions:n}),i={dragStartTime:h,shouldUseTimeDampening:f},f&&o(u)},stop:()=>{i&&(r.cancel(),s.cancel(),i=null)},scroll:o}},u9=({move:t,scrollDroppable:e,scrollWindow:n})=>{const r=(a,c)=>{const u=Vt(a.current.client.selection,c);t({client:u})},s=(a,c)=>{if(!l0(a,c))return c;const u=o9(a,c);if(!u)return e(a.descriptor.id,c),null;const h=Tn(c,u);return e(a.descriptor.id,h),Tn(c,h)},i=(a,c,u)=>{if(!a||!a0(c,u))return u;const h=i9(c,u);if(!h)return n(u),null;const f=Tn(u,h);return n(f),Tn(u,f)};return a=>{const c=a.scrollJumpRequest;if(!c)return;const u=Nn(a.impact);u||Q();const h=s(a.dimensions.droppables[u],c);if(!h)return;const f=a.viewport,p=i(a.isWindowScrollAllowed,f,h);p&&r(a,p)}},d9=({scrollDroppable:t,scrollWindow:e,move:n,getAutoScrollerOptions:r})=>{const s=c9({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:r}),i=u9({move:n,scrollWindow:e,scrollDroppable:t});return{scroll:c=>{if(!(r().disabled||c.phase!=="DRAGGING")){if(c.movementMode==="FLUID"){s.scroll(c);return}c.scrollJumpRequest&&i(c)}},start:s.start,stop:s.stop}};const vo="data-rfd",xo=(()=>{const t=`${vo}-drag-handle`;return{base:t,draggableId:`${t}-draggable-id`,contextId:`${t}-context-id`}})(),Jp=(()=>{const t=`${vo}-draggable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),h9=(()=>{const t=`${vo}-droppable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),cx={contextId:`${vo}-scroll-container-context-id`},f9=t=>e=>`[${e}="${t}"]`,sa=(t,e)=>t.map(n=>{const r=n.styles[e];return r?`${n.selector} { ${r} }`:""}).join(" "),p9="pointer-events: none;";var m9=t=>{const e=f9(t),n=(()=>{const a=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:e(xo.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:a,dragging:p9,dropAnimating:a}}})(),r=(()=>{const a=`
      transition: ${Na.outOfTheWay};
    `;return{selector:e(Jp.contextId),styles:{dragging:a,dropAnimating:a,userCancel:a}}})(),s={selector:e(h9.contextId),styles:{always:"overflow-anchor: none;"}},o=[r,n,s,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:sa(o,"always"),resting:sa(o,"resting"),dragging:sa(o,"dragging"),dropAnimating:sa(o,"dropAnimating"),userCancel:sa(o,"userCancel")}};const g9=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?v.useLayoutEffect:v.useEffect;var kn=g9;const _f=()=>{const t=document.querySelector("head");return t||Q(),t},ux=t=>{const e=document.createElement("style");return t&&e.setAttribute("nonce",t),e.type="text/css",e};function y9(t,e){const n=Pe(()=>m9(t),[t]),r=v.useRef(null),s=v.useRef(null),i=oe(St(f=>{const p=s.current;p||Q(),p.textContent=f}),[]),o=oe(f=>{const p=r.current;p||Q(),p.textContent=f},[]);kn(()=>{!r.current&&!s.current||Q();const f=ux(e),p=ux(e);return r.current=f,s.current=p,f.setAttribute(`${vo}-always`,t),p.setAttribute(`${vo}-dynamic`,t),_f().appendChild(f),_f().appendChild(p),o(n.always),i(n.resting),()=>{const y=b=>{const I=b.current;I||Q(),_f().removeChild(I),b.current=null};y(r),y(s)}},[e,o,i,n.always,n.resting,t]);const a=oe(()=>i(n.dragging),[i,n.dragging]),c=oe(f=>{if(f==="DROP"){i(n.dropAnimating);return}i(n.userCancel)},[i,n.dropAnimating,n.userCancel]),u=oe(()=>{s.current&&i(n.resting)},[i,n.resting]);return Pe(()=>({dragging:a,dropping:c,resting:u}),[a,c,u])}function oI(t,e){return Array.from(t.querySelectorAll(e))}var aI=t=>t&&t.ownerDocument&&t.ownerDocument.defaultView?t.ownerDocument.defaultView:window;function ih(t){return t instanceof aI(t).HTMLElement}function v9(t,e){const n=`[${xo.contextId}="${t}"]`,r=oI(document,n);if(!r.length)return null;const s=r.find(i=>i.getAttribute(xo.draggableId)===e);return!s||!ih(s)?null:s}function x9(t){const e=v.useRef({}),n=v.useRef(null),r=v.useRef(null),s=v.useRef(!1),i=oe(function(p,y){const b={id:p,focus:y};return e.current[p]=b,function(){const N=e.current;N[p]!==b&&delete N[p]}},[]),o=oe(function(p){const y=v9(t,p);y&&y!==document.activeElement&&y.focus()},[t]),a=oe(function(p,y){n.current===p&&(n.current=y)},[]),c=oe(function(){r.current||s.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const p=n.current;p&&o(p)}))},[o]),u=oe(function(p){n.current=null;const y=document.activeElement;y&&y.getAttribute(xo.draggableId)===p&&(n.current=p)},[]);return kn(()=>(s.current=!0,function(){s.current=!1;const p=r.current;p&&cancelAnimationFrame(p)}),[]),Pe(()=>({register:i,tryRecordFocus:u,tryRestoreFocusRecorded:c,tryShiftRecord:a}),[i,u,c,a])}function w9(){const t={draggables:{},droppables:{}},e=[];function n(f){return e.push(f),function(){const y=e.indexOf(f);y!==-1&&e.splice(y,1)}}function r(f){e.length&&e.forEach(p=>p(f))}function s(f){return t.draggables[f]||null}function i(f){const p=s(f);return p||Q(),p}const o={register:f=>{t.draggables[f.descriptor.id]=f,r({type:"ADDITION",value:f})},update:(f,p)=>{const y=t.draggables[p.descriptor.id];y&&y.uniqueId===f.uniqueId&&(delete t.draggables[p.descriptor.id],t.draggables[f.descriptor.id]=f)},unregister:f=>{const p=f.descriptor.id,y=s(p);y&&f.uniqueId===y.uniqueId&&(delete t.draggables[p],t.droppables[f.descriptor.droppableId]&&r({type:"REMOVAL",value:f}))},getById:i,findById:s,exists:f=>!!s(f),getAllByType:f=>Object.values(t.draggables).filter(p=>p.descriptor.type===f)};function a(f){return t.droppables[f]||null}function c(f){const p=a(f);return p||Q(),p}const u={register:f=>{t.droppables[f.descriptor.id]=f},unregister:f=>{const p=a(f.descriptor.id);p&&f.uniqueId===p.uniqueId&&delete t.droppables[f.descriptor.id]},getById:c,findById:a,exists:f=>!!a(f),getAllByType:f=>Object.values(t.droppables).filter(p=>p.descriptor.type===f)};function h(){t.draggables={},t.droppables={},e.length=0}return{draggable:o,droppable:u,subscribe:n,clean:h}}function _9(){const t=Pe(w9,[]);return v.useEffect(()=>function(){Te.version.startsWith("16")||Te.version.startsWith("17")?requestAnimationFrame(t.clean):t.clean()},[t]),t}var c0=Te.createContext(null),Hu=()=>{const t=document.body;return t||Q(),t};const E9={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"};var b9=E9;const I9=t=>`rfd-announcement-${t}`;function S9(t){const e=Pe(()=>I9(t),[t]),n=v.useRef(null);return v.useEffect(function(){const i=document.createElement("div");return n.current=i,i.id=e,i.setAttribute("aria-live","assertive"),i.setAttribute("aria-atomic","true"),xs(i.style,b9),Hu().appendChild(i),function(){setTimeout(function(){const c=Hu();c.contains(i)&&c.removeChild(i),i===n.current&&(n.current=null)})}},[e]),oe(s=>{const i=n.current;if(i){i.textContent=s;return}},[])}let T9=0;const lI={separator:"::"};function C9(t,e=lI){return Pe(()=>`${t}${e.separator}${T9++}`,[e.separator,t])}function N9(t,e=lI){const n=Te.useId();return Pe(()=>`${t}${e.separator}${n}`,[e.separator,t,n])}var u0="useId"in Te?N9:C9;function k9({contextId:t,uniqueId:e}){return`rfd-hidden-text-${t}-${e}`}function A9({contextId:t,text:e}){const n=u0("hidden-text",{separator:"-"}),r=Pe(()=>k9({contextId:t,uniqueId:n}),[n,t]);return v.useEffect(function(){const i=document.createElement("div");return i.id=r,i.textContent=e,i.style.display="none",Hu().appendChild(i),function(){const a=Hu();a.contains(i)&&a.removeChild(i)}},[r,e]),r}var oh=Te.createContext(null);function cI(t){const e=v.useRef(t);return v.useEffect(()=>{e.current=t}),e}function R9(){let t=null;function e(){return!!t}function n(o){return o===t}function r(o){t&&Q();const a={abandon:o};return t=a,a}function s(){t||Q(),t=null}function i(){t&&(t.abandon(),s())}return{isClaimed:e,isActive:n,claim:r,release:s,tryAbandon:i}}function ul(t){return t.phase==="IDLE"||t.phase==="DROP_ANIMATING"?!1:t.isDragging}const P9=9,D9=13,d0=27,uI=32,j9=33,O9=34,L9=35,M9=36,V9=37,F9=38,B9=39,U9=40,z9={[D9]:!0,[P9]:!0};var dI=t=>{z9[t.keyCode]&&t.preventDefault()};const $9=(()=>{const t="visibilitychange";return typeof document>"u"?t:[t,`ms${t}`,`webkit${t}`,`moz${t}`,`o${t}`].find(r=>`on${r}`in document)||t})();var ah=$9;const hI=0,dx=5;function H9(t,e){return Math.abs(e.x-t.x)>=dx||Math.abs(e.y-t.y)>=dx}const hx={type:"IDLE"};function W9({cancel:t,completed:e,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:s=>{const{button:i,clientX:o,clientY:a}=s;if(i!==hI)return;const c={x:o,y:a},u=n();if(u.type==="DRAGGING"){s.preventDefault(),u.actions.move(c);return}u.type!=="PENDING"&&Q();const h=u.point;if(!H9(h,c))return;s.preventDefault();const f=u.actions.fluidLift(c);r({type:"DRAGGING",actions:f})}},{eventName:"mouseup",fn:s=>{const i=n();if(i.type!=="DRAGGING"){t();return}s.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),e()}},{eventName:"mousedown",fn:s=>{n().type==="DRAGGING"&&s.preventDefault(),t()}},{eventName:"keydown",fn:s=>{if(n().type==="PENDING"){t();return}if(s.keyCode===d0){s.preventDefault(),t();return}dI(s)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:s=>{const i=n();if(i.type==="IDLE"&&Q(),i.actions.shouldRespectForcePress()){t();return}s.preventDefault()}},{eventName:ah,fn:t}]}function G9(t){const e=v.useRef(hx),n=v.useRef(ws),r=Pe(()=>({eventName:"mousedown",fn:function(f){if(f.defaultPrevented||f.button!==hI||f.ctrlKey||f.metaKey||f.shiftKey||f.altKey)return;const p=t.findClosestDraggableId(f);if(!p)return;const y=t.tryGetLock(p,o,{sourceEvent:f});if(!y)return;f.preventDefault();const b={x:f.clientX,y:f.clientY};n.current(),u(y,b)}}),[t]),s=Pe(()=>({eventName:"webkitmouseforcewillbegin",fn:h=>{if(h.defaultPrevented)return;const f=t.findClosestDraggableId(h);if(!f)return;const p=t.findOptionsForDraggable(f);p&&(p.shouldRespectForcePress||t.canGetLock(f)&&h.preventDefault())}}),[t]),i=oe(function(){const f={passive:!1,capture:!0};n.current=Fn(window,[s,r],f)},[s,r]),o=oe(()=>{e.current.type!=="IDLE"&&(e.current=hx,n.current(),i())},[i]),a=oe(()=>{const h=e.current;o(),h.type==="DRAGGING"&&h.actions.cancel({shouldBlockNextClick:!0}),h.type==="PENDING"&&h.actions.abort()},[o]),c=oe(function(){const f={capture:!0,passive:!1},p=W9({cancel:a,completed:o,getPhase:()=>e.current,setPhase:y=>{e.current=y}});n.current=Fn(window,p,f)},[a,o]),u=oe(function(f,p){e.current.type!=="IDLE"&&Q(),e.current={type:"PENDING",point:p,actions:f},c()},[c]);kn(function(){return i(),function(){n.current()}},[i])}function q9(){}const K9={[O9]:!0,[j9]:!0,[M9]:!0,[L9]:!0};function Q9(t,e){function n(){e(),t.cancel()}function r(){e(),t.drop()}return[{eventName:"keydown",fn:s=>{if(s.keyCode===d0){s.preventDefault(),n();return}if(s.keyCode===uI){s.preventDefault(),r();return}if(s.keyCode===U9){s.preventDefault(),t.moveDown();return}if(s.keyCode===F9){s.preventDefault(),t.moveUp();return}if(s.keyCode===B9){s.preventDefault(),t.moveRight();return}if(s.keyCode===V9){s.preventDefault(),t.moveLeft();return}if(K9[s.keyCode]){s.preventDefault();return}dI(s)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:ah,fn:n}]}function Y9(t){const e=v.useRef(q9),n=Pe(()=>({eventName:"keydown",fn:function(i){if(i.defaultPrevented||i.keyCode!==uI)return;const o=t.findClosestDraggableId(i);if(!o)return;const a=t.tryGetLock(o,h,{sourceEvent:i});if(!a)return;i.preventDefault();let c=!0;const u=a.snapLift();e.current();function h(){c||Q(),c=!1,e.current(),r()}e.current=Fn(window,Q9(u,h),{capture:!0,passive:!1})}}),[t]),r=oe(function(){const i={passive:!1,capture:!0};e.current=Fn(window,[n],i)},[n]);kn(function(){return r(),function(){e.current()}},[r])}const Ef={type:"IDLE"},X9=120,J9=.15;function Z9({cancel:t,getPhase:e}){return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(e().type!=="DRAGGING"){t();return}n.keyCode===d0&&n.preventDefault(),t()}},{eventName:ah,fn:t}]}function e8({cancel:t,completed:e,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:r=>{const s=n();if(s.type!=="DRAGGING"){t();return}s.hasMoved=!0;const{clientX:i,clientY:o}=r.touches[0],a={x:i,y:o};r.preventDefault(),s.actions.move(a)}},{eventName:"touchend",fn:r=>{const s=n();if(s.type!=="DRAGGING"){t();return}r.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),e()}},{eventName:"touchcancel",fn:r=>{if(n().type!=="DRAGGING"){t();return}r.preventDefault(),t()}},{eventName:"touchforcechange",fn:r=>{const s=n();s.type==="IDLE"&&Q();const i=r.touches[0];if(!i||!(i.force>=J9))return;const a=s.actions.shouldRespectForcePress();if(s.type==="PENDING"){a&&t();return}if(a){if(s.hasMoved){r.preventDefault();return}t();return}r.preventDefault()}},{eventName:ah,fn:t}]}function t8(t){const e=v.useRef(Ef),n=v.useRef(ws),r=oe(function(){return e.current},[]),s=oe(function(y){e.current=y},[]),i=Pe(()=>({eventName:"touchstart",fn:function(y){if(y.defaultPrevented)return;const b=t.findClosestDraggableId(y);if(!b)return;const I=t.tryGetLock(b,a,{sourceEvent:y});if(!I)return;const N=y.touches[0],{clientX:E,clientY:w}=N,_={x:E,y:w};n.current(),f(I,_)}}),[t]),o=oe(function(){const y={capture:!0,passive:!1};n.current=Fn(window,[i],y)},[i]),a=oe(()=>{const p=e.current;p.type!=="IDLE"&&(p.type==="PENDING"&&clearTimeout(p.longPressTimerId),s(Ef),n.current(),o())},[o,s]),c=oe(()=>{const p=e.current;a(),p.type==="DRAGGING"&&p.actions.cancel({shouldBlockNextClick:!0}),p.type==="PENDING"&&p.actions.abort()},[a]),u=oe(function(){const y={capture:!0,passive:!1},b={cancel:c,completed:a,getPhase:r},I=Fn(window,e8(b),y),N=Fn(window,Z9(b),y);n.current=function(){I(),N()}},[c,r,a]),h=oe(function(){const y=r();y.type!=="PENDING"&&Q();const b=y.actions.fluidLift(y.point);s({type:"DRAGGING",actions:b,hasMoved:!1})},[r,s]),f=oe(function(y,b){r().type!=="IDLE"&&Q();const I=setTimeout(h,X9);s({type:"PENDING",point:b,actions:y,longPressTimerId:I}),u()},[u,r,s,h]);kn(function(){return o(),function(){n.current();const b=r();b.type==="PENDING"&&(clearTimeout(b.longPressTimerId),s(Ef))}},[r,o,s]),kn(function(){return Fn(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const n8=["input","button","textarea","select","option","optgroup","video","audio"];function fI(t,e){if(e==null)return!1;if(n8.includes(e.tagName.toLowerCase()))return!0;const r=e.getAttribute("contenteditable");return r==="true"||r===""?!0:e===t?!1:fI(t,e.parentElement)}function r8(t,e){const n=e.target;return ih(n)?fI(t,n):!1}var s8=t=>Jn(t.getBoundingClientRect()).center;function i8(t){return t instanceof aI(t).Element}const o8=(()=>{const t="matches";return typeof document>"u"?t:[t,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||t})();function pI(t,e){return t==null?null:t[o8](e)?t:pI(t.parentElement,e)}function a8(t,e){return t.closest?t.closest(e):pI(t,e)}function l8(t){return`[${xo.contextId}="${t}"]`}function c8(t,e){const n=e.target;if(!i8(n))return null;const r=l8(t),s=a8(n,r);return!s||!ih(s)?null:s}function u8(t,e){const n=c8(t,e);return n?n.getAttribute(xo.draggableId):null}function d8(t,e){const n=`[${Jp.contextId}="${t}"]`,s=oI(document,n).find(i=>i.getAttribute(Jp.id)===e);return!s||!ih(s)?null:s}function h8(t){t.preventDefault()}function Tc({expected:t,phase:e,isLockActive:n,shouldWarn:r}){return!(!n()||t!==e)}function mI({lockAPI:t,store:e,registry:n,draggableId:r}){if(t.isClaimed())return!1;const s=n.draggable.findById(r);return!(!s||!s.options.isEnabled||!nI(e.getState(),r))}function f8({lockAPI:t,contextId:e,store:n,registry:r,draggableId:s,forceSensorStop:i,sourceEvent:o}){if(!mI({lockAPI:t,store:n,registry:r,draggableId:s}))return null;const c=r.draggable.getById(s),u=d8(e,c.descriptor.id);if(!u||o&&!c.options.canDragInteractiveElements&&r8(u,o))return null;const h=t.claim(i||ws);let f="PRE_DRAG";function p(){return c.options.shouldRespectForcePress}function y(){return t.isActive(h)}function b(O,j){Tc({expected:O,phase:f,isLockActive:y,shouldWarn:!0})&&n.dispatch(j())}const I=b.bind(null,"DRAGGING");function N(O){function j(){t.release(),f="COMPLETED"}f!=="PRE_DRAG"&&(j(),Q()),n.dispatch(X5(O.liftActionArgs)),f="DRAGGING";function T(x,C={shouldBlockNextClick:!1}){if(O.cleanup(),C.shouldBlockNextClick){const k=Fn(window,[{eventName:"click",fn:h8,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(k)}j(),n.dispatch(Kb({reason:x}))}return{isActive:()=>Tc({expected:"DRAGGING",phase:f,isLockActive:y,shouldWarn:!1}),shouldRespectForcePress:p,drop:x=>T("DROP",x),cancel:x=>T("CANCEL",x),...O.actions}}function E(O){const j=sl(x=>{I(()=>qb({client:x}))});return{...N({liftActionArgs:{id:s,clientSelection:O,movementMode:"FLUID"},cleanup:()=>j.cancel(),actions:{move:j}}),move:j}}function w(){const O={moveUp:()=>I(o6),moveRight:()=>I(l6),moveDown:()=>I(a6),moveLeft:()=>I(c6)};return N({liftActionArgs:{id:s,clientSelection:s8(u),movementMode:"SNAP"},cleanup:ws,actions:O})}function _(){Tc({expected:"PRE_DRAG",phase:f,isLockActive:y,shouldWarn:!0})&&t.release()}return{isActive:()=>Tc({expected:"PRE_DRAG",phase:f,isLockActive:y,shouldWarn:!1}),shouldRespectForcePress:p,fluidLift:E,snapLift:w,abort:_}}const p8=[G9,Y9,t8];function m8({contextId:t,store:e,registry:n,customSensors:r,enableDefaultSensors:s}){const i=[...s?p8:[],...r||[]],o=v.useState(()=>R9())[0],a=oe(function(N,E){ul(N)&&!ul(E)&&o.tryAbandon()},[o]);kn(function(){let N=e.getState();return e.subscribe(()=>{const w=e.getState();a(N,w),N=w})},[o,e,a]),kn(()=>o.tryAbandon,[o.tryAbandon]);const c=oe(I=>mI({lockAPI:o,registry:n,store:e,draggableId:I}),[o,n,e]),u=oe((I,N,E)=>f8({lockAPI:o,registry:n,contextId:t,store:e,draggableId:I,forceSensorStop:N||null,sourceEvent:E&&E.sourceEvent?E.sourceEvent:null}),[t,o,n,e]),h=oe(I=>u8(t,I),[t]),f=oe(I=>{const N=n.draggable.findById(I);return N?N.options:null},[n.draggable]),p=oe(function(){o.isClaimed()&&(o.tryAbandon(),e.getState().phase!=="IDLE"&&e.dispatch(n0()))},[o,e]),y=oe(()=>o.isClaimed(),[o]),b=Pe(()=>({canGetLock:c,tryGetLock:u,findClosestDraggableId:h,findOptionsForDraggable:f,tryReleaseLock:p,isLockClaimed:y}),[c,u,h,f,p,y]);for(let I=0;I<i.length;I++)i[I](b)}const g8=t=>({onBeforeCapture:e=>{const n=()=>{t.onBeforeCapture&&t.onBeforeCapture(e)};Te.version.startsWith("16")||Te.version.startsWith("17")?n():vl.flushSync(n)},onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}),y8=t=>({...cl,...t.autoScrollerOptions,durationDampening:{...cl.durationDampening,...t.autoScrollerOptions}});function ia(t){return t.current||Q(),t.current}function v8(t){const{contextId:e,setCallbacks:n,sensors:r,nonce:s,dragHandleUsageInstructions:i}=t,o=v.useRef(null),a=cI(t),c=oe(()=>g8(a.current),[a]),u=oe(()=>y8(a.current),[a]),h=S9(e),f=A9({contextId:e,text:i}),p=y9(e,s),y=oe(k=>{ia(o).dispatch(k)},[]),b=Pe(()=>L1({publishWhileDragging:Z5,updateDroppableScroll:t6,updateDroppableIsEnabled:n6,updateDroppableIsCombineEnabled:r6,collectionStarting:e6},y),[y]),I=_9(),N=Pe(()=>K6(I,b),[I,b]),E=Pe(()=>d9({scrollWindow:Q6,scrollDroppable:N.scrollDroppable,getAutoScrollerOptions:u,...L1({move:qb},y)}),[N.scrollDroppable,y,u]),w=x9(e),_=Pe(()=>H6({announce:h,autoScroller:E,dimensionMarshal:N,focusMarshal:w,getResponders:c,styleMarshal:p}),[h,E,N,w,c,p]);o.current=_;const P=oe(()=>{const k=ia(o);k.getState().phase!=="IDLE"&&k.dispatch(n0())},[]),O=oe(()=>{const k=ia(o).getState();return k.phase==="DROP_ANIMATING"?!0:k.phase==="IDLE"?!1:k.isDragging},[]),j=Pe(()=>({isDragging:O,tryAbort:P}),[O,P]);n(j);const T=oe(k=>nI(ia(o).getState(),k),[]),x=oe(()=>Ws(ia(o).getState()),[]),C=Pe(()=>({marshal:N,focus:w,contextId:e,canLift:T,isMovementAllowed:x,dragHandleUsageInstructionsId:f,registry:I}),[e,N,f,w,T,x,I]);return m8({contextId:e,store:_,registry:I,customSensors:r||null,enableDefaultSensors:t.enableDefaultSensors!==!1}),v.useEffect(()=>P,[P]),Te.createElement(oh.Provider,{value:C},Te.createElement(ND,{context:c0,store:_},t.children))}let x8=0;function w8(){return Pe(()=>`${x8++}`,[])}function _8(){return Te.useId()}var E8="useId"in Te?_8:w8;function b8(t){const e=E8(),n=t.dragHandleUsageInstructions||qc.dragHandleUsageInstructions;return Te.createElement(FD,null,r=>Te.createElement(v8,{nonce:t.nonce,contextId:e,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:t.enableDefaultSensors,sensors:t.sensors,onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragUpdate:t.onDragUpdate,onDragEnd:t.onDragEnd,autoScrollerOptions:t.autoScrollerOptions},t.children))}const fx={dragging:5e3,dropAnimating:4500},I8=(t,e)=>e?Na.drop(e.duration):t?Na.snap:Na.fluid,S8=(t,e)=>{if(t)return e?ll.opacity.drop:ll.opacity.combining},T8=t=>t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP";function C8(t){const n=t.dimension.client,{offset:r,combineWith:s,dropping:i}=t,o=!!s,a=T8(t),c=!!i,u=c?Yp.drop(r,o):Yp.moveTo(r);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:I8(a,i),transform:u,opacity:S8(o,c),zIndex:c?fx.dropAnimating:fx.dragging,pointerEvents:"none"}}function N8(t){return{transform:Yp.moveTo(t.offset),transition:t.shouldAnimateDisplacement?void 0:"none"}}function k8(t){return t.type==="DRAGGING"?C8(t):N8(t)}function A8(t,e,n=Ct){const r=window.getComputedStyle(e),s=e.getBoundingClientRect(),i=Eb(s,r),o=Bu(i,n),a={client:i,tagName:e.tagName.toLowerCase(),display:r.display},c={x:i.marginBox.width,y:i.marginBox.height};return{descriptor:t,placeholder:a,displaceBy:c,client:i,page:o}}function R8(t){const e=u0("draggable"),{descriptor:n,registry:r,getDraggableRef:s,canDragInteractiveElements:i,shouldRespectForcePress:o,isEnabled:a}=t,c=Pe(()=>({canDragInteractiveElements:i,shouldRespectForcePress:o,isEnabled:a}),[i,a,o]),u=oe(y=>{const b=s();return b||Q(),A8(n,b,y)},[n,s]),h=Pe(()=>({uniqueId:e,descriptor:n,options:c,getDimension:u}),[n,u,c,e]),f=v.useRef(h),p=v.useRef(!0);kn(()=>(r.draggable.register(f.current),()=>r.draggable.unregister(f.current)),[r.draggable]),kn(()=>{if(p.current){p.current=!1;return}const y=f.current;f.current=h,r.draggable.update(h,y)},[h,r.draggable])}var h0=Te.createContext(null);function Wu(t){const e=v.useContext(t);return e||Q(),e}function P8(t){t.preventDefault()}const D8=t=>{const e=v.useRef(null),n=oe((j=null)=>{e.current=j},[]),r=oe(()=>e.current,[]),{contextId:s,dragHandleUsageInstructionsId:i,registry:o}=Wu(oh),{type:a,droppableId:c}=Wu(h0),u=Pe(()=>({id:t.draggableId,index:t.index,type:a,droppableId:c}),[t.draggableId,t.index,a,c]),{children:h,draggableId:f,isEnabled:p,shouldRespectForcePress:y,canDragInteractiveElements:b,isClone:I,mapped:N,dropAnimationFinished:E}=t;if(!I){const j=Pe(()=>({descriptor:u,registry:o,getDraggableRef:r,canDragInteractiveElements:b,shouldRespectForcePress:y,isEnabled:p}),[u,o,r,b,y,p]);R8(j)}const w=Pe(()=>p?{tabIndex:0,role:"button","aria-describedby":i,"data-rfd-drag-handle-draggable-id":f,"data-rfd-drag-handle-context-id":s,draggable:!1,onDragStart:P8}:null,[s,i,f,p]),_=oe(j=>{N.type==="DRAGGING"&&N.dropping&&j.propertyName==="transform"&&(Te.version.startsWith("16")||Te.version.startsWith("17")?E():vl.flushSync(E))},[E,N]),P=Pe(()=>{const j=k8(N),T=N.type==="DRAGGING"&&N.dropping?_:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":s,"data-rfd-draggable-id":f,style:j,onTransitionEnd:T},dragHandleProps:w}},[s,w,f,N,_,n]),O=Pe(()=>({draggableId:u.id,type:u.type,source:{index:u.index,droppableId:u.droppableId}}),[u.droppableId,u.id,u.index,u.type]);return Te.createElement(Te.Fragment,null,h(P,N.snapshot,O))};var j8=D8,gI=(t,e)=>t===e,yI=t=>{const{combine:e,destination:n}=t;return n?n.droppableId:e?e.droppableId:null};const O8=t=>t.combine?t.combine.draggableId:null,L8=t=>t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null;function M8(){const t=St((s,i)=>({x:s,y:i})),e=St((s,i,o=null,a=null,c=null)=>({isDragging:!0,isClone:i,isDropAnimating:!!c,dropAnimation:c,mode:s,draggingOver:o,combineWith:a,combineTargetFor:null})),n=St((s,i,o,a,c=null,u=null,h=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:c,combineWith:u,mode:i,offset:s,dimension:o,forceShouldAnimate:h,snapshot:e(i,a,c,u,null)}}));return(s,i)=>{if(ul(s)){if(s.critical.draggable.id!==i.draggableId)return null;const o=s.current.client.offset,a=s.dimensions.draggables[i.draggableId],c=Nn(s.impact),u=L8(s.impact),h=s.forceShouldAnimate;return n(t(o.x,o.y),s.movementMode,a,i.isClone,c,u,h)}if(s.phase==="DROP_ANIMATING"){const o=s.completed;if(o.result.draggableId!==i.draggableId)return null;const a=i.isClone,c=s.dimensions.draggables[i.draggableId],u=o.result,h=u.mode,f=yI(u),p=O8(u),b={duration:s.dropDuration,curve:s0.drop,moveTo:s.newHomeClientOffset,opacity:p?ll.opacity.drop:null,scale:p?ll.scale.drop:null};return{mapped:{type:"DRAGGING",offset:s.newHomeClientOffset,dimension:c,dropping:b,draggingOver:f,combineWith:p,mode:h,forceShouldAnimate:null,snapshot:e(h,a,f,p,b)}}}return null}}function vI(t=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:t,combineWith:null}}const V8={mapped:{type:"SECONDARY",offset:Ct,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:vI(null)}};function F8(){const t=St((o,a)=>({x:o,y:a})),e=St(vI),n=St((o,a=null,c)=>({mapped:{type:"SECONDARY",offset:o,combineTargetFor:a,shouldAnimateDisplacement:c,snapshot:e(a)}})),r=o=>o?n(Ct,o,!0):null,s=(o,a,c,u)=>{const h=c.displaced.visible[o],f=!!(u.inVirtualList&&u.effected[o]),p=nh(c),y=p&&p.draggableId===o?a:null;if(!h){if(!f)return r(y);if(c.displaced.invisible[o])return null;const N=Ao(u.displacedBy.point),E=t(N.x,N.y);return n(E,y,!0)}if(f)return r(y);const b=c.displacedBy.point,I=t(b.x,b.y);return n(I,y,h.shouldAnimate)};return(o,a)=>{if(ul(o))return o.critical.draggable.id===a.draggableId?null:s(a.draggableId,o.critical.draggable.id,o.impact,o.afterCritical);if(o.phase==="DROP_ANIMATING"){const c=o.completed;return c.result.draggableId===a.draggableId?null:s(a.draggableId,c.result.draggableId,c.impact,c.afterCritical)}return null}}const B8=()=>{const t=M8(),e=F8();return(r,s)=>t(r,s)||e(r,s)||V8},U8={dropAnimationFinished:Qb},z8=wb(B8,U8,null,{context:c0,areStatePropsEqual:gI})(j8);var $8=z8;function xI(t){return Wu(h0).isUsingCloneFor===t.draggableId&&!t.isClone?null:Te.createElement($8,t)}function wI(t){const e=typeof t.isDragDisabled=="boolean"?!t.isDragDisabled:!0,n=!!t.disableInteractiveElementBlocking,r=!!t.shouldRespectForcePress;return Te.createElement(xI,xs({},t,{isClone:!1,isEnabled:e,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const _I=t=>e=>t===e,H8=_I("scroll"),W8=_I("auto"),px=(t,e)=>e(t.overflowX)||e(t.overflowY),G8=t=>{const e=window.getComputedStyle(t),n={overflowX:e.overflowX,overflowY:e.overflowY};return px(n,H8)||px(n,W8)},q8=()=>!1,EI=t=>t==null?null:t===document.body?q8()?t:null:t===document.documentElement?null:G8(t)?t:EI(t.parentElement);var Zp=t=>({x:t.scrollLeft,y:t.scrollTop});const bI=t=>t?window.getComputedStyle(t).position==="fixed"?!0:bI(t.parentElement):!1;var K8=t=>{const e=EI(t),n=bI(t);return{closestScrollable:e,isFixedOnPage:n}},Q8=({descriptor:t,isEnabled:e,isCombineEnabled:n,isFixedOnPage:r,direction:s,client:i,page:o,closest:a})=>{const c=(()=>{if(!a)return null;const{scrollSize:p,client:y}=a,b=Zb({scrollHeight:p.scrollHeight,scrollWidth:p.scrollWidth,height:y.paddingBox.height,width:y.paddingBox.width});return{pageMarginBox:a.page.marginBox,frameClient:y,scrollSize:p,shouldClipSubject:a.shouldClipSubject,scroll:{initial:a.scroll,current:a.scroll,max:b,diff:{value:Ct,displacement:Ct}}}})(),u=s==="vertical"?Xg:Pb,h=yo({page:o,withPlaceholder:null,axis:u,frame:c});return{descriptor:t,isCombineEnabled:n,isFixedOnPage:r,axis:u,isEnabled:e,client:i,page:o,frame:c,subject:h}};const Y8=(t,e)=>{const n=bb(t);if(!e||t!==e)return n;const r=n.paddingBox.top-e.scrollTop,s=n.paddingBox.left-e.scrollLeft,i=r+e.scrollHeight,o=s+e.scrollWidth,c=qg({top:r,right:o,bottom:i,left:s},n.border);return Kg({borderBox:c,margin:n.margin,border:n.border,padding:n.padding})};var X8=({ref:t,descriptor:e,env:n,windowScroll:r,direction:s,isDropDisabled:i,isCombineEnabled:o,shouldClipSubject:a})=>{const c=n.closestScrollable,u=Y8(t,c),h=Bu(u,r),f=(()=>{if(!c)return null;const y=bb(c),b={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:y,page:Bu(y,r),scroll:Zp(c),scrollSize:b,shouldClipSubject:a}})();return Q8({descriptor:e,isEnabled:!i,isCombineEnabled:o,isFixedOnPage:n.isFixedOnPage,direction:s,client:u,page:h,closest:f})};const J8={passive:!1},Z8={passive:!0};var mx=t=>t.shouldPublishImmediately?J8:Z8;const Cc=t=>t&&t.env.closestScrollable||null;function ej(t){const e=v.useRef(null),n=Wu(oh),r=u0("droppable"),{registry:s,marshal:i}=n,o=cI(t),a=Pe(()=>({id:t.droppableId,type:t.type,mode:t.mode}),[t.droppableId,t.mode,t.type]),c=v.useRef(a),u=Pe(()=>St((P,O)=>{e.current||Q();const j={x:P,y:O};i.updateDroppableScroll(a.id,j)}),[a.id,i]),h=oe(()=>{const P=e.current;return!P||!P.env.closestScrollable?Ct:Zp(P.env.closestScrollable)},[]),f=oe(()=>{const P=h();u(P.x,P.y)},[h,u]),p=Pe(()=>sl(f),[f]),y=oe(()=>{const P=e.current,O=Cc(P);if(P&&O||Q(),P.scrollOptions.shouldPublishImmediately){f();return}p()},[p,f]),b=oe((P,O)=>{e.current&&Q();const j=o.current,T=j.getDroppableRef();T||Q();const x=K8(T),C={ref:T,descriptor:a,env:x,scrollOptions:O};e.current=C;const k=X8({ref:T,descriptor:a,env:x,windowScroll:P,direction:j.direction,isDropDisabled:j.isDropDisabled,isCombineEnabled:j.isCombineEnabled,shouldClipSubject:!j.ignoreContainerClipping}),R=x.closestScrollable;return R&&(R.setAttribute(cx.contextId,n.contextId),R.addEventListener("scroll",y,mx(C.scrollOptions))),k},[n.contextId,a,y,o]),I=oe(()=>{const P=e.current,O=Cc(P);return P&&O||Q(),Zp(O)},[]),N=oe(()=>{const P=e.current;P||Q();const O=Cc(P);e.current=null,O&&(p.cancel(),O.removeAttribute(cx.contextId),O.removeEventListener("scroll",y,mx(P.scrollOptions)))},[y,p]),E=oe(P=>{const O=e.current;O||Q();const j=Cc(O);j||Q(),j.scrollTop+=P.y,j.scrollLeft+=P.x},[]),w=Pe(()=>({getDimensionAndWatchScroll:b,getScrollWhileDragging:I,dragStopped:N,scroll:E}),[N,b,I,E]),_=Pe(()=>({uniqueId:r,descriptor:a,callbacks:w}),[w,a,r]);kn(()=>(c.current=_.descriptor,s.droppable.register(_),()=>{e.current&&N(),s.droppable.unregister(_)}),[w,a,N,_,i,s.droppable]),kn(()=>{e.current&&i.updateDroppableIsEnabled(c.current.id,!t.isDropDisabled)},[t.isDropDisabled,i]),kn(()=>{e.current&&i.updateDroppableIsCombineEnabled(c.current.id,t.isCombineEnabled)},[t.isCombineEnabled,i])}function bf(){}const gx={width:0,height:0,margin:GD},tj=({isAnimatingOpenOnMount:t,placeholder:e,animate:n})=>t||n==="close"?gx:{height:e.client.borderBox.height,width:e.client.borderBox.width,margin:e.client.margin},nj=({isAnimatingOpenOnMount:t,placeholder:e,animate:n})=>{const r=tj({isAnimatingOpenOnMount:t,placeholder:e,animate:n});return{display:e.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?Na.placeholder:null}},rj=t=>{const e=v.useRef(null),n=oe(()=>{e.current&&(clearTimeout(e.current),e.current=null)},[]),{animate:r,onTransitionEnd:s,onClose:i,contextId:o}=t,[a,c]=v.useState(t.animate==="open");v.useEffect(()=>a?r!=="open"?(n(),c(!1),bf):e.current?bf:(e.current=setTimeout(()=>{e.current=null,c(!1)}),n):bf,[r,a,n]);const u=oe(f=>{f.propertyName==="height"&&(s(),r==="close"&&i())},[r,i,s]),h=nj({isAnimatingOpenOnMount:a,animate:t.animate,placeholder:t.placeholder});return Te.createElement(t.placeholder.tagName,{style:h,"data-rfd-placeholder-context-id":o,onTransitionEnd:u,ref:t.innerRef})};var sj=Te.memo(rj);class ij extends Te.PureComponent{constructor(...e){super(...e),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(e,n){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!e.on,data:e.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)}}const oj=t=>{const e=v.useContext(oh);e||Q();const{contextId:n,isMovementAllowed:r}=e,s=v.useRef(null),i=v.useRef(null),{children:o,droppableId:a,type:c,mode:u,direction:h,ignoreContainerClipping:f,isDropDisabled:p,isCombineEnabled:y,snapshot:b,useClone:I,updateViewportMaxScroll:N,getContainerForClone:E}=t,w=oe(()=>s.current,[]),_=oe((R=null)=>{s.current=R},[]);oe(()=>i.current,[]);const P=oe((R=null)=>{i.current=R},[]),O=oe(()=>{r()&&N({maxScroll:tI()})},[r,N]);ej({droppableId:a,type:c,mode:u,direction:h,isDropDisabled:p,isCombineEnabled:y,ignoreContainerClipping:f,getDroppableRef:w});const j=Pe(()=>Te.createElement(ij,{on:t.placeholder,shouldAnimate:t.shouldAnimatePlaceholder},({onClose:R,data:D,animate:A})=>Te.createElement(sj,{placeholder:D,onClose:R,innerRef:P,animate:A,contextId:n,onTransitionEnd:O})),[n,O,t.placeholder,t.shouldAnimatePlaceholder,P]),T=Pe(()=>({innerRef:_,placeholder:j,droppableProps:{"data-rfd-droppable-id":a,"data-rfd-droppable-context-id":n}}),[n,a,j,_]),x=I?I.dragging.draggableId:null,C=Pe(()=>({droppableId:a,type:c,isUsingCloneFor:x}),[a,x,c]);function k(){if(!I)return null;const{dragging:R,render:D}=I,A=Te.createElement(xI,{draggableId:R.draggableId,index:R.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(pe,se)=>D(pe,se,R));return XT.createPortal(A,E())}return Te.createElement(h0.Provider,{value:C},o(T,b),k())};var aj=oj;function lj(){return document.body||Q(),document.body}const yx={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:lj},II=t=>{let e={...t},n;for(n in yx)t[n]===void 0&&(e={...e,[n]:yx[n]});return e},If=(t,e)=>t===e.droppable.type,vx=(t,e)=>e.draggables[t.draggable.id],cj=()=>{const t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},e={...t,shouldAnimatePlaceholder:!1},n=St(i=>({draggableId:i.id,type:i.type,source:{index:i.index,droppableId:i.droppableId}})),r=St((i,o,a,c,u,h)=>{const f=u.descriptor.id;if(u.descriptor.droppableId===i){const b=h?{render:h,dragging:n(u.descriptor)}:null,I={isDraggingOver:a,draggingOverWith:a?f:null,draggingFromThisWith:f,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!1,snapshot:I,useClone:b}}if(!o)return e;if(!c)return t;const y={isDraggingOver:a,draggingOverWith:f,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!0,snapshot:y,useClone:null}});return(i,o)=>{const a=II(o),c=a.droppableId,u=a.type,h=!a.isDropDisabled,f=a.renderClone;if(ul(i)){const p=i.critical;if(!If(u,p))return e;const y=vx(p,i.dimensions),b=Nn(i.impact)===c;return r(c,h,b,b,y,f)}if(i.phase==="DROP_ANIMATING"){const p=i.completed;if(!If(u,p.critical))return e;const y=vx(p.critical,i.dimensions);return r(c,h,yI(p.result)===c,Nn(p.impact)===c,y,f)}if(i.phase==="IDLE"&&i.completed&&!i.shouldFlush){const p=i.completed;if(!If(u,p.critical))return e;const y=Nn(p.impact)===c,b=!!(p.impact.at&&p.impact.at.type==="COMBINE"),I=p.critical.droppable.id===c;return y?b?t:e:I?t:e}return e}},uj={updateViewportMaxScroll:i6},dj=wb(cj,uj,(t,e,n)=>({...II(n),...t,...e}),{context:c0,areStatePropsEqual:gI})(aj);var SI=dj;function dl(t){return ie({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10 20.777a8.942 8.942 0 0 1 -2.48 -.969"},child:[]},{tag:"path",attr:{d:"M14 3.223a9.003 9.003 0 0 1 0 17.554"},child:[]},{tag:"path",attr:{d:"M4.579 17.093a8.961 8.961 0 0 1 -1.227 -2.592"},child:[]},{tag:"path",attr:{d:"M3.124 10.5c.16 -.95 .468 -1.85 .9 -2.675l.169 -.305"},child:[]},{tag:"path",attr:{d:"M6.907 4.579a8.954 8.954 0 0 1 3.093 -1.356"},child:[]}]})(t)}const hj=({item:t,index:e,title:n,onDeleteItem:r,handleItemOver:s,handleItemLeave:i,hoveredItemID:o})=>{const[a,c]=v.useState(!1),u=v.useRef(null),[h,f]=v.useState(!1),[p,y]=v.useState(""),[b]=v.useState(null),I=v.useRef(null),[N,E]=v.useState(!1),[w,_]=v.useState(!1);v.useEffect(()=>{const _e=me=>{u.current&&!u.current.contains(me.target)&&c(!1)};return document.addEventListener("mousedown",_e),()=>{document.removeEventListener("mousedown",_e)}},[]);const P=v.useContext(qe);if(!P)throw new Error("No context");v.useEffect(()=>{k(!a)},[a]);const{updateItemTitle:O,db:j,setDB:T,deleteItem:x,canDraggable:C,setCanDraggable:k,itemDragging:R}=P,D=async()=>{f(!1);const _e=t.title;T(j.map(W=>W.id===t.id?{...W,title:p}:W)),await O(t.id,p)||T(j.map(W=>W.id===t.id?{...W,title:_e}:W))},A=()=>{y(t.title)},pe=async()=>{_(!0),console.log("delete card"),await x(t.id,t.listID)&&(E(!1),k(me=>!me),r(),_(!1))},se=()=>{r()};return v.useEffect(()=>{k(!h)},[h]),d.jsxs("div",{draggable:C,children:[N&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"fixed inset-0 bg-black opacity-5 z-40"}),d.jsxs("div",{className:"modal-delete-list dark:bg-gray-800 bg-white flex flex-col",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3 w-full",children:[d.jsx("p",{className:" dark:text-gray-200 text-gray-800",children:"Deleting a card is forever. There is no undo."}),d.jsx(Dl,{className:"dark:text-gray-200 dark:hover:text-gray-400  cursor-pointer w-7 h-7 absolute top-1 right-1",onClick:()=>{E(!1),k(_e=>!_e)}})]}),w?d.jsxs("div",{className:"bg-red-500 text-black px-2 py-1 rounded-md w-full hover:bg-red-400 cursor-not-allowed animate-pulse flex items-center justify-center gap-3",children:[d.jsx(dl,{size:24,className:" animate-spin text-red-900"}),d.jsx("button",{children:"Delete Card"})]}):d.jsxs("div",{onClick:pe,className:"bg-red-500 text-black px-2 py-1 rounded-md w-full hover:bg-red-400 cursor-pointer flex items-center justify-center gap-3",children:[d.jsx(Gp,{className:" text-red-900"}),d.jsx("button",{children:"Delete Card"})]})]})]}),d.jsx("div",{className:`fixed inset-0 bg-black/50 transition-all duration-300 pointer-events-none ease-in-out z-[400] ${a?"opacity-100 ":"opacity-0 "}`}),d.jsxs("div",{className:`flex flex-col w-full relative ${!a&&"cursor-pointer"}  `,onMouseOver:()=>s(t.id),onMouseLeave:()=>i(t.id),children:[d.jsx("div",{draggable:!a,className:`${a?"opacity-100 scale-100":"opacity-0 scale-90 pointer-events-none"} transition-all duration-300 ease-in-out fixed inset-0 z-[401] transform origin-center`,children:d.jsxs("div",{draggable:!a,className:`backdrop-blur-md bg-white/90 dark:bg-gray-900 border border-slate-400 dark:border-gray-700 fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-[325px] max-h-[90vh] lg:w-[650px] shadow-lg p-2 lg:p-6 flex  z-50 rounded-md overflow-y-auto
               flex-col items-start justify-start`,ref:u,children:[d.jsx(gd,{className:"modal-close-icon text-gray-800  hover:rounded-lg dark:hover:bg-gray-300 dark:text-gray-300 dark:hover:text-gray-700 lg:w-8 lg:h-8 w-6 h-6",onClick:()=>{c(!1)}}),d.jsxs("div",{className:"flex justify-center items-start mt-8",children:[d.jsx(tP,{className:"lg:mt-[7px] mt-1 lg:w-4 lg:h-4 lg:min-w-4 lg:min-h-4 w-3 h-3 min-w-3 min-h-3 text-gray-800 dark:text-gray-400"}),d.jsxs("div",{className:"flex flex-col items-start ml-2 ",children:[d.jsx("h1",{className:"lg:text-lg text-sm text-gray-800 dark:text-gray-400  text-left",children:t.title}),d.jsxs("div",{className:"flex items-center justify-start",children:[d.jsxs("h2",{className:"text-gray-800 dark:text-gray-400 text-sm lg:text-base",children:["In list -"," "]}),d.jsx("p",{className:"font-extrabold text-slate-500 underline ml-1 text-sm lg:text-base",children:n})]})]})]}),d.jsx("div",{className:"w-full mt-8",children:d.jsx(nP,{item:t,onCardItemDataChanged:se})}),d.jsx("div",{className:"w-full mt-8",children:d.jsx(dP,{item:t})})]})}),d.jsx("div",{className:`flex absolute top-0 right-0 mt-2 mr-2 gap-2 transition-all duration-700 duration-100  ease-in-out ${o===t.id?"opacity-100":"opacity-0"}`,children:!R&&o===t.id&&!h&&d.jsxs(d.Fragment,{children:[d.jsx("div",{onClick:()=>f(!0),children:d.jsx(mP,{size:16,className:" dark:text-gray-300 rounded-full w-6 h-6 p-1 bg-gray-500 text-gray-100  hover:bg-gray-600 hover:text-gray-200 cursor-pointer transition-all duration-200 "})}),d.jsx("div",{onClick:()=>{E(!0),k(!1)},children:d.jsx(Gp,{size:16,className:" dark:text-gray-300 rounded-full w-6 h-6 p-1 bg-gray-500 text-gray-100  hover:bg-gray-600 hover:text-gray-200 cursor-pointer transition-all duration-200"})})]})}),d.jsx(wI,{draggableId:t.id,index:e,children:_e=>d.jsx("div",{onClick:()=>{!h&&c(!0)},ref:_e.innerRef,..._e.draggableProps,..._e.dragHandleProps,className:"text-gray-800 dark:text-gray-300 m-1 border  border-gray-200 dark:border-gray-900 bg-white dark:bg-gray-800 rounded-md p-3 hover:border hover:border-slate-300 hover:rounded-lg shadow-2xl",children:h?d.jsx("textarea",{className:"text-gray-900 dark:text-gray-200 bg-gray-100 dark:bg-gray-700 text-left text-sm  z-50 w-full",style:{height:`${b}px`},value:p,onChange:me=>y(me.target.value),onBlur:D,onFocus:A,autoFocus:!0,onKeyDown:me=>{me.key==="Enter"&&(me.preventDefault(),D())}}):d.jsxs("div",{children:[d.jsx("div",{ref:I,className:"w-full",children:d.jsx("p",{className:"text-left text-sm",children:t.title})}),d.jsx("div",{children:t.desc&&t.desc.length>0&&d.jsx(vP,{size:12,className:"mt-2"})})]})})},t.id)]})]})};function fj(t){return ie({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M1.94607 9.31543C1.42353 9.14125 1.4194 8.86022 1.95682 8.68108L21.043 2.31901C21.5715 2.14285 21.8746 2.43866 21.7265 2.95694L16.2733 22.0432C16.1223 22.5716 15.8177 22.59 15.5944 22.0876L11.9999 14L17.9999 6.00005L9.99992 12L1.94607 9.31543Z"},child:[]}]})(t)}function pj(t){return ie({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M7 4V2H17V4H22V6H20V21C20 21.5523 19.5523 22 19 22H5C4.44772 22 4 21.5523 4 21V6H2V4H7ZM6 6V20H18V6H6ZM9 9H11V17H9V9ZM13 9H15V17H13V9Z"},child:[]}]})(t)}function mj(t){return ie({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(t)}function gj(t){return ie({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function yj(t){return ie({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(t)}function vj(t){return ie({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(t)}function xj(t){return ie({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"},child:[]}]})(t)}function TI(t){return ie({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function wj(t){return ie({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 464c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V200.724a48 48 0 0 1 18.387-37.776c24.913-19.529 45.501-35.365 164.2-121.511C199.412 29.17 232.797-.347 256 .003c23.198-.354 56.596 29.172 73.413 41.433 118.687 86.137 139.303 101.995 164.2 121.512A48 48 0 0 1 512 200.724V464zm-65.666-196.605c-2.563-3.728-7.7-4.595-11.339-1.907-22.845 16.873-55.462 40.705-105.582 77.079-16.825 12.266-50.21 41.781-73.413 41.43-23.211.344-56.559-29.143-73.413-41.43-50.114-36.37-82.734-60.204-105.582-77.079-3.639-2.688-8.776-1.821-11.339 1.907l-9.072 13.196a7.998 7.998 0 0 0 1.839 10.967c22.887 16.899 55.454 40.69 105.303 76.868 20.274 14.781 56.524 47.813 92.264 47.573 35.724.242 71.961-32.771 92.263-47.573 49.85-36.179 82.418-59.97 105.303-76.868a7.998 7.998 0 0 0 1.839-10.967l-9.071-13.196z"},child:[]}]})(t)}function _j(t){return ie({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(t)}function Ej(t){return ie({tag:"svg",attr:{viewBox:"0 0 256 512"},child:[{tag:"path",attr:{d:"M168 345.941V44c0-6.627-5.373-12-12-12h-56c-6.627 0-12 5.373-12 12v301.941H41.941c-21.382 0-32.09 25.851-16.971 40.971l86.059 86.059c9.373 9.373 24.569 9.373 33.941 0l86.059-86.059c15.119-15.119 4.411-40.971-16.971-40.971H168z"},child:[]}]})(t)}function bj(t){return ie({tag:"svg",attr:{viewBox:"0 0 256 512"},child:[{tag:"path",attr:{d:"M88 166.059V468c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12V166.059h46.059c21.382 0 32.09-25.851 16.971-40.971l-86.059-86.059c-9.373-9.373-24.569-9.373-33.941 0l-86.059 86.059c-15.119 15.119-4.411 40.971 16.971 40.971H88z"},child:[]}]})(t)}function em(t){return ie({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function f0(t){return ie({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(t)}function xx(t){return ie({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 448c-110.5 0-200-89.5-200-200S145.5 56 256 56s200 89.5 200 200-89.5 200-200 200zm61.8-104.4l-84.9-61.7c-3.1-2.3-4.9-5.9-4.9-9.7V116c0-6.6 5.4-12 12-12h32c6.6 0 12 5.4 12 12v141.7l66.8 48.6c5.4 3.9 6.5 11.4 2.6 16.8L334.6 349c-3.9 5.3-11.4 6.5-16.8 2.6z"},child:[]}]})(t)}const Ij=({title:t,id:e,onDeleteList:n,boardID:r})=>{const[s,i]=v.useState(!1),[o,a]=v.useState(""),[c,u]=v.useState(!1),[h,f]=v.useState(""),[p,y]=v.useState(!1),b=v.useRef(null),[I,N]=v.useState(!1),[E,w]=v.useState(null),_=v.useRef(null);v.useEffect(()=>{f(t)},[t]),v.useEffect(()=>{s&&b.current&&b.current.focus()},[s]);const P=v.useContext(qe);if(!P)throw new Error("No context");const{addItem:O,db:j,setLists:T,lists:x,updateListTitle:C,deleteList:k,handleNotification:R,setCanDraggable:D}=P;v.useEffect(()=>{D(o===""),console.log(o)},[o]),v.useEffect(()=>{console.log(j)},[j]),v.useEffect(()=>{const X=ee=>{_.current&&!_.current.contains(ee.target)&&(i(!1),D(!0))};return document.addEventListener("mousedown",X),()=>{document.removeEventListener("mousedown",X)}},[]);const A=async()=>{if(o==="")return;const X=j.filter(he=>he.listID===e).length,ee=j.length;a(""),i(!1),await O(o,e,ee,X)||console.log("Error")},pe=async()=>{if(u(!1),h==="")return;const X=t;T(x.map(le=>le.id===e?{...le,title:h}:le)),await C(e,h)?X!==h&&R("List name changed..",!0):T(x.map(le=>le.id===e?{...le,title:X}:le))},se=async()=>{N(!0),await k(e,r)&&(n(),R("List deleted..",!0),D(!0),N(!1))},_e=()=>{console.log("On delete item"),console.log(j),n()},me=X=>{w(X)},W=()=>{w(null)};return d.jsxs("div",{className:" overflow-y-auto w-56 min-w-56 lg:w-72 lg:min-w-72 bg-gray-100 dark:bg-gray-900 p-1 mx-1 flex flex-col items-start justify-start rounded-xl list shadow-2xl ",children:[c?d.jsx("div",{className:"font-semibold p-2 mb-2",children:d.jsx("input",{value:h,className:"bg-transparent text-gray-900  dark:text-gray-400 text-sm w-full rounded-md border-0 focus:border-0 p-2",autoFocus:!0,onBlur:pe,onChange:X=>f(X.target.value),onKeyDown:X=>{X.key==="Enter"&&pe()}})}):d.jsxs("div",{className:"w-full relative",children:[d.jsxs("div",{className:"flex items-center justify-between w-full mb-2 p-2",children:[d.jsx("p",{onClick:()=>u(!0),className:"text-gray-900 dark:text-gray-400 text-sm font-semibold cursor-pointer w-full text-left p-2",children:t}),d.jsx(pj,{onClick:()=>{y(!0),D(!1)},className:"text-gray-900 dark:text-gray-300 dark:hover:text-gray-400 hover:text-red-900 cursor-pointer mr-3"})]}),p&&d.jsxs("div",{draggable:!1,children:[d.jsx("div",{className:"fixed inset-0 bg-black opacity-5 z-40"}),d.jsxs("div",{className:"modal-delete-list dark:bg-gray-800 bg-white flex flex-col w-72 lg:w-96",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4 w-full",children:[d.jsx("div",{className:"flex-1 ",children:d.jsx("p",{className:" text-gray-900 dark:text-gray-200 text-sm lg:text-base text-left",children:"Deleting a list is forever. There is no undo."})}),d.jsx(Dl,{className:"absolute right-1 top-1 w-7 h-7  text-gray-900 dark:text-gray-200 dark:hover:text-gray-500 hover:text-gray-400 cursor-pointer",onClick:()=>{y(!1),D(!0)}})]}),I?d.jsxs("div",{className:"bg-red-500 text-black px-2 py-1 rounded-md w-full hover:bg-red-400 cursor-not-allowed animate-pulse flex items-center justify-center gap-3",children:[d.jsx(dl,{className:"w-4 h-4 animate-spin text-red-900 lg:w-4 lg:h-4"}),d.jsx("button",{className:"text-sm lg:text-base",children:"Delete List"})]}):d.jsxs("div",{onClick:se,className:"bg-red-500 text-black px-2 py-1 rounded-md w-full hover:bg-red-400 cursor-pointer flex items-center justify-center gap-3",children:[d.jsx(Gp,{className:"w-4 h-4 lg:w-4 lg:h-4 text-red-900"}),d.jsx("button",{className:"text-sm lg:text-base",children:"Delete List"})]})]})]})]}),d.jsx(SI,{droppableId:e,type:"item",children:X=>d.jsxs("div",{ref:X.innerRef,...X.droppableProps,className:"w-full min-h-1",children:[j.sort((ee,le)=>ee.indexInList-le.indexInList).map(ee=>ee.listID===e?d.jsx("div",{className:"w-full h-full",children:d.jsx(hj,{title:t,item:ee,onDeleteItem:_e,index:ee.indexInList,handleItemLeave:W,handleItemOver:me,hoveredItemID:E})},ee.id):null),X.placeholder,s?d.jsxs("div",{className:"flex-col w-full p-1 z-50 text-sm",ref:_,children:[d.jsx("textarea",{ref:b,onChange:ee=>a(ee.target.value),className:"w-full p-3 rounded-lg mb-2 bg-gray-200 text-gray-800 dark:bg-gray-800 dark:text-gray-300",placeholder:"Add title for this card...",value:o}),d.jsxs("div",{className:"flex  justify-start mb-2 h-10",children:[o===""?d.jsx("button",{className:"flex-1 bg-gray-200 dark:bg-gray-700 p-2 rounded-lg mr-2 px-7  dark:text-gray-400 cursor-not-allowed",children:"Add Card"}):d.jsx("button",{className:"flex-1 bg-blue-500 p-2 rounded-lg mr-2 px-7 text-white hover:bg-blue-600",onClick:A,children:"Add Card"}),d.jsx(gd,{onClick:()=>{i(!1),a(""),D(!0)},className:"text-gray-800 dark:text-gray-200 h-full w-8 lg:w-10 p-2 rounded-md dark:hover:bg-gray-800 hover:bg-gray-200 cursor-pointer"})]})]}):d.jsxs("div",{onClick:()=>{i(!0),D(!1)},className:" z-1 flex items-center  dark:text-gray-300  text-gray-900 text-left text-sm pl-3   border-gray-100 hover:bg-gray-200 dark:hover:bg-gray-800 hover:text-gray-900 cursor-pointer py-2 rounded-lg w-full",children:[d.jsx(em,{className:"mr-1 text-sm"}),d.jsx("p",{children:"Add a card"})]})]})},e)]})};function wx(t){return ie({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",x2:"12",y1:"2",y2:"6"},child:[]},{tag:"line",attr:{x1:"12",x2:"12",y1:"18",y2:"22"},child:[]},{tag:"line",attr:{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76"},child:[]},{tag:"line",attr:{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07"},child:[]},{tag:"line",attr:{x1:"2",x2:"6",y1:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"18",x2:"22",y1:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24"},child:[]},{tag:"line",attr:{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93"},child:[]}]})(t)}const Sj=({invite:t,_getBoardInvites:e})=>{const[n,r]=v.useState(!1),s=v.useContext(qe);if(!s)throw new Error("no context");const{deleteInvitation:i,handleNotification:o}=s,a=async c=>{r(!0),await i(c)?(console.log("Inv deleted"),e(),o(`The invitation (${t.email}) has been successfully canceled.`,!0),r(!1)):console.log("delete basarisiz")};return d.jsx(d.Fragment,{children:n?d.jsxs("div",{className:"flex justify-between items-center w-full dark:bg-gray-700 bg-gray-300 rounded-md h-16 mb-1 lg:p-3 p-3",children:[d.jsxs("div",{className:"flex flex-col items-start justify-center dark:text-gray-200 text-gray-800 w-full",children:[d.jsx("p",{className:"text-sm lg:text-base",children:t.email}),d.jsxs("div",{className:"flex items-center justify-between w-full",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(xx,{className:"mr-1"}),d.jsx("p",{className:"text-xs lg:text-base",children:"Pending..."})]}),d.jsx("div",{className:"lg:hidden",children:d.jsx(wx,{className:"  text-gray-100 w-5 h-5 "})})]})]}),d.jsxs("div",{className:"transition-all duration-200 ease-in-out hidden lg:flex items-center rounded-md cursor-not-allowed  bg-red-500 hover:bg-red-600 text-white py-1 px-3",children:[d.jsx(wx,{className:"mr-1 text-md animate-spin"}),d.jsx("button",{children:"Cancel"})]})]}):d.jsxs("div",{className:"flex  justify-between items-center w-full dark:bg-gray-700 bg-gray-300  rounded-md h-16 mb-1 lg:p-3 p-3",children:[d.jsxs("div",{className:"flex flex-col items-start justify-center dark:text-gray-200 text-gray-800 w-full",children:[d.jsx("p",{className:"text-sm lg:text-base",children:t.email}),d.jsxs("div",{className:"flex items-center justify-between w-full",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(xx,{className:"mr-1"}),d.jsx("p",{className:"text-xs lg:text-base",children:"Pending..."})]}),d.jsx("div",{className:"lg:hidden",children:d.jsx(hP,{className:"  text-gray-100 w-5 h-5 ",onClick:()=>a(t.id)})})]})]}),d.jsxs("div",{className:"transition-all duration-200 ease-in-out hidden lg:flex items-center rounded-md cursor-pointer bg-red-500 hover:bg-red-600  py-1 px-3 text-white ",onClick:()=>a(t.id),children:[d.jsx(yP,{className:"text-md"}),d.jsx("p",{className:"text-md ml-1 text-md ",children:"Cancel"})]})]})})},Tj=({member:t,boardID:e,_getBoardUsers:n})=>{const[r,s]=v.useState(null),[i,o]=v.useState(!1),[a,c]=v.useState(!1),[u,h]=v.useState(!1),[f,p]=v.useState(!1),y=v.useContext(qe);if(!y)throw new Error("No context");const b=gi(),{user:I,getUserPublicData:N,checkUserIsBoardAdmin:E,removeMemberFromBoard:w,leaveFromBoard:_}=y,P=async()=>{h(!0),await w(e,t.user)?(console.log("Listeden cikarildi"),n(),h(!1)):console.log("Sorun olustu")},O=async()=>{if(!I)return;const x=await E(e,I.uid);o(x)};v.useEffect(()=>{O()},[I]),v.useEffect(()=>{j(t.email)},[t]);const j=async x=>{const C=await N(x);s(C)},T=async()=>{if(I){c(!0);const x=await _(e,I.uid);console.log("Leave Result "+x),x&&(n(),c(!1),b("/boards"))}};return d.jsxs("div",{className:"flex justify-between items-center w-full bg-gray-300   dark:bg-gray-800 py-3  rounded-md mb-1 p-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[r&&r.map(x=>d.jsx("img",{src:x==null?void 0:x.photoURL,width:26,height:26,className:"rounded-full w-7 h-7 lg:h-9 lg:w-9"})),r===null&&d.jsx("div",{className:"w-7 h-7 min-w-7 min-h-7 lg:w-9 lg:h-9 lg:min-w-9 lg:min-h-9 animate-pulse bg-gray-400 rounded-full"}),d.jsxs("div",{className:"flex flex-col items-start justify-center",children:[d.jsx("p",{className:"text-sm lg:text-base dark:text-gray-200 text-gray-900 ",children:t.email}),d.jsx("div",{className:"flex items-center",children:d.jsxs("div",{className:"flex items-center text-sm lg:text-base",children:[d.jsxs("p",{className:"dark:text-gray-200 text-gray-900 text-xs lg:text-base",children:[t.displayName," ",t.email===(I==null?void 0:I.email)&&"(You)"]}),d.jsx("p",{className:"dark:text-gray-200 text-gray-900 text-xs lg:text-base ml-1",children:t.role===0?" - Admin":" - Editor"})]})})]})]}),t.role===1&&t.email===(I==null?void 0:I.email)&&d.jsxs(d.Fragment,{children:[a?d.jsxs("button",{disabled:!f,className:"transition-all duration-200 ease-in-out hidden lg:flex items-center py-1 px-3 bg-red-500  hover:bg-red-600 text-white  rounded-md cursor-pointer ",children:[d.jsx(k1,{className:"lg:w-4 lg:h-4 mr-2 animate-spin text-white "}),d.jsx("p",{children:"Leave Board"})]}):d.jsxs("button",{className:"transition-all duration-200 ease-in-out  hidden lg:flex items-center py-1 px-3  rounded-md cursor-pointer bg-red-500  hover:bg-red-600 text-white   ",onClick:()=>p(!0),children:[d.jsx(aP,{className:"lg:w-4 lg:h-4 mr-2"}),d.jsx("p",{children:"Leave Board"})]}),d.jsxs("div",{className:`flex flex-col dark:bg-gray-900 bg-gray-200  dark:text-gray-300 text-gray-900   bottom-20 -right-20 border absolute border-gray-500 border-opacity-40  rounded-md w-fit p-3 justify-center items-center transition-all duration-200 ease-in-out shadow-5xl
              ${f?"opacity-100 scale-100":"opacity-0 scale-0"}`,children:[d.jsx("p",{className:"mb-3 self-start font-semibold",children:"Leave Board"}),d.jsx("p",{className:"mb-3",children:"Are you sure you want to leave this board?"}),d.jsxs("div",{className:"flex gap-10",children:[d.jsx("button",{className:" text-white py-1 bg-blue-500 px-5 rounded-md hover:bg-blue-600 transition-all duration-200 ease-in-out",onClick:T,children:"Leave"}),d.jsx("button",{className:"dark:hover:bg-gray-700 hover:bg-gray-300 transition-all duration-200 px-5 py-1 rounded-md",onClick:()=>p(!1),children:"Cancel"})]}),d.jsx("div",{className:"absolute bg-gray-200 dark:bg-gray-900 border-r border-b border-gray-500 border-opacity-40 rounded-sm  w-4 h-4 rotate-45 -bottom-2"})]}),a?d.jsx(k1,{className:"lg:hidden w-4 h-4 mr-2 animate-spin text-gray-400"}):d.jsx(oP,{className:"lg:hidden dark:text-gray-100 text-gray-900 w-5 h-5 mr-2",onClick:T})]}),t.role===1&&i&&d.jsxs(d.Fragment,{children:[u?d.jsx(dl,{className:"w-5 h-5 lg:hidden  animate-spin text-gray-400"}):d.jsx("div",{className:"lg:hidden",children:d.jsx(Tv,{className:"text-gray-100 w-5 h-5",onClick:P})}),u?d.jsxs("button",{className:"hidden lg:flex items-center py-1 px-3  rounded-md cursor-pointer bg-red-500 hover:bg-red-600 text-white ",onClick:P,children:[d.jsx(dl,{className:"w-5 h-5 mr-2 animate-spin text-white"}),d.jsx("p",{children:"RemoveMember"})]}):d.jsxs("button",{className:"transition-all duration-200 ease-in-out  hidden lg:flex items-center py-1 px-3  rounded-md cursor-pointer  bg-red-500 hover:bg-red-600 text-white",onClick:P,children:[d.jsx(Tv,{className:"w-5 h-5 mr-2"}),d.jsx("p",{children:"Remove Member"})]})]})]})},_x=({boardID:t,type:e})=>{const[n,r]=v.useState(""),[s,i]=v.useState(!1),[o,a]=v.useState(!1),[c,u]=v.useState(null),[h,f]=v.useState([]),[p,y]=v.useState([]),[b,I]=v.useState(null),[N,E]=v.useState(!1),w=v.useContext(qe);if(!w)throw new Error("no context");const{sendInvitation:_,getBoardInvites:P,user:O,handleNotification:j,getBoardUsers:T,checkUserIsBoardAdmin:x}=w;v.useEffect(()=>{I(O),pe()},[O]);const C=se=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(se),k=()=>{C(n)?u(null):u("Please enter a valid email address.")};v.useEffect(()=>{D()},[s]);const R=async()=>{if(O!=null&&O.displayName){if(O.email===n){u("You’re already the admin of this board!");return}if(C(n)){a(!0);const se=await _(n,t,O==null?void 0:O.displayName);a(!1),r(""),u(null),D(),j(se,!0)}else k()}},D=async()=>{const se=await P(t);let _e=[];se.map(me=>me.boardID===t&&me.isApproved===!1&&_e.push(me)),y(_e),console.log(_e)};v.useEffect(()=>{A(),console.log("useeffect calisti")},[s]);const A=async()=>{console.log("get board isleniyor");const se=await T(t);console.log(se),f(se)},pe=async()=>{if(!O)return;const se=await x(t,O==null?void 0:O.uid);E(se)};return d.jsxs("div",{children:[!s&&e==="board"&&d.jsxs("div",{className:"transition-all duration-200 ease-in-out  flex items-center hover:bg-gray-800 bg-gray-700 dark:bg-gray-400 dark:hover:bg-gray-500 dark:text-gray-900 rounded-md m-2 py-2 px-4 text-gray-300 cursor-pointer",onClick:()=>i(!0),children:[d.jsx(A1,{className:"text-gray-300 dark:text-gray-900  text-md mr-2"}),N?d.jsx("button",{className:"text-md",children:"Add Team Members"}):d.jsx("button",{className:"text-md",children:"Team Members"})]}),!s&&e==="mobile-board"&&d.jsx("div",{className:"flex items-center hover:bg-gray-800 bg-gray-900 rounded-md m-2 py-2 px-4 text-gray-300 cursor-pointer",onClick:()=>i(!0),children:N?d.jsx(A1,{className:"text-gray-300 text-md"}):d.jsx(lP,{className:"text-gray-300 text-md"})}),d.jsxs(d.Fragment,{children:[d.jsx("div",{className:`fixed inset-0 bg-black/40 z-40 transition-all duration-200 ease-in-out pointer-events-none ${s?"opacity-100":"opacity-0"}`}),d.jsxs("div",{className:`${s?"opacity-100 scale-100":"opacity-0 scale-0"} transition-all duration-200 ease-in-out p-2 bg-gray-200 dark:bg-gray-900 backdrop-blur-3xl border dark:border-gray-600 fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-[325px] lg:w-[600px] h-auto   shadow-lg  lg:p-3 flex flex-col justify-start items-start z-[1000] rounded-lg`,children:[d.jsxs("div",{className:"flex justify-between items-center w-full",children:[N?d.jsx("p",{className:"text-md ml-1 dark:text-gray-400 text-slate-800  font-semibold",children:"ADD TEAM MEMBERS"}):d.jsx("p",{}),d.jsx(Dl,{className:"dark:text-gray-400 text-gray-800 hover:bg-gray-300 hover:rounded-lg dark:hover:bg-gray-600 cursor-pointer lg:w-8 lg:h-8 w-6 h-6",onClick:()=>i(!1)})]}),N?d.jsxs("div",{className:"flex gap-1 my-4 justify-between w-full h-10",children:[d.jsx("input",{className:"flex-1 p-3 dark:text-gray-400 text-gray-800 bg-gray-100 dark:bg-gray-700  rounded-md text-sm lg:text-base",placeholder:"Enter email address...",onChange:se=>r(se.target.value),value:n}),o?d.jsx("div",{className:"flex items-center justify-center w-9 lg:w-20",children:d.jsx(gP,{className:" h-full w-9  dark:text-gray-400 text-gray-800 rounded-md animate-spin"})}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"lg:hidden",children:d.jsx(fj,{className:"dark:bg-blue-500 h-full w-9 dark:text-gray-400 p-1 rounded-md",onClick:R})}),d.jsx("button",{className:"transition-all duration-200 ease-in-out  hidden lg:block  text-gray-200 bg-blue-500 hover:bg-blue-400 px-2 py-1 w-20 rounded-md lg:text-base",onClick:R,children:"Invite"})]})]}):"",d.jsx("p",{className:"dark:text-red-500",children:c}),N&&p.length>0&&d.jsxs("div",{className:"w-full mt-3",children:[d.jsx("p",{className:"dark:text-gray-400 text-gray-800 mb-1 pl-1 mt-3 text-left font-bold text-sm",children:"PENDING INVITATIONS"}),p&&p.map(se=>se.isApproved===!1?d.jsx(Sj,{invite:se,_getBoardInvites:D}):d.jsx(d.Fragment,{}))]}),h&&h.length>0&&d.jsxs("div",{className:"w-full mt-3",children:[d.jsx("p",{className:"dark:text-gray-400 mb-1 pl-1 mt-3 text-left font-bold text-sm",children:"TEAM MEMBERS"}),h&&h.sort((se,_e)=>se.role-_e.role).map(se=>d.jsx(Tj,{member:se,boardID:t,_getBoardUsers:A}))]})]})]})]})},Cj=()=>d.jsxs("div",{className:"w-56 lg:w-72 h-40  p-4 mx-1 rounded-xl dark:bg-gray-800 bg-gray-400 animate-pulse ",children:[d.jsx("div",{className:"h-6 bg-gray-500 dark:bg-gray-700 rounded w-3/4 mb-4"}),d.jsx("div",{className:"h-4 bg-gray-500 dark:bg-gray-700 rounded w-full mb-2"}),d.jsx("div",{className:"h-4 g-slate-700 rounded w-5/6"})]});function Nj(t){return ie({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20 14a2 2 0 1 1-.001-3.999A2 2 0 0 1 20 14ZM6 12a2 2 0 1 1-3.999.001A2 2 0 0 1 6 12Zm8 0a2 2 0 1 1-3.999.001A2 2 0 0 1 14 12Z"},child:[]}]})(t)}const kj=({showBoardSettingsModal:t,setShowBoardSettingsModal:e,handleMenuChange:n,rightMenu:r,setRightMenu:s,isAnimating:i,changeBackground:o,currentBgURL:a,_updateBackground:c,currentBoardName:u,handleUpdateBoardName:h,handleDeleteBoard:f,boardDesc:p,handleUpdateDesc:y,boardAdmin:b,isUserBoardAdmin:I,boardDeleting:N})=>{const[E,w]=v.useState(null),[_,P]=v.useState(4),[O,j]=v.useState(null),[T,x]=v.useState(u),[C,k]=v.useState(!1),[R,D]=v.useState(p),[A,pe]=v.useState(p),se=v.useRef(null),[_e,me]=v.useState(0),[W,X]=v.useState(null),[ee,le]=v.useState(!1),he=[1,2,3,4,5,6,7,8,9,10,11,12],z=v.useRef(null),We=v.useContext(qe);if(!We)throw new Error("No context");const{getBGImages:ct,getUserPublicData:Oe}=We;v.useEffect(()=>{z.current!==null&&z.current!==null&&z.current.focus()},[C]),v.useEffect(()=>{se.current!==null&&me(se.current.offsetHeight)},[r,A]),v.useEffect(()=>{r==="Change Background"&&Ie()},[r]);const Ie=async()=>{const Ne=await ct();w(Ne)},jn=Ne=>{E==null||E.filter(kt=>{kt.url===Ne&&P(kt.id),kt.url===Ne&&j(kt.url)})};v.useEffect(()=>{jn(a)},[E]),v.useEffect(()=>{$t()},[b]);const $t=async()=>{if(b===null)return;const Ne=await Oe(void 0,b);Ne&&X(Ne)};return d.jsxs(d.Fragment,{children:[d.jsx(Nj,{size:32,className:"  dark:text-gray-400 dark:hover:text-gray-300 text-gray-900 hover:text-gray-800 cursor-pointer ml-4 ",onClick:()=>{e(!0),n("Menu")}}),d.jsxs("div",{className:`z-[5000] transition-all duration-300 flex flex-col absolute items-start gap-0  h-[calc(100vh-3rem)] top-0 
    
    shadow-2xl bg-white/50 dark:bg-black/50 backdrop-blur-3xl p-1 w-80 lg:w-80 text-sm lg:text-base overflow-y-auto ${t?" opacity-100 -right-1 lg:-right-10":" opacity-0  -right-[1000px]"}`,children:[d.jsxs("div",{className:"flex justify-between items-center w-full px-2 py-2",children:[r!=="Menu"?d.jsx(iN,{onClick:()=>{n("Menu"),x(u),k(!1)},className:"text-gray-800 dark:text-gray-400 cursor-pointer lg:w-6 lg:h-6 w-5 h-5"}):d.jsx("p",{}),d.jsx("p",{className:"flex  text-gray-800 dark:text-gray-400",children:r}),d.jsx(Dl,{className:"lg:w-6 lg:h-6 w-5 h-5  text-gray-800 dark:text-gray-400 hover:bg-white/20 rounded-md m-1 cursor-pointer",onClick:()=>{e(!1),s("Menu"),x(u)}})]}),d.jsx("div",{className:"border-b border-gray-500 border-opacity-35 mt-1  w-full "}),r==="Change Background"&&d.jsxs("div",{className:`transform transition-transform duration-100  ${i?"translate-x-full opacity-0":"translate-x-0 opacity-100"}
                  `,children:[d.jsx("div",{className:"p-3"}),d.jsx("div",{className:"flex gap-2 flex-wrap w-full justify-center",children:E!==null?E.map(Ne=>d.jsx("div",{onClick:()=>{jn(Ne.url),o(Ne.url),O!==null?(c(Ne.url),console.log("choosed BG bos degil"+O)):console.log("choosed BG bos"+O)},className:"cursor-pointer rounded-md m-1 border-2 border-gray-800  hover:border-gray-400 w-24 h-16  lg:w-32 lg:h-24 flex items-center justify-center",style:{backgroundImage:`url(${Ne.url})`,backgroundPosition:"center",backgroundSize:"cover"},children:Ne.id===_&&d.jsx(TI,{size:32,className:"text-gray-200 shadow-lg border-2 rounded-full border-gray-100 bg-green-500"})},Ne.id)):he.map(()=>d.jsx("div",{className:"bg-gray-200 animate-pulse w-32 h-24 rounded-md"}))})]}),r==="Delete Board"&&d.jsx("div",{className:`transform transition-transform duration-100  ${i?"translate-x-full opacity-0":"translate-x-0 opacity-100"}
                `,children:d.jsxs("div",{className:"p-3 flex flex-col w-full",children:[d.jsx("p",{className:"text-gray-800 dark:text-gray-400 text-left mb-2 ",children:"Deleting a board is forever. There is no undo. Are you sure?"}),N?d.jsx("button",{className:"text-gray-200 bg-gray-600 dark:text-gray-400 dark:bg-gray-600 p-1 lg:p-3 w-full rounded-md  animate-pulse cursor-not-allowed ",children:"Delete"}):d.jsx("button",{className:"text-gray-100 bg-gray-500 hover:bg-gray-600 dark:text-gray-400 dark:bg-gray-700 p-1 lg:p-3 w-full rounded-md dark:hover:bg-gray-800 ",onClick:f,children:"Delete"})]})}),r==="About Board"&&d.jsxs("div",{className:`transform transition-transform duration-100 p-3 ${i?"translate-x-full opacity-0":"translate-x-0 opacity-100"}
             `,children:[d.jsxs("div",{className:"mt-1",children:[d.jsxs("div",{className:"flex gap-2 items-center mb-4 ",children:[d.jsx(f0,{size:14,className:"text-gray-800 dark:text-gray-400"}),d.jsx("p",{className:"text-gray-800 dark:text-gray-400 font-semibold",children:"BOARD ADMIN"})]}),d.jsxs("div",{className:"flex gap-1 lg:gap-3 items-center",children:[W&&W[0].photoURL!==null&&W[0].photoURL!==void 0&&d.jsx("img",{src:W&&W[0].photoURL,className:"rounded-full w-7 h-7 lg:w-10 lg:h-10 border border-gray-700"}),d.jsxs("div",{className:"flex flex-col items-start",children:[d.jsx("p",{className:"text-gray-800 dark:text-gray-400 ",children:W&&W[0].displayName}),d.jsx("p",{className:"text-gray-800 dark:text-gray-400 text-xs lg:text-sm",children:W&&W[0].email})]})]})]}),I?d.jsxs("div",{children:[d.jsxs("div",{className:"flex gap-3 text-gray-800 dark:text-gray-400 items-center mt-5",children:[d.jsx(T1,{size:14}),d.jsx("p",{className:"text-gray-800 dark:text-gray-400 font-semibold ",children:"DESCRIPTION"})]}),!C&&d.jsx("p",{className:"text-left text-gray-800  dark:text-gray-300 rounded-md bg-white/90 dark:bg-gray-500  p-2 mt-3 cursor-pointer",onClick:()=>k(!0),ref:se,children:A}),C&&d.jsxs("div",{children:[d.jsx("textarea",{className:"w-full bg-gray-300 dark:bg-gray-500 text-gray-800 dark:text-gray-300 mt-3 p-2 ",style:{height:_e},onChange:Ne=>D(Ne.target.value),value:R,ref:z}),d.jsxs("div",{className:"flex justify-start mt-2 gap-3",children:[R!==""?d.jsx("button",{className:`text-gray-100 bg-gray-500 rounded-md px-4 py-1 hover:bg-gray-600  ${ee&&"animate-pulse"} `,onClick:()=>{le(!0),y(R).then(Ne=>{Ne?(pe(R),k(!1),le(!1)):pe("Bir hata olustu!")})},children:"Save"}):d.jsx("p",{className:"text-gray-400 bg-gray-200 rounded-md px-4 py-1  cursor-not-allowed",children:"Save"}),d.jsx("button",{className:"text-gray-800 dark:text-gray-400 bg-gray-200 rounded-md px-4 dark:bg-transparent dark:hover:bg-gray-600 hover:bg-gray-300 py-1",onClick:()=>{D(A),k(!1)},children:"Cancel"})]})]})]}):d.jsxs("div",{children:[d.jsxs("div",{className:"flex gap-3 text-gray-800 dark:text-gray-400 items-center mt-5",children:[d.jsx(T1,{size:14}),d.jsx("p",{className:"text-gray-800 dark:text-gray-400 font-semibold",children:"DESCRIPTION"})]}),!C&&d.jsx("p",{className:"text-left text-gray-800 dark:text-gray-400  bg-gray-700 p-2 mt-3 shadow-md",ref:se,children:A})]})]}),r==="Change Name"&&d.jsx("div",{className:`transform transition-transform duration-100  ${i?"translate-x-full opacity-0":"translate-x-0 opacity-100"}
               `,children:d.jsxs("div",{className:"p-3",children:[d.jsx("p",{className:"font-semibold text-left mb-1 text-gray-800 dark:text-gray-400 ",children:"BOARD NAME"}),d.jsx("input",{className:"rounded-md w-full bg-white/20 p-1 lg:p-3 text-gray-800 dark:text-gray-400 ",value:T,onChange:Ne=>x(Ne.target.value)}),T!==""?d.jsx("button",{className:"dark:bg-gray-800 dark:text-gray-400 w-full p-1 lg:p-3 rounded-md mt-3 dark:hover:bg-gray-900  bg-gray-500 hover:bg-gray-600 text-gray-100",onClick:()=>{h(T),s("Menu")},children:"Save"}):d.jsx("p",{className:"dark:bg-gray-800 dark:text-gray-400 w-full p-1 lg:p-3 rounded-md mt-3 dark:hover:bg-gray-900  bg-gray-200  text-gray-400 cursor-not-allowed",children:"Save"})]})}),r==="Menu"&&d.jsxs("div",{className:`transform transition-transform duration-100 ${i?"translate-x-full opacity-0":"translate-x-0 opacity-100"} `,children:[d.jsxs("div",{onClick:()=>n("About Board"),className:"flex gap-3 items-center p-3 hover:rounded-md hover:bg-white/20 dark:hover:bg-black/50 m-2 cursor-pointer",children:[d.jsx(fP,{className:"text-gray-800 dark:text-gray-400 w-5 h-5 min-w-5 min-h-5"}),d.jsx("div",{className:"flex flex-col items-start gap-1",children:d.jsx("p",{className:"text-gray-800 dark:text-gray-400   ",children:"About Board"})})]}),I?d.jsxs("div",{onClick:()=>n("Delete Board"),className:"flex gap-3 items-center p-3 hover:rounded-md hover:bg-white/20 dark:hover:bg-black/50 m-2 cursor-pointer",children:[d.jsx(S1,{className:"text-gray-800 dark:text-gray-400 w-5 h-5 min-w-5 min-h-5"}),d.jsx("p",{className:"text-gray-800 dark:text-gray-400 ",children:"Delete Board"})]}):d.jsxs("div",{className:"flex gap-3 items-center p-3 hover:rounded-md hover:bg-white/20 m-2 cursor-not-allowed",children:[d.jsx(S1,{className:"text-gray-500 dark:text-gray-500 w-5 h-5 min-w-5 min-h-5"}),d.jsx("p",{className:"text-gray-500 dark:text-gray-500 ",children:"Delete Board"})]}),I?d.jsxs("div",{onClick:()=>{n("Change Name")},className:"flex gap-3 items-center p-3 hover:rounded-md hover:bg-white/20 dark:hover:bg-black/50 m-2 cursor-pointer",children:[d.jsx(C1,{className:"text-gray-800 dark:text-gray-400 w-5 h-5 min-w-5 min-h-5"}),d.jsx("p",{className:"text-gray-800 dark:text-gray-400 ",children:"Change Name"})]}):d.jsxs("div",{className:"flex gap-3 items-center p-3 hover:rounded-md hover:bg-white/20 m-2 cursor-not-allowed",children:[d.jsx(C1,{className:"text-gray-500 dark:text-gray-500 w-5 h-5 min-w-5 min-h-5"}),d.jsx("p",{className:"text-gray-500 dark:text-gray-500  ",children:"Change Name"})]}),I?d.jsxs("div",{onClick:()=>n("Change Background"),className:"flex gap-3 items-center p-3 hover:rounded-md hover:bg-white/20 dark:hover:bg-black/50 m-2 cursor-pointer",children:[d.jsx(N1,{className:"text-gray-800 dark:text-gray-400 w-5 h-5 min-w-5 min-h-5"}),d.jsx("p",{className:"text-gray-800 dark:text-gray-400  ",children:"Change Background"})]}):d.jsxs("div",{className:"flex gap-3 items-center p-3 hover:rounded-md hover:bg-white/20 m-2 cursor-not-allowed",children:[d.jsx(N1,{className:"text-gray-500 dark:text-gray-500 w-5 h-5 min-w-5 min-h-5"}),d.jsx("p",{className:"text-gray-500 dark:text-gray-500 ",children:"Change Background"})]})]})]})]})};function Aj(t){return ie({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"},child:[]}]})(t)}const Gu=({boardID:t,handleBoardIsFav:e,type:n})=>{const r=v.useContext(qe);if(!r)throw new Error("No Context");const{toggleFavBoard:s,user:i,getIsBoardFav:o,setFavBoardsIDS:a,fav:c,setFav:u}=r;v.useEffect(()=>{(async()=>{if(i!=null&&i.email){const p=await o(t,i.email);e&&e(p),u(y=>({...y,[t]:p}))}})()},[]);const h=async()=>{console.log("Handle Fav"),i!=null&&i.email&&(await s(t,i.uid)?(u(p=>({...p,[t]:!p[t]})),a(p=>p?p.includes(t)?p.filter(y=>y!==t):[...p,t]:[t]),console.log("Islem basarili")):console.log("Hata olustu"))};return d.jsx("div",{onClick:h,className:"star-icon w-fit",children:c[t]?d.jsx(f0,{className:`text-gray-100 dark:text-gray-300 hover:scale-110 ${n==="card"&&"text-gray-100"} ${n==="navbar-menu"&&"text-gray-600 hover:text-gray-800 "} ${n==="board-detail"&&"text-gray-800 hover:text-gray-800 "}`}):d.jsx(Aj,{className:`text-gray-100 dark:text-gray-300  hover:scale-110 ${n==="board-detail"&&"text-gray-800 hover:text-gray-800 "} `})})},CI=(t,e,n)=>{const r=Array.from(t),[s]=r.splice(e,1);return r.splice(n,0,s),r},Rj=({itemsMap:t,source:e,destination:n})=>{const r=[...t[e.droppableId]],s=[...t[n.droppableId]],i=r[e.index];if(e.droppableId===n.droppableId){const h=CI(r,e.index,n.index).map((p,y)=>({...p,indexInList:y}));return{quoteMap:{...t,[e.droppableId]:h}}}r.splice(e.index,1),s.splice(n.index,0,i);const o=r.map((u,h)=>({...u,indexInList:h})),a=s.map((u,h)=>({...u,indexInList:h}));return{quoteMap:{...t,[e.droppableId]:o,[n.droppableId]:a}}};function p0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function NI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Pj=NI,kI=new wl("auth","Firebase",NI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qu=new sg("@firebase/auth");function Dj(t,...e){qu.logLevel<=Re.WARN&&qu.warn(`Auth (${So}): ${t}`,...e)}function Kc(t,...e){qu.logLevel<=Re.ERROR&&qu.error(`Auth (${So}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gr(t,...e){throw g0(t,...e)}function tr(t,...e){return g0(t,...e)}function m0(t,e,n){const r=Object.assign(Object.assign({},Pj()),{[e]:n});return new wl("auth","Firebase",r).create(e,{appName:t.name})}function ei(t){return m0(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jj(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&gr(t,"argument-error"),m0(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function g0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return kI.create(t,...e)}function ce(t,e,...n){if(!t)throw g0(e,...n)}function Ar(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Kc(e),new Error(e)}function Ur(t,e){t||Ar(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Oj(){return Ex()==="http:"||Ex()==="https:"}function Ex(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Oj()||_N()||"connection"in navigator)?navigator.onLine:!0}function Mj(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ur(n>e,"Short delay should be less than long delay!"),this.isMobile=xN()||EN()}get(){return Lj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0(t,e){Ur(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ar("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ar("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ar("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fj=new Ll(3e4,6e4);function v0(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Do(t,e,n,r,s={}){return RI(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=_l(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),AI.fetch()(PI(t,t.config.apiHost,n,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},i))})}async function RI(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Vj),e);try{const s=new Uj(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Nc(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nc(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Nc(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Nc(t,"user-disabled",o);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw m0(t,h,u);gr(t,h)}}catch(s){if(s instanceof $r)throw s;gr(t,"network-request-failed",{message:String(s)})}}async function Bj(t,e,n,r,s={}){const i=await Do(t,e,n,r,s);return"mfaPendingCredential"in i&&gr(t,"multi-factor-auth-required",{_serverResponse:i}),i}function PI(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?y0(t.config,s):`${t.config.apiScheme}://${s}`}class Uj{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(tr(this.auth,"network-request-failed")),Fj.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Nc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=tr(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zj(t,e){return Do(t,"POST","/v1/accounts:delete",e)}async function DI(t,e){return Do(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ka(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function $j(t,e=!1){const n=Tt(t),r=await n.getIdToken(e),s=x0(r);ce(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:ka(Sf(s.auth_time)),issuedAtTime:ka(Sf(s.iat)),expirationTime:ka(Sf(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Sf(t){return Number(t)*1e3}function x0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Kc("JWT malformed, contained fewer than 3 sections"),null;try{const s=v2(n);return s?JSON.parse(s):(Kc("Failed to decode base64 JWT payload"),null)}catch(s){return Kc("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function bx(t){const e=x0(t);return ce(e,"internal-error"),ce(typeof e.exp<"u","internal-error"),ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof $r&&Hj(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Hj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ka(this.lastLoginAt),this.creationTime=ka(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ku(t){var e;const n=t.auth,r=await t.getIdToken(),s=await hl(t,DI(n,{idToken:r}));ce(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?jI(i.providerUserInfo):[],a=qj(t.providerData,o),c=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),h=c?u:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new nm(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function Gj(t){const e=Tt(t);await Ku(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function qj(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function jI(t){return t.map(e=>{var{providerId:n}=e,r=p0(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kj(t,e){const n=await RI(t,{},async()=>{const r=_l({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=PI(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",AI.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Qj(t,e){return Do(t,"POST","/v2/accounts:revokeToken",v0(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ce(e.idToken,"internal-error"),ce(typeof e.idToken<"u","internal-error"),ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):bx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ce(e.length!==0,"internal-error");const n=bx(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await Kj(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Xi;return r&&(ce(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ce(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ce(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xi,this.toJSON())}_performRefresh(){return Ar("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(t,e){ce(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Rr{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=p0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Wj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new nm(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await hl(this,this.stsTokenManager.getToken(this.auth,e));return ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return $j(this,e)}reload(){return Gj(this)}_assign(e){this!==e&&(ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Rr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ku(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(kr(this.auth.app))return Promise.reject(ei(this.auth));const e=await this.getIdToken();return await hl(this,zj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,c,u,h;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(s=n.email)!==null&&s!==void 0?s:void 0,y=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,b=(o=n.photoURL)!==null&&o!==void 0?o:void 0,I=(a=n.tenantId)!==null&&a!==void 0?a:void 0,N=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,E=(u=n.createdAt)!==null&&u!==void 0?u:void 0,w=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:_,emailVerified:P,isAnonymous:O,providerData:j,stsTokenManager:T}=n;ce(_&&T,e,"internal-error");const x=Xi.fromJSON(this.name,T);ce(typeof _=="string",e,"internal-error"),Kr(f,e.name),Kr(p,e.name),ce(typeof P=="boolean",e,"internal-error"),ce(typeof O=="boolean",e,"internal-error"),Kr(y,e.name),Kr(b,e.name),Kr(I,e.name),Kr(N,e.name),Kr(E,e.name),Kr(w,e.name);const C=new Rr({uid:_,auth:e,email:p,emailVerified:P,displayName:f,isAnonymous:O,photoURL:b,phoneNumber:y,tenantId:I,stsTokenManager:x,createdAt:E,lastLoginAt:w});return j&&Array.isArray(j)&&(C.providerData=j.map(k=>Object.assign({},k))),N&&(C._redirectEventId=N),C}static async _fromIdTokenResponse(e,n,r=!1){const s=new Xi;s.updateFromServerResponse(n);const i=new Rr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Ku(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ce(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?jI(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Xi;a.updateFromIdToken(r);const c=new Rr({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new nm(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix=new Map;function Pr(t){Ur(t instanceof Function,"Expected a class definition");let e=Ix.get(t);return e?(Ur(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Ix.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}OI.type="NONE";const Sx=OI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qc(t,e,n){return`firebase:${t}:${e}:${n}`}class Ji{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Qc(this.userKey,s.apiKey,i),this.fullPersistenceKey=Qc("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Rr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ji(Pr(Sx),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||Pr(Sx);const o=Qc(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const h=await u._get(o);if(h){const f=Rr._fromJSON(e,h);u!==i&&(a=f),i=u;break}}catch{}const c=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new Ji(i,e,r):(i=c[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new Ji(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tx(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(VI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(LI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(BI(e))return"Blackberry";if(UI(e))return"Webos";if(w0(e))return"Safari";if((e.includes("chrome/")||MI(e))&&!e.includes("edge/"))return"Chrome";if(FI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function LI(t=zt()){return/firefox\//i.test(t)}function w0(t=zt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function MI(t=zt()){return/crios\//i.test(t)}function VI(t=zt()){return/iemobile/i.test(t)}function FI(t=zt()){return/android/i.test(t)}function BI(t=zt()){return/blackberry/i.test(t)}function UI(t=zt()){return/webos/i.test(t)}function lh(t=zt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Yj(t=zt()){var e;return lh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Xj(){return bN()&&document.documentMode===10}function zI(t=zt()){return lh(t)||FI(t)||UI(t)||BI(t)||/windows phone/i.test(t)||VI(t)}function Jj(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(t,e=[]){let n;switch(t){case"Browser":n=Tx(zt());break;case"Worker":n=`${Tx(zt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${So}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const c=e(i);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eO(t,e={}){return Do(t,"GET","/v2/passwordPolicy",v0(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO=6;class nO{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:tO,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsLowercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(i=c.containsUppercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Cx(this),this.idTokenSubscription=new Cx(this),this.beforeStateQueue=new Zj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Pr(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Ji.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await DI(this,{idToken:e}),r=await Rr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(kr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&(c!=null&&c.user)&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ku(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Mj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(kr(this.app))return Promise.reject(ei(this));const n=e?Tt(e):null;return n&&ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return kr(this.app)?Promise.reject(ei(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return kr(this.app)?Promise.reject(ei(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Pr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await eO(this),n=new nO(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new wl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Qj(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Pr(e)||this._popupRedirectResolver;ce(n,this,"argument-error"),this.redirectPersistenceManager=await Ji.create(this,[Pr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ce(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$I(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Dj(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ch(t){return Tt(t)}class Cx{constructor(e){this.auth=e,this.observer=null,this.addObserver=RN(n=>this.observer=n)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function sO(t){_0=t}function iO(t){return _0.loadJS(t)}function oO(){return _0.gapiScript}function aO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lO(t,e){const n=og(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Nu(i,e??{}))return s;gr(s,"already-initialized")}return n.initialize({options:e})}function cO(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Pr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function uO(t,e,n){const r=ch(t);ce(r._canInitEmulator,r,"emulator-config-failed"),ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=HI(e),{host:o,port:a}=dO(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),hO()}function HI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function dO(t){const e=HI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Nx(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Nx(o)}}}function Nx(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function hO(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ar("not implemented")}_getIdTokenResponse(e){return Ar("not implemented")}_linkToIdToken(e,n){return Ar("not implemented")}_getReauthenticationResolver(e){return Ar("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zi(t,e){return Bj(t,"POST","/v1/accounts:signInWithIdp",v0(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO="http://localhost";class hi extends WI{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new hi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):gr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=p0(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new hi(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Zi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Zi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Zi(e,n)}buildRequest(){const e={requestUri:fO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=_l(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml extends E0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends Ml{constructor(){super("facebook.com")}static credential(e){return hi._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zr.credential(e.oauthAccessToken)}catch{return null}}}Zr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr extends Ml{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return hi._fromParams({providerId:Tr.PROVIDER_ID,signInMethod:Tr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Tr.credentialFromTaggedObject(e)}static credentialFromError(e){return Tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Tr.credential(n,r)}catch{return null}}}Tr.GOOGLE_SIGN_IN_METHOD="google.com";Tr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends Ml{constructor(){super("github.com")}static credential(e){return hi._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return es.credential(e.oauthAccessToken)}catch{return null}}}es.GITHUB_SIGN_IN_METHOD="github.com";es.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends Ml{constructor(){super("twitter.com")}static credential(e,n){return hi._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ts.credential(n,r)}catch{return null}}}ts.TWITTER_SIGN_IN_METHOD="twitter.com";ts.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Rr._fromIdTokenResponse(e,r,s),o=kx(r);return new wo({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=kx(r);return new wo({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function kx(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu extends $r{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Qu.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Qu(e,n,r,s)}}function GI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Qu._fromErrorAndOperation(t,i,e,r):i})}async function pO(t,e,n=!1){const r=await hl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return wo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mO(t,e,n=!1){const{auth:r}=t;if(kr(r.app))return Promise.reject(ei(r));const s="reauthenticate";try{const i=await hl(t,GI(r,s,e,t),n);ce(i.idToken,r,"internal-error");const o=x0(i.idToken);ce(o,r,"internal-error");const{sub:a}=o;return ce(t.uid===a,r,"user-mismatch"),wo._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&gr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gO(t,e,n=!1){if(kr(t.app))return Promise.reject(ei(t));const r="signIn",s=await GI(t,r,e),i=await wo._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}function yO(t,e,n,r){return Tt(t).onIdTokenChanged(e,n,r)}function vO(t,e,n){return Tt(t).beforeAuthStateChanged(e,n)}function xO(t,e,n,r){return Tt(t).onAuthStateChanged(e,n,r)}const Yu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Yu,"1"),this.storage.removeItem(Yu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wO(){const t=zt();return w0(t)||lh(t)}const _O=1e3,EO=10;class KI extends qI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=wO()&&Jj(),this.fallbackToPolling=zI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);Xj()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,EO):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},_O)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}KI.type="LOCAL";const bO=KI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI extends qI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}QI.type="SESSION";const YI=QI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IO(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new uh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),c=await IO(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}uh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,c)=>{const u=b0("",20);s.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const p=f;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(h),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(){return window}function TO(t){pr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XI(){return typeof pr().WorkerGlobalScope<"u"&&typeof pr().importScripts=="function"}async function CO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function NO(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function kO(){return XI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI="firebaseLocalStorageDb",AO=1,Xu="firebaseLocalStorage",ZI="fbase_key";class Vl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function dh(t,e){return t.transaction([Xu],e?"readwrite":"readonly").objectStore(Xu)}function RO(){const t=indexedDB.deleteDatabase(JI);return new Vl(t).toPromise()}function rm(){const t=indexedDB.open(JI,AO);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Xu,{keyPath:ZI})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Xu)?e(r):(r.close(),await RO(),e(await rm()))})})}async function Ax(t,e,n){const r=dh(t,!0).put({[ZI]:e,value:n});return new Vl(r).toPromise()}async function PO(t,e){const n=dh(t,!1).get(e),r=await new Vl(n).toPromise();return r===void 0?null:r.value}function Rx(t,e){const n=dh(t,!0).delete(e);return new Vl(n).toPromise()}const DO=800,jO=3;class eS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>jO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return XI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=uh._getInstance(kO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await CO(),!this.activeServiceWorker)return;this.sender=new SO(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||NO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await rm();return await Ax(e,Yu,"1"),await Rx(e,Yu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Ax(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>PO(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Rx(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=dh(s,!1).getAll();return new Vl(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),DO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}eS.type="LOCAL";const OO=eS;new Ll(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(t,e){return e?Pr(e):(ce(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0 extends WI{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Zi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Zi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Zi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function LO(t){return gO(t.auth,new I0(t),t.bypassAuthState)}function MO(t){const{auth:e,user:n}=t;return ce(n,e,"internal-error"),mO(n,new I0(t),t.bypassAuthState)}async function VO(t){const{auth:e,user:n}=t;return ce(n,e,"internal-error"),pO(n,new I0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return LO;case"linkViaPopup":case"linkViaRedirect":return VO;case"reauthViaPopup":case"reauthViaRedirect":return MO;default:gr(this.auth,"internal-error")}}resolve(e){Ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO=new Ll(2e3,1e4);async function BO(t,e,n){if(kr(t.app))return Promise.reject(tr(t,"operation-not-supported-in-this-environment"));const r=ch(t);jj(t,e,E0);const s=tS(r,n);return new Ys(r,"signInViaPopup",e,s).executeNotNull()}class Ys extends nS{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Ys.currentPopupAction&&Ys.currentPopupAction.cancel(),Ys.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ce(e,this.auth,"internal-error"),e}async onExecution(){Ur(this.filter.length===1,"Popup operations only handle one event");const e=b0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(tr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(tr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ys.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(tr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,FO.get())};e()}}Ys.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO="pendingRedirect",Yc=new Map;class zO extends nS{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Yc.get(this.auth._key());if(!e){try{const r=await $O(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Yc.set(this.auth._key(),e)}return this.bypassAuthState||Yc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $O(t,e){const n=GO(e),r=WO(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function HO(t,e){Yc.set(t._key(),e)}function WO(t){return Pr(t._redirectPersistence)}function GO(t){return Qc(UO,t.config.apiKey,t.name)}async function qO(t,e,n=!1){if(kr(t.app))return Promise.reject(ei(t));const r=ch(t),s=tS(r,e),o=await new zO(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO=10*60*1e3;class QO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!YO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!rS(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(tr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=KO&&this.cachedEventUids.clear(),this.cachedEventUids.has(Px(e))}saveEventToCache(e){this.cachedEventUids.add(Px(e)),this.lastProcessedEventTime=Date.now()}}function Px(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function rS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function YO(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XO(t,e={}){return Do(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ZO=/^https?/;async function eL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await XO(t);for(const n of e)try{if(tL(n))return}catch{}gr(t,"unauthorized-domain")}function tL(t){const e=tm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!ZO.test(n))return!1;if(JO.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nL=new Ll(3e4,6e4);function Dx(){const t=pr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function rL(t){return new Promise((e,n)=>{var r,s,i;function o(){Dx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Dx(),n(tr(t,"network-request-failed"))},timeout:nL.get()})}if(!((s=(r=pr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=pr().gapi)===null||i===void 0)&&i.load)o();else{const a=aO("iframefcb");return pr()[a]=()=>{gapi.load?o():n(tr(t,"network-request-failed"))},iO(`${oO()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw Xc=null,e})}let Xc=null;function sL(t){return Xc=Xc||rL(t),Xc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iL=new Ll(5e3,15e3),oL="__/auth/iframe",aL="emulator/auth/iframe",lL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uL(t){const e=t.config;ce(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?y0(e,aL):`https://${t.config.authDomain}/${oL}`,r={apiKey:e.apiKey,appName:t.name,v:So},s=cL.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${_l(r).slice(1)}`}async function dL(t){const e=await sL(t),n=pr().gapi;return ce(n,t,"internal-error"),e.open({where:document.body,url:uL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lL,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=tr(t,"network-request-failed"),a=pr().setTimeout(()=>{i(o)},iL.get());function c(){pr().clearTimeout(a),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fL=500,pL=600,mL="_blank",gL="http://localhost";class jx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function yL(t,e,n,r=fL,s=pL){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},hL),{width:r.toString(),height:s.toString(),top:i,left:o}),u=zt().toLowerCase();n&&(a=MI(u)?mL:n),LI(u)&&(e=e||gL,c.scrollbars="yes");const h=Object.entries(c).reduce((p,[y,b])=>`${p}${y}=${b},`,"");if(Yj(u)&&a!=="_self")return vL(e||"",a),new jx(null);const f=window.open(e||"",a,h);ce(f,t,"popup-blocked");try{f.focus()}catch{}return new jx(f)}function vL(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xL="__/auth/handler",wL="emulator/auth/handler",_L=encodeURIComponent("fac");async function Ox(t,e,n,r,s,i){ce(t.config.authDomain,t,"auth-domain-config-required"),ce(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:So,eventId:s};if(e instanceof E0){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",AN(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof Ml){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const c=await t._getAppCheckToken(),u=c?`#${_L}=${encodeURIComponent(c)}`:"";return`${EL(t)}?${_l(a).slice(1)}${u}`}function EL({config:t}){return t.emulator?y0(t,wL):`https://${t.authDomain}/${xL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tf="webStorageSupport";class bL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=YI,this._completeRedirectFn=qO,this._overrideRedirectResult=HO}async _openPopup(e,n,r,s){var i;Ur((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await Ox(e,n,r,tm(),s);return yL(e,o,b0())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await Ox(e,n,r,tm(),s);return TO(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Ur(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await dL(e),r=new QO(e);return n.register("authEvent",s=>(ce(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Tf,{type:Tf},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Tf];o!==void 0&&n(!!o),gr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=eL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return zI()||w0()||lh()}}const IL=bL;var Lx="@firebase/auth",Mx="1.7.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function CL(t){ao(new oi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ce(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$I(t)},u=new rO(r,s,i,c);return cO(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ao(new oi("auth-internal",e=>{const n=ch(e.getProvider("auth").getImmediate());return(r=>new SL(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ys(Lx,Mx,TL(t)),ys(Lx,Mx,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NL=5*60,kL=_2("authIdTokenMaxAge")||NL;let Vx=null;const AL=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>kL)return;const s=n==null?void 0:n.token;Vx!==s&&(Vx=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function S0(t=S2()){const e=og(t,"auth");if(e.isInitialized())return e.getImmediate();const n=lO(t,{popupRedirectResolver:IL,persistence:[OO,bO,YI]}),r=_2("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=AL(i.toString());vO(n,o,()=>o(n.currentUser)),yO(n,a=>o(a))}}const s=x2("auth");return s&&uO(n,`http://${s}`),n}function RL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}sO({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=tr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",RL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});CL("Browser");const Cf=({item:t,setShowStar:e,setShowMobileStarred:n,setShowMore:r})=>{const[s,i]=v.useState(!0);if(!v.useContext(qe))throw new Error("No context");return v.useEffect(()=>{i(!1),console.log(t.id)},[t]),s?d.jsx("p",{children:"Loading"}):d.jsxs("div",{className:"transition-all duration-200 ease-in-out flex m-1 items-center justify-between hover:bg-gray-100 dark:hover:bg-gray-700  p-1 rounded-md ",children:[d.jsx(Jt,{to:`/board/${t.id}`,onClick:()=>{e(!1),n(!1),r(!1)},children:d.jsxs("div",{className:"flex justify-start items-center rounded-md cursor-pointer",children:[d.jsx("img",{src:t.bgImage,className:"min-w-10 min-h-8  w-10 h-8 rounded-md"}),d.jsx("div",{className:"ml-1 flex flex-col items-start justify-between",children:d.jsx("p",{className:"ml-1 m-0 p-0 text-slate-800 dark:text-gray-300  lg:text-base text-left",children:t.name.length>25?t.name.slice(0,24)+"...":t.name})})]})},t.id),d.jsx("div",{className:"p-1 cursor-pointer",children:d.jsx(Gu,{type:"navbar-menu",boardID:t.id})})]})},Fx=({item:t})=>d.jsxs("div",{className:"transition-all duration-200 ease-in-out flex m-1 justify-start items-center hover:bg-slate-100 dark:hover:bg-gray-700 rounded-md p-1 cursor-pointer",children:[d.jsx("img",{src:t.bgImage,className:"min-w-10 min-h-8  w-10 h-8 rounded-md"}),d.jsx("div",{className:"ml-1 flex flex-col items-start justify-between",children:d.jsx("p",{className:"ml-1 m-0 p-0 text-gray-800 dark:text-gray-300 lg:text-base text-left",children:t.name.length>25?t.name.slice(0,24)+"...":t.name})})]}),PL="/assets/board-DTHWW2RX.svg",Jc=({type:t})=>{const[e,n]=v.useState(!1),[r,s]=v.useState(null),[i,o]=v.useState([]),[a,c]=v.useState(""),[u,h]=v.useState(null),[f,p]=v.useState(!1),y=v.useRef(null),b=v.useContext(qe);if(!b)throw new Error("No Context");const{user:I,getBGImages:N,addBoard:E,getBoards:w,handleNotification:_}=b,P=async()=>{if(p(!0),I!==null){if(a===""){h("Board title can not be empty!");return}I.email&&I.displayName&&r&&await E(I.uid,a,r==null?void 0:r.url,I.email,I.displayName)&&(await w(I.uid),n(!1),c(""),_("New board added...",!0),p(!1))}},O=C=>{console.log(C),console.log(typeof C);const k=i[C];s(k)};v.useEffect(()=>{j()},[I]);const j=async()=>{const C=await N();o(C);const k=C[0];s(k)};v.useEffect(()=>{const C=k=>{y.current&&!y.current.contains(k.target)?(n(!1),console.log(e),console.log("Outside")):console.log("Inside")};return document.addEventListener("mousedown",C),()=>{document.removeEventListener("mousedown",C)}},[]);const T=async()=>{i.length>0&&r!==null&&n(!0)},x=()=>d.jsxs("div",{ref:y,children:[d.jsx("div",{className:`fixed inset-0 bg-black/50 transition-all duration-200 pointer-events-none ease-in-out z-[400] ${e?"opacity-100  ":"opacity-0"}`}),d.jsx(d.Fragment,{children:d.jsx("div",{className:`transition-all duration-200 ease-in-out z-[401] border border-slate-500 fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-[325px] lg:w-[500px] h-auto dark:bg-gray-800 bg-white shadow-lg p-5  lg:p-10 flex justify-start items-start  rounded-lg
            ${e?"scale-100 opacity-100":"scale-0 opacity-0"}`,children:d.jsxs("div",{className:"flex flex-col items-start w-full",children:[!f&&d.jsx(gd,{size:24,className:"m-1 flex self-end top-1 absolute right-1 hover:bg-gray-700 cursor-pointer hover:rounded-md text-gray-400",onClick:()=>n(!1)}),r===null?d.jsx(nb,{size:32,color:"white"}):d.jsx("div",{className:"h-32  flex items-center justify-center w-full mb-3 mt-9 ",children:d.jsx("div",{className:"p-4 items-center w-full justify-center rounded-md shadow-inner",style:{backgroundImage:`url(${r==null?void 0:r.url})`,backgroundPosition:"center",backgroundSize:"cover"},children:d.jsx("div",{style:{backgroundImage:`url(${PL})`,backgroundRepeat:"no-repeat",backgroundSize:"contain",backgroundPosition:"center"},className:"w-full h-28 flex self-center "})})}),d.jsx("p",{className:"px-0 py-1 flex mt-3 dark:text-gray-400 text-gray-900 p-2 self-start text-sm lg:text-base",children:"BOARD TITLE"}),d.jsx("input",{className:"border border-gray-400 w-full rounded-lg p-3 dark:bg-gray-700 bg-gray-200  dark:text-gray-400 text-gray-900",onChange:C=>c(C.target.value)}),d.jsx("p",{className:"px-0 py-1 mt-3 flex flex-start dark:text-gray-400 text-gray-900  p-2 text-sm lg:text-base",children:"BACKGROUND"}),d.jsx("div",{className:"grid grid-cols-4 gap-1 w-full",children:i.sort((C,k)=>C.id-k.id).map((C,k)=>d.jsxs("div",{className:"relative min-h-14 h-14 lg:h-14 lg:min-h-14 w-18 max-w-18  ",children:[r&&r.id===k?d.jsx(TI,{className:" absolute top-1 left-1 text-white border border-gray-100 rounded-full text-lg lg:text-3xl"}):"",d.jsx("div",{className:"bg-gray-600  lg:min-w-18 lg:min-h-14 rounded-md  cursor-pointer h-12 lg:h-14  shadow-inner",onClick:()=>{O(C.id)},style:{backgroundImage:`url(${C.url})`,backgroundSize:"cover"}},C.id)]}))}),u&&d.jsx("p",{children:u}),f?d.jsxs("div",{className:" mt-10 p-3 bg-gray-700  w-full rounded-lg text-gray-500 cursor-not-allowed animate-pulse flex items-center justify-center gap-3",children:[d.jsx(dl,{size:24,className:" animate-spin text-gray-500"}),d.jsx("button",{className:"cursor-not-allowed",children:"CREATING..."})]}):a?d.jsx("button",{className:"mt-10 p-3 bg-blue-500 hover:bg-blue-600 w-full rounded-lg text-gray-100  text-sm lg:text-base",onClick:P,children:"CREATE"}):d.jsx("button",{className:"mt-10 p-3 bg-gray-400  w-full rounded-lg text-gray-200 cursor-not-allowed text-sm lg:text-base",children:"CREATE"})]})})})]});return t==="sidebar-button"?d.jsxs("div",{children:[d.jsx(em,{size:24,className:"text-gray-400 hover:bg-gray-700 p-1",onClick:T}),x()]}):t==="navbar-button"?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:" transition-all ease-in-out duration-200 text-white dark:text-white dark:bg-blue-500 dark:hover:bg-blue-600 backdrop-blur-3xl text-md mx-1 bg-blue-500 hover:bg-blue-600  px-4 py-1 cursor-pointer rounded ml-3 flex items-center",onClick:T,children:d.jsx("h1",{className:" text-left",children:"Create"})}),x()]}):t==="mobile-navbar"?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"text-white text-1xl mx-1 bg-blue-500 hover:bg-blue-600 px-4 py-1 cursor-pointer rounded ml-3 flex items-center",onClick:T,children:d.jsx("h1",{className:" text-left",children:"+"})}),x()]}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:" min-w-40 h-20 lg:w-52 lg:min-h-24 lg:min-w-52 lg:h-24 lg:max-h-24 lg:max-w-52 cursor-pointer rounded-md m-1 bg-gray-300 hover:bg-gray-400 dark:bg-gray-600 dark:hover:bg-gray-500",onClick:T,children:d.jsxs("div",{className:"flex items-center  justify-center h-full ",children:[d.jsx(em,{className:"text-gray-500 dark:text-gray-200 w-5 h-5 lg:w-5 lg:h-5"}),d.jsx("p",{className:"ml-3 lg:text-base text-sm dark:text-gray-200 text-gray-800",children:"Create Board"})]})}),x()]})},Bx=({type:t,setShowMobileSearchDiv:e})=>{const n=v.useRef(null),[r,s]=v.useState(!1),[i,o]=v.useState(""),[a,c]=v.useState(),[u,h]=v.useState(!1),f=v.useRef(null),p=v.useContext(qe);if(!p)throw new Error("No context");const{boards:y,teamBoards:b}=p;v.useEffect(()=>{t==="mobile"&&f.current&&(f.current.focus(),console.log("Focus olmasi lazim"))},[t]),v.useEffect(()=>{E()},[i]);const I=()=>{s(!0)},N=()=>{u||setTimeout(()=>{s(!1),o("")},100)},E=()=>{if(i.length>2){const _=[...y,...b].filter(P=>P.name.toLowerCase().includes(i.toLowerCase()));console.log(_),c(_)}else c([])},w=()=>{h(!0),setTimeout(()=>{h(!1),o("")},100)};return t==="mobile"?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"w-52 flex border  border-gray-400 rounded-md relative py-1 items-center   ",ref:f,children:[d.jsx(Cv,{className:"text-gray-800 dark:text-gray-400 absolute pointer-events-none ml-1 text-sm"}),d.jsx("input",{className:" w-full text-sm bg-transparent text-gray-800 dark:text-gray-400 pl-8",onChange:_=>o(_.target.value),value:i,placeholder:"Search board..."})]}),a&&i.length>2&&d.jsx("div",{className:"absolute left-0 top-12 bg-white dark:bg-gray-800 w-full z-50  min-w-full mt-2  max-h-60 overflow-auto p-1 ",children:i!==""&&a&&a.length>0?a.map(_=>d.jsx(Jt,{to:`/board/${_.id}`,onMouseDown:w,onClick:()=>{e&&e(!1)},children:d.jsxs("div",{className:"flex items-center p-1 hover:bg-gray-200 bg-white dark:bg-gray-700 m-1",children:[d.jsx("img",{src:_.bgImage,className:"w-8 h-6 m-w-8 min-h-6 rounded-md",alt:"board bg"}),d.jsx("div",{className:"flex flex-col items-start",children:d.jsx("p",{className:"text-gray-800 dark:text-gray-300 ml-2 mb-0 text-sm",children:_.name})})]})},_.id)):d.jsxs("p",{className:"text-gray-800 dark:text-gray-400 p-4 text-sm",children:["Sorry, we couldn’t find any boards related to ‘",i,"’."]})})]}):d.jsxs("div",{className:`hidden lg:flex border rounded-md relative py-1 border-opacity-20 transition-all duration-300  ease-in-out  ${r?"w-full flex-1 ml-10 border-gray-900 dark:border-blue-400   ":" border-gray-900 dark:border-gray-500  "} `,ref:n,children:[d.jsx(Cv,{size:24,className:`text-gray-800 dark:text-gray-400 absolute pointer-events-none ml-1 ${r&&"animate-pulse"} `}),d.jsx("input",{className:`bg-transparent focus:outline-none text-gray-800 dark:text-gray-300 placeholder-gray-700 dark:placeholder-gray-500 ${r?"pl-8":" pl-8"}`,onFocus:I,onBlur:N,onChange:_=>o(_.target.value),value:i,placeholder:"Search board..."}),r&&i.length>2&&a&&d.jsx("div",{className:"absolute mt-9 bg-white dark:bg-gray-800 w-full z-50 rounded-md border-opacity-20 border border-gray-500 min-w-full  max-h-60 overflow-auto p-1",children:a&&a.length>0?a.map(_=>d.jsx(Jt,{to:`/board/${_.id}`,onMouseDown:w,onClick:()=>{s(!1)},children:d.jsxs("div",{className:"flex items-center p-1 hover:bg-gray-200 dark:hover:bg-gray-700",children:[d.jsx("img",{src:_.bgImage,className:"w-12 h-10 m-w-12 min-h-8 rounded-md",alt:"board bg"}),d.jsx("div",{className:"flex flex-col items-start",children:d.jsx("p",{className:"text-gray-800 dark:text-gray-200 ml-2 mb-0",children:_.name})})]})},_.id)):d.jsxs("p",{className:"text-gray-800 dark:text-gray-400 p-4",children:["Sorry, we couldn’t find any boards related to ‘",i,"’."]})})]})},Ux=({item:t})=>d.jsxs("div",{className:"transition-all duration-200 ease-in-out flex m-1 justify-start items-center hover:bg-slate-200 dark:hover:bg-gray-700  rounded-md p-1 cursor-pointer",children:[d.jsx("img",{src:t.bgImage,className:"min-w-10 min-h-8  w-10 h-8 rounded-md"}),d.jsx("div",{className:" flex flex-col ml-1 text-left",children:t.name.length>18?d.jsxs("p",{className:"ml-1 text-gray-900 dark:text-gray-300  text-left",children:[t.name.substring(0,18)," ..."]}):d.jsx("p",{className:"ml-1 text-gray-900 dark:text-gray-300  text-left",children:t.name})})]}),zx="/assets/no_starred-D8YMbTWs.svg",sm="/assets/zirello-white-DaUQVoCc.png",im="/assets/zirello-dark-wyqdIhyL.png",sS="/assets/user-vTumSY3j.png",DL="data:image/svg+xml,%3csvg%20width='64'%20height='48'%20viewBox='0%200%2064%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='64'%20height='48'%20fill='white'/%3e%3crect%20x='6'%20y='18'%20width='10'%20height='24'%20rx='3'%20fill='%23DCDFE4'/%3e%3crect%20x='20'%20y='18'%20width='10'%20height='20'%20rx='3'%20fill='%23DCDFE4'/%3e%3crect%20x='34'%20y='18'%20width='10'%20height='16'%20rx='3'%20fill='%23DCDFE4'/%3e%3crect%20x='48'%20y='18'%20width='10'%20height='24'%20rx='3'%20fill='%23DCDFE4'/%3e%3cmask%20id='path-5-outside-1_519_521375'%20maskUnits='userSpaceOnUse'%20x='0'%20y='0'%20width='64'%20height='13'%20fill='black'%3e%3crect%20fill='white'%20width='64'%20height='13'/%3e%3cpath%20d='M0%200H64V12H0V0Z'/%3e%3c/mask%3e%3cpath%20d='M64%2011H0V13H64V11Z'%20fill='%23091E42'%20fill-opacity='0.14'%20mask='url(%23path-5-outside-1_519_521375)'/%3e%3crect%20x='6'%20y='4'%20width='12'%20height='4'%20rx='2'%20fill='%23DCDFE4'/%3e%3crect%20x='54'%20y='4'%20width='4'%20height='4'%20rx='2'%20fill='%23DCDFE4'/%3e%3c/svg%3e",jL="data:image/svg+xml,%3csvg%20width='64'%20height='48'%20viewBox='0%200%2064%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='64'%20height='48'%20fill='%23161A1D'/%3e%3crect%20x='6'%20y='18'%20width='10'%20height='24'%20rx='3'%20fill='%23454F59'/%3e%3crect%20x='20'%20y='18'%20width='10'%20height='20'%20rx='3'%20fill='%23454F59'/%3e%3crect%20x='34'%20y='18'%20width='10'%20height='16'%20rx='3'%20fill='%23454F59'/%3e%3crect%20x='48'%20y='18'%20width='10'%20height='24'%20rx='3'%20fill='%23454F59'/%3e%3cmask%20id='path-5-outside-1_519_521374'%20maskUnits='userSpaceOnUse'%20x='0'%20y='0'%20width='64'%20height='13'%20fill='black'%3e%3crect%20fill='white'%20width='64'%20height='13'/%3e%3cpath%20d='M0%200H64V12H0V0Z'/%3e%3c/mask%3e%3cpath%20d='M64%2011H0V13H64V11Z'%20fill='%23A6C5E2'%20fill-opacity='0.160784'%20mask='url(%23path-5-outside-1_519_521374)'/%3e%3crect%20x='6'%20y='4'%20width='12'%20height='4'%20rx='2'%20fill='%23454F59'/%3e%3crect%20x='54'%20y='4'%20width='4'%20height='4'%20rx='2'%20fill='%23454F59'/%3e%3c/svg%3e",pt=({w:t,rounded:e})=>d.jsxs("div",{className:`bg-gray-300 dark:bg-gray-600 h-full relative w-${t}  cursor-pointer overflow-hidden animate-pulse ${e?"rounded-full":"rounded-md "}`,children:[d.jsx("div",{className:"absolute inset-0 bg-cover bg-center filter brightness-50 animate-pulse"}),d.jsx("div",{className:"relative h-full w-full flex flex-col justify-between p-3 z-10"})]}),om=({show:t})=>{const e=v.useContext(qe),[n,r]=v.useState(!1),[s,i]=v.useState(!1),[o,a]=v.useState(!1),c=v.useRef(null),u=v.useRef(null),h=v.useRef(null),f=v.useRef(null),[p,y]=v.useState(!1),b=v.useRef(null),I=v.useRef(null),N=v.useRef(null),E=v.useRef(null),w=v.useRef(null),_=v.useRef(null),[P,O]=v.useState(!1),[j,T]=v.useState(!1),[x,C]=v.useState(!1),[k,R]=v.useState(!1),[D,A]=v.useState(!1),pe=v.useRef(null),[se,_e]=v.useState(null),[me,W]=v.useState(null),[X,ee]=v.useState(null),[le,he]=v.useState(!1);if(!e)throw new Error("No Context");const{user:z,boards:We,getBoards:ct,teamBoards:Oe,favBoardsIDS:Ie}=e,jn=S0(),$t=gi(),Ne=K=>{W(K),localStorage.setItem("theme",K)};v.useEffect(()=>{const K=Me=>{c.current&&!c.current.contains(Me.target)&&u.current&&!u.current.contains(Me.target)&&(r(!1),he(!1))};return document.addEventListener("mousedown",K),()=>{document.removeEventListener("mousedown",K)}},[]),v.useEffect(()=>{const K=Me=>{I.current&&!I.current.contains(Me.target)&&b.current&&!b.current.contains(Me.target)&&y(!1)};return document.addEventListener("mousedown",K),()=>{document.removeEventListener("mousedown",K)}},[]),v.useEffect(()=>{const K=Me=>{f.current&&!f.current.contains(Me.target)&&h.current&&!h.current.contains(Me.target)&&i(!1)};return document.addEventListener("mousedown",K),()=>{document.removeEventListener("mousedown",K)}},[]),v.useEffect(()=>{const K=Me=>{_.current&&!_.current.contains(Me.target)&&w.current&&!w.current.contains(Me.target)&&a(!1)};return document.addEventListener("mousedown",K),()=>{document.removeEventListener("mousedown",K)}},[]),v.useEffect(()=>{const K=Me=>{E.current&&!E.current.contains(Me.target)&&E.current&&!E.current.contains(Me.target)&&O(!1)};return document.addEventListener("mousedown",K),()=>{document.removeEventListener("mousedown",K)}},[]),v.useEffect(()=>{const K=Me=>{pe.current&&!pe.current.contains(Me.target)&&A(!1)};return document.addEventListener("mousedown",K),()=>{document.removeEventListener("mousedown",K)}},[]);const kt=()=>{r(K=>!K),n||he(!1)},dt=async()=>{await jn.signOut().then(()=>$t("/login")),r(!1)};v.useEffect(()=>{z&&(ct(z==null?void 0:z.uid),_e(z.photoURL))},[z]);const nn=K=>{$t(K)},yr=()=>{A(K=>!K),console.log("Mobile search "+D)},vr=()=>{_e(sS)};return v.useEffect(()=>{const K=localStorage.getItem("theme");K&&W(K)},[]),v.useEffect(()=>{me==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[me]),v.useEffect(()=>{const K=[...Oe,...We];ee(K)},[Oe,We]),z?d.jsx("div",{className:`relative  h-12 flex items-center justify-between mx-0 mt-0 w-full lg:p-5 ${t==="board"?"bg-transparent ":"bg-gray-200 dark:bg-gray-900 "}`,children:d.jsxs("div",{className:" flex items-center justify-between w-full ",children:[t==="board"&&d.jsx("div",{className:"absolute h-12 w-full inset-0 brightness-90 bg-white/50  dark:brightness-30 backdrop-blur-3xl  "}),d.jsxs("div",{className:"hidden lg:flex md:flex sm:flex items-center w-fit ",children:[d.jsx(Jt,{to:"/",className:"relative",children:me==="dark"?d.jsx("img",{src:sm,className:"min-w-24 max-w-24"}):d.jsx("img",{src:im,className:"min-w-24 max-w-24"})}),d.jsx("div",{className:"transition-all duration-200 ease-in-out relative text-gray-900 dark:text-gray-300 dark:hover:bg-white/10 text-md mx-1 hover:bg-black/10 px-4 py-1 cursor-pointer rounded ml-3 flex items-center",onClick:()=>nn("/boards"),children:d.jsx("h1",{className:" text-left",children:"Boards"})}),d.jsxs("div",{className:"relative",ref:h,children:[d.jsxs("div",{className:`transition-all duration-200 ease-in-out text-gray-900 dark:text-gray-300 text-md mx-1 dark:hover:bg-white/10 hover:bg-black/10 px-4 py-1 cursor-pointer rounded ml-3 flex items-center ${s&&"bg-black/10 dark:bg-white/10 "}`,onClick:()=>i(K=>!K),children:[d.jsx("h1",{className:" text-left",children:"Recent"}),d.jsx("i",{children:d.jsx(Ic,{size:20,className:"ml-1"})})]}),s&&d.jsx("div",{className:"border-opacity-20 z-30 max-h-80 overflow-auto border border-gray-600 absolute w-96 bg-white dark:bg-gray-800  flex flex-col justify-start items-start rounded-md p-3 ml-3 mt-3 shadow-2xl",ref:f,children:d.jsxs("ul",{className:"w-full text-left",children:[X&&X.sort((K,Me)=>Me.lastUsingDate.seconds-K.lastUsingDate.seconds).map(K=>d.jsx(Jt,{to:`/board/${K.id}`,onClick:()=>i(!1),children:d.jsx(Fx,{item:K})},K.id)),!(X!=null&&X.length)&&d.jsx("p",{className:"text-gray-400",children:"No Recent"})]})})]}),d.jsxs("div",{className:"relative",ref:b,children:[d.jsxs("div",{className:`transition-all duration-200 ease-in-out text-gray-900 dark:text-gray-300 text-md mx-1 dark:hover:bg-white/10 hover:bg-black/10 px-4 py-1 cursor-pointer rounded ml-3 flex items-center ${p&&"bg-black/10 dark:bg-white/10"}`,onClick:()=>y(K=>!K),children:[d.jsx("h1",{className:" text-left",children:"Starred"}),d.jsx("i",{children:d.jsx(Ic,{size:20,className:"ml-1"})})]}),p&&d.jsx("div",{className:"border-opacity-20 max-h-80 overflow-auto absolute w-96 bg-white dark:bg-gray-800  flex flex-col justify-start items-start rounded-md p-3 ml-3 mt-3 z-40 border border-gray-600 shadow-2xl",ref:I,children:d.jsxs("ul",{className:"w-full text-left",children:[Oe&&Oe.filter(K=>Ie==null?void 0:Ie.some(Me=>Me===K.id)).map(K=>d.jsx(Cf,{item:K,setShowStar:y,starDivRef:N,setShowMobileStarred:C,setShowMore:O},K.id)),Ie&&(Ie==null?void 0:Ie.length)>0?We.filter(K=>Ie==null?void 0:Ie.some(Me=>Me===K.id)).map(K=>d.jsx(Cf,{item:K,setShowStar:y,starDivRef:N,setShowMobileStarred:C,setShowMore:O},K.id)):d.jsxs("div",{children:[d.jsx("img",{src:zx,className:"w-full h-30"}),d.jsx("p",{className:"text-gray-900 dark:text-gray-300 text-center",children:"Star important boards to access them quickly and easily."})]})]})})]}),Oe.length>0&&d.jsxs("div",{className:"relative",ref:w,children:[d.jsxs("div",{className:`transition-all duration-200 ease-in-out text-gray-900 dark:text-gray-300 text-md mx-1 dark:hover:bg-white/10 hover:bg-black/10 px-4 py-1 cursor-pointer rounded ml-3 flex items-center ${o&&"bg-black/10 dark:bg-white/10"}`,onClick:()=>a(K=>!K),children:[d.jsx("h1",{className:" text-left",children:"Team Boards"}),d.jsx("i",{children:d.jsx(Ic,{size:20,className:"ml-1"})})]}),o&&d.jsx("div",{className:"border-opacity-20 max-h-80 overflow-auto border border-gray-600 absolute w-96 bg-white dark:bg-gray-800  flex flex-col justify-start items-start rounded-md p-3 ml-3 mt-3 z-30 shadow-2xl",ref:_,children:d.jsx("ul",{className:"w-full text-left",children:Oe.map(K=>d.jsx(Jt,{to:`/board/${K.id}`,onClick:()=>a(!1),children:d.jsx(Ux,{item:K})},K.id))})})]}),d.jsx("div",{className:"relative sm:hidden lg:block",children:d.jsx(Jc,{type:"navbar-button"})}),d.jsx("div",{className:"relative sm:block lg:hidden",children:d.jsx(Jc,{type:"mobile-navbar"})})]}),d.jsxs("div",{className:"relative flex items-center  lg:hidden sm:hidden",children:[d.jsx(Jt,{to:"/",className:"relative",children:me==="dark"?d.jsx("img",{src:sm,className:"min-w-24 max-w-24"}):d.jsx("img",{src:im,className:"min-w-24 max-w-24"})}),d.jsxs("div",{className:"relative block sm:hidden",ref:E,children:[d.jsxs("div",{className:`flex text-gray-900 dark:text-gray-300 text-md mx-1 hover:bg-black/10 px-4 py-1 cursor-pointer rounded ml-3  items-center ${P&&"bg-gray-300 dark:bg-gray-800"}`,onClick:()=>{O(K=>!K),T(!1),C(!1),R(!1)},children:[d.jsx("h1",{className:" text-left",children:"More"}),d.jsx("i",{children:d.jsx(Ic,{size:20,className:"ml-1"})})]}),P&&d.jsxs("div",{className:"absolute bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-300 rounded-md shadow-lg z-50 w-72 -left-5 mt-2 flex flex-col gap-3 items-start p-3 border border-gray-400 dark:border-gray-700",children:[!j&&!x&&!k&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"flex justify-between w-full cursor-pointer",onClick:()=>{$t("/boards"),O(!1)},children:d.jsx("p",{className:"",children:"Boards"})}),d.jsxs("div",{className:"flex justify-between w-full cursor-pointer",onClick:()=>T(K=>!K),children:[d.jsx("p",{className:"",children:"Recent Boards"}),d.jsx(hf,{size:24,className:"ml-1 "})]}),d.jsxs("div",{className:"flex justify-between w-full cursor-pointer",onClick:()=>C(K=>!K),children:[d.jsx("p",{className:"",children:"Starred Boards"}),d.jsx(hf,{size:24,className:"ml-1 "})]}),Oe&&Oe.length>0&&d.jsxs("div",{className:"flex justify-between w-full cursor-pointer",onClick:()=>{R(K=>!K)},children:[d.jsx("p",{className:"",children:"Team Boards"}),d.jsx(hf,{size:24,className:"ml-1 "})]})]}),j&&d.jsxs("div",{className:" w-full",children:[d.jsxs("div",{className:"flex gap-1 items-center justify-between text-gray-900 dark:text-gray-300 w-full h-7 mb-4",children:[d.jsx(df,{className:"text-2xl text-gray-900 dark:text-gray-300 cursor-pointer",onClick:()=>T(!1)}),d.jsx("p",{children:"Recent Boards"}),d.jsx(uf,{className:"text-2xl text-gray-900 dark:text-gray-300 cursor-pointer",onClick:()=>{O(!1),T(!1)}})]}),We.length>0?We.sort((K,Me)=>Me.lastUsingDate.seconds-K.lastUsingDate.seconds).map(K=>d.jsx(Jt,{to:`/board/${K.id}`,onClick:()=>{T(!1),O(!1)},children:d.jsx(Fx,{item:K})},K.id)):d.jsx("p",{children:"No Recent"})]}),x&&d.jsxs("div",{className:" w-full",children:[d.jsxs("div",{className:"flex gap-1 items-center justify-between text-gray-900 dark:text-gray-300 w-full h-7 mb-4",children:[d.jsx(df,{className:"text-2xl text-gray-900 dark:text-gray-300 cursor-pointer",onClick:()=>C(!1)}),d.jsx("p",{children:"Starred Boards"}),d.jsx(uf,{className:"text-2xl text-gray-900 dark:text-gray-300 cursor-pointer",onClick:()=>{O(!1),C(!1)}})]}),Ie&&(Ie==null?void 0:Ie.length)>0?We.filter(K=>Ie==null?void 0:Ie.some(Me=>Me===K.id)).map(K=>d.jsx(Cf,{item:K,setShowStar:y,starDivRef:N,setShowMobileStarred:C,setShowMore:O},K.id)):d.jsxs("div",{children:[d.jsx("img",{src:zx,className:"w-full h-30"}),d.jsx("p",{className:"text-gray-900 dark:text-gray-300 text-center",children:"Star important boards to access them quickly and easily."})]})]}),k&&d.jsxs("div",{className:" w-full",children:[d.jsxs("div",{className:"flex gap-1 items-center justify-between text-gray-900 dark:text-gray-300 w-full h-7 mb-4",children:[d.jsx(df,{className:"text-2xl text-gray-900 dark:text-gray-300 cursor-pointer",onClick:()=>R(!1)}),d.jsx("p",{children:"Team Boards"}),d.jsx(uf,{className:"text-2xl text-gray-900 dark:text-gray-300 cursor-pointer",onClick:()=>{O(!1),T(!1)}})]}),Oe?Oe.map(K=>d.jsx(Jt,{to:`/board/${K.id}`,onClick:()=>{T(!1),O(!1)},children:d.jsx(Ux,{item:K})},K.id)):d.jsx("p",{className:"text-gray-200",children:"No Team Boards"})]})]})]}),d.jsx(Jc,{type:"mobile-navbar"})]}),d.jsxs("div",{className:"z-10 flex items-center gap-2 flex-1 justify-end w-full",children:[D&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"fixed inset-0 bg-black/20 opacity-70 z-40"}),d.jsx("div",{className:"absolute flex flex-col justify-center items-center top-12 left-0  bg-white/50 dark:bg-black/50 backdrop-blur-3xl w-full p-3 z-50 border-b-2 border-gray-500 shadow-2xl ",ref:pe,children:d.jsx(Bx,{type:"mobile",setShowMobileSearchDiv:A})})]}),d.jsx(Bx,{type:"lg"}),d.jsx(lN,{onClick:yr,className:"lg:hidden  md:block text-gray-900 dark:text-gray-300 w-7 h-7 mr-4 min-w-7 min-h-7"}),d.jsxs("div",{className:"flex items-center relative",children:[d.jsx("div",{ref:u,children:z&&se&&d.jsx("img",{className:"rounded-full mr-1 w-8 h-8 min-w-8 min-h-8",src:se,onError:vr,width:32,height:32,onClick:kt})}),d.jsx("div",{className:"z-[9000]",children:d.jsxs("div",{className:`z-[9000] absolute lg:-right-2 lg:top-10 right-0 top-10  bg-gray-200 dark:bg-gray-800 backdrop-blur-3xl w-72 rounded-lg shadow-xl border border-gray-500 border-opacity-20 
                  transition-all duration-300 ease-in-out transform 
                  ${n?"opacity-100 scale-100 pointer-events-auto":"opacity-0 scale-75 pointer-events-none"}
                `,ref:c,children:[d.jsxs("div",{className:"flex gap-4 p-3 mt-3",children:[z&&se&&d.jsx("img",{src:se,className:"rounded-full w-10 h-10"}),d.jsxs("div",{className:"flex flex-col items-start",children:[d.jsx("p",{className:"text-gray-900 dark:text-gray-300",children:z.displayName}),d.jsx("p",{className:"text-gray-900 dark:text-gray-300 text-sm",children:z.email})]})]}),d.jsx("div",{className:"border-opacity-20 border-b border-gray-500 mt-1"}),d.jsxs("div",{className:"z-50 flex flex-col gap-2 mt-3 text-md w-full mb-3 ",children:[d.jsxs("div",{className:"relative z-50 ",children:[d.jsxs("div",{className:` flex w-full items-center justify-between cursor-pointer hover:bg-white/30 dark:hover:dark:bg-black/20 py-2 px-4  ${le?"bg-white/30 border-l-2 border-blue-400 dark:dark:bg-black/20 ":"border-l-2 border-transparent"}`,onClick:()=>{he(K=>!K)},children:[d.jsx("p",{className:"dark:text-gray-300",children:"Theme"}),d.jsx(sP,{className:"text-black dark:text-gray-300"})]}),le&&d.jsxs("div",{className:"lg:absolute flex flex-col gap-4 lg:top-0 lg:-left-72 lg:-ml-1  w-full bg-gray-200 dark:bg-gray-800 backdrop-blur-3xl lg:border border-gray-500  lg:shadow-xl p-3 rounded-md z-[9000] ",children:[d.jsxs("div",{onClick:()=>Ne("light"),className:`flex gap-4 items-center p-3 rounded-md  ${me==="light"?"bg-white/30 hover:bg-white/30 dark:hover:bg-black/20 ":"bg-transparent hover:bg-white/30 dark:hover:bg-black/20 dark:text-gray-300"}`,children:[d.jsx("img",{src:DL,className:"w-8 lg:w-16 rounded-md"}),d.jsx("p",{children:"Light"})]}),d.jsxs("div",{onClick:()=>Ne("dark"),className:`flex gap-4 items-center p-3 rounded-md ${me==="dark"?"bg-white/30 hover:bg-white/30 dark:bg-black/20 dark:hover:bg-black/20 text-gray-300":"bg-transparent dark:hover:bg-black/20 hover:bg-white/30"}`,children:[d.jsx("img",{src:jL,className:"w-8 lg:w-16 rounded-md"}),d.jsx("p",{children:"Dark"})]})]})]}),d.jsx("div",{className:"flex w-full items-center justify-between cursor-pointer hover:bg-white/30 dark:hover:dark:bg-black/20  py-2 px-4",onClick:dt,children:d.jsx("p",{className:"dark:text-gray-300",children:"Log out"})})]})]})})]})]})]})}):d.jsxs("div",{className:"h-12 bg-gray-200 dark:bg-gray-800 flex justify-between p-1 px-5 ",children:[d.jsxs("div",{className:"flex gap-3",children:[d.jsx(pt,{w:"32"}),d.jsx(pt,{w:"40"}),d.jsx(pt,{w:"40"}),d.jsx(pt,{w:"40"})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx(pt,{w:"72"}),d.jsx(pt,{w:"12"}),d.jsx(pt,{w:"12"})]})]})},OL=()=>{const{id:t}=TC(),[e,n]=v.useState(null),[r,s]=v.useState(!0),[i,o]=v.useState(null),[a,c]=v.useState(!0),[u,h]=v.useState(!1),[f,p]=v.useState(!1),[y,b]=v.useState("Menu"),[I,N]=v.useState(!1),[E,w]=v.useState(!1),_=$E(N2),P=[1,2,3],[O,j]=v.useState(!1),T=gi(),x=we=>{p(!0),b(we),setTimeout(()=>{p(!1)},100)},C=we=>{e&&n({...e,bgImage:we})};v.useEffect(()=>{nn()},[r]);const k=async we=>{if(e){const De=e.name;e.name=we,await he(e==null?void 0:e.id,we)?le("Board name has changed!",!0):e.name=De}},R=async()=>{j(!0),e!==null&&await z(e.id)&&(j(!1),le("Board has deleted!",!0),setTimeout(()=>{T("/boards")},100))},D=async we=>{if(e!==null){const De=await ee(e==null?void 0:e.id,we);le("Background has changed!",!0),console.log(De)}},A=v.useContext(qe);if(!A)throw new Error("No Context");const{lists:pe,user:se,getListsOfBoard:_e,getItem:me,getBoardDetails:W,moveList:X,updateBackground:ee,handleNotification:le,updateBoardName:he,deleteBoard:z,updateBoardDesc:We,checkUserIsBoardAdmin:ct,canDraggable:Oe,setLists:Ie,db:jn,setDB:$t,updateLastUsingDate:Ne,setItemDragging:kt,setBoardBG:dt}=A,nn=async()=>{if(t===void 0||se===null)return;const we=await ct(t,se.uid);N(we)};v.useEffect(()=>{c(!0),s(!0),o(null),yr()},[t]);const yr=async()=>{c(!0),await vr().then(()=>c(!1)).then(()=>Me()).then(()=>s(!1))},vr=async()=>{if(t!=null){const we=await W(t);return n(we),dt(!0),!0}else return!1},K=()=>{console.log("On delete list"),t&&_e(t).then(()=>console.log("Lists loaded successfully")).catch(we=>console.error("Lists cannot be loaded",we))};v.useEffect(()=>{t&&(console.log("ID bulunamadi"+t),jo())},[t]);const Me=async()=>{if(!t)return!1;try{return await _e(t),!0}catch{return!1}},jo=async()=>{if(!t||!se)return;const we=st.now(),De=await Ne(t,we,se.uid);console.log(De)};v.useEffect(()=>{o(pe);const we=[];pe.forEach(De=>{console.log("Item ID:",De.id),we.push(De.id)}),console.log(we),me(we)},[pe]);const xi=async we=>{if(e===null)return!1;const De=e.desc;try{return e.desc=we,await We(e==null?void 0:e.id,we),console.log("Desc degisti"),!0}catch{return e.desc=De,le("Server Error",!0),console.log("error"),!1}},js=we=>{const{type:De}=we;if(De==="column"&&w(!0),De==="item"&&kt(!0),!Oe)return console.log(Oe),!1},wi=async we=>{if(w(!1),!Oe)return!1;if(!we.destination)return;const{source:De,destination:At,type:Gn}=we;if(Gn==="item"&&kt(!1),Gn==="column"){const hn=CI(pe,De.index,At.index).map((_n,_i)=>({..._n,indexInBoard:_i}));if(Ie(hn),o(hn),(e==null?void 0:e.id)===void 0)return;await X(At.index,e==null?void 0:e.id,Ie,hn);return}const ht=pe.reduce((Ht,hn)=>(Ht[hn.id]=jn.filter(_n=>_n.listID===hn.id),Ht),{}),{quoteMap:xt}=Rj({itemsMap:ht,source:De,destination:At}),sr=Object.entries(xt).flatMap(([Ht,hn])=>hn.map(_n=>({..._n,listID:Ht})));$t(sr);const Os=Hp(_);sr.forEach(Ht=>{const hn=Se(_,"items",Ht.id);Os.update(hn,{listID:Ht.listID,indexInList:Ht.indexInList})});try{await Os.commit(),console.log("Firebase güncellemesi başarılı")}catch(Ht){console.error("Firebase güncellemesi sırasında hata: ",Ht)}};return d.jsxs("div",{style:{backgroundImage:`url(${e==null?void 0:e.bgImage})`,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover"},children:[d.jsx(om,{show:"board"}),d.jsx(b8,{onDragEnd:wi,onDragStart:we=>js(we),children:d.jsx(SI,{droppableId:"main-board",direction:"horizontal",type:"column",children:we=>v.createElement("div",{className:"flex flex-col h-[calc(100vh-3rem)]",ref:we.innerRef,...we.droppableProps,key:"main-board"},a&&r?d.jsx("div",{className:"flex flex-col justify-center  items-center  bg-slate-900 h-0 "}):e&&e?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:" relative flex flex-row justify-between bg-transparent  border-slate-400 px-1 lg:px-10 ",children:[d.jsx("div",{className:"absolute h-14 w-full inset-0 brightness-120 bg-white/50 dark:bg-black/50  backdrop-blur-3xl  "}),d.jsxs("div",{className:" relative h-14 flex items-center",children:[d.jsx("div",{className:"ml-2 mr-2",children:d.jsx(Gu,{boardID:e.id,type:"board-detail"})}),u&&e&&(e==null?void 0:e.name.length)>10?d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"hidden lg:block font-bold text-sm lg:text-lg text-gray-900 dark:text-gray-300  ",children:e.name}),d.jsxs("p",{className:"lg:hidden font-bold text-sm lg:text-lg text-gray-900 dark:text-gray-300 ",children:[e.name.substring(0,5),d.jsx("span",{children:"..."})]})]}):d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"hidden lg:block text-gray-900 dark:text-gray-300 font-bold text-sm lg:text-lg",children:e.name}),d.jsx("p",{className:"text-gray-900 dark:text-gray-300 font-bold text-sm lg:hidden",children:e.name.length>25?e.name.slice(0,24)+" ...":e.name})]})]}),d.jsxs("div",{className:"relative flex items-center justify-between",children:[d.jsx("div",{className:"block lg:hidden ",children:d.jsx(_x,{boardID:e.id,type:"mobile-board"})}),d.jsx("div",{className:"hidden lg:block transition-all duration-1000 ease-in-out",children:d.jsx(_x,{boardID:e.id,type:"board"})}),d.jsx(kj,{showBoardSettingsModal:u,setShowBoardSettingsModal:h,handleMenuChange:x,rightMenu:y,setRightMenu:b,isAnimating:f,changeBackground:C,currentBgURL:e.bgImage,_updateBackground:D,currentBoardName:e.name,handleUpdateBoardName:k,handleDeleteBoard:R,boardDesc:e.desc,handleUpdateDesc:xi,boardAdmin:e.userID,isUserBoardAdmin:I,boardDeleting:O})]})]}),d.jsxs("div",{className:" p-3 overflow-y-hidden flex flex-row justify-start list-container dark:bg-black/40 bg-transparent h-full pt-2",children:[(r||a)&&P.map(De=>d.jsx("div",{className:"flex list",children:d.jsx(Cj,{})},De)),!r&&!a&&i!==null&&i.sort((De,At)=>De.indexInBoard-At.indexInBoard).map((De,At)=>d.jsx("div",{className:"m-0 p-0",children:d.jsx(wI,{isDragDisabled:!Oe,draggableId:De.id,index:At,children:Gn=>v.createElement("div",{ref:Gn.innerRef,...Gn.draggableProps,...Gn.dragHandleProps,className:" w-full",key:De.id},d.jsx(Ij,{onDeleteList:K,title:De.title,id:De.id,index:At,indexInBoard:De.indexInBoard,boardID:De.boardID}))},De.id)})),t&&d.jsx("div",{className:E?"lg:opacity-50 ml-[307px] opacity-0 ":" ml-3 lg:ml-3",children:d.jsx(QR,{boardID:t})})]})]}):null,d.jsx("div",{className:"w-0 h-0 m-0 p-0 overflow-y-hidden",children:we.placeholder}))},"main-board")})]})},LL="/assets/zirello-hero-D2dhhJeR.webp",ML=({getIndex:t})=>{const[e,n]=v.useState(0),r=[{id:0,title:"Boards",desc:' Zirello boards keep tasks organized and work moving forward. In a glance, see everything from "things to do to "aww yeah, we did it!"'},{id:1,title:"Lists",desc:"The different stages of a task. Start as simple as To Do, Doing or Done-or build a workflow custom fit to your team's needs. There's nowrong wat to Zirello"},{id:2,title:"Cards",desc:"Cards represent tasks and ideas and hold all the information to get the job done. As you make progress, move cards across lists to show their status."}];return d.jsx("div",{className:"w-full lg:w-96 lg:h-full  md:w-full text-left flex flex-col ",children:r.map((s,i)=>d.jsxs("div",{onClick:()=>{n(i),t(i)},className:`rounded-md  p-4 cursor-pointer  w-full  lg:mb-4 lg:w-[380px] ${e===i?"border-l-8 border-purple-500 bg-white shadow-2xl":"bg-transparent border-l-8 border-transparent"}`,children:[d.jsx("p",{className:"text-lg mb-1 font-semibold",children:s.title}),d.jsx("p",{className:"text-md",children:s.desc})]},s.id))})},VL=()=>{const[t,e]=v.useState(0),[n,r]=v.useState(!1),s=[{id:0,url:"https://images.ctfassets.net/rz1oowkt5gyp/3N2U3C71rApm61cGFxnc2E/970b010002488a09a420282df5e7b43a/Carousel_Image_Boards_2x.png?w=1140&fm=webp"},{id:1,url:"https://images.ctfassets.net/rz1oowkt5gyp/4U0VUZYX2tQmB5KVGxBabp/7321ac088fe8ec39dbe3069c47d7df99/Carousel_Image_Lists_2x.png?w=1536&fm=webp"},{id:2,url:"https://images.ctfassets.net/rz1oowkt5gyp/26CA6JZeRgoOK4nuRHnIlY/060702a80cf7c3be3651d9297d196267/Carousel_Image_Cards_2x.png?w=1080"}],i=o=>{r(!1),setTimeout(()=>{e(o),r(!0)},100)};return v.useEffect(()=>{r(!0)},[]),d.jsxs("div",{className:"flex flex-col-reverse  h-full gap-1 justify-between  my-5 container mx-auto xl:max-w-[1140px] lg:max-w-[1100px] md:max-w-[720px] sm:max-w-[540px] lg:flex-row ",children:[d.jsx(ML,{getIndex:i}),d.jsx("img",{src:s[t].url,className:`w-full h-full   rounded-md transform transition-transform duration-600  mb-5 lg:w-[700px] lg:pl-[20px]  ${n?"opacity-100  scale-100":"opacity-10  scale-50"}`})]})};function FL(t){return ie({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zM4 12c0-.899.156-1.762.431-2.569L6 11l2 2v2l2 2 1 1v1.931C7.061 19.436 4 16.072 4 12zm14.33 4.873C17.677 16.347 16.687 16 16 16v-1a2 2 0 0 0-2-2h-4v-3a2 2 0 0 0 2-2V7h1a2 2 0 0 0 2-2v-.411C17.928 5.778 20 8.65 20 12a7.947 7.947 0 0 1-1.67 4.873z"},child:[]}]})(t)}const BL=()=>{const t=[{id:0,title:"About Zirello",desc:"What is behind the boards."},{id:1,title:"Jobs",desc:"Learn about open roles on the Zirello team."},{id:2,title:"Apps",desc:"Download the Zirello App for your Desktop or Mobile devices."},{id:3,title:"Contact us",desc:"Need anything? Get in touch and we can help."}];return d.jsxs("div",{className:"flex flex-col items-center bg-gradient-to-tr from-purple-500 via-purple-500 to-purple-900",children:[d.jsx("header",{className:" w-full px-5  ",children:d.jsxs("div",{className:" flex flex-col justify-between items-center w-full pt-40  mx-auto xl:max-w-[1140px] lg:max-w-[1100px] lg:min-w-[1100px] md:max-w-[1100px] sm:max-w-[540px] lg:flex-row lg:items-start xl:items-start xl:pt-40  ",children:[d.jsxs("div",{className:"flex flex-col text-left text-white  w-full md:px-5 lg:min-w-[448px] lg:mt-10 lg:px-0 xl:w-[540px] xl:mt-0 ",children:[d.jsx("div",{className:"text-[1.9rem] md:text-[2.6rem] lg:text-[2.7rem] xl:text-[2.8rem] font-semibold ",children:d.jsx("p",{className:"leading-10 text-center md:leading-tight lg:text-left",children:"Zirello brings all your tasks, teammates, and tools together"})}),d.jsx("p",{className:"text-[1.2rem] px-3 sm:text-[1.4rem] mt-5 text-center lg:text-left lg:p-0 lg:text-[1.3rem]",children:"Keep everything in the same place—even if your team isn’t."}),d.jsx(Jt,{to:"/login",className:"text-center mx-auto bg-blue-600 p-3 mt-12 text-slate-100 w-full rounded-md px-12 hover:bg-blue-900 transition-colors md:w-6/12 lg:w-fit lg:mx-0 ",children:"Sign up - it's free!"})]}),d.jsx("img",{src:LL,className:"translate-x-0 lg:translate-x-0  w-full mt-10 md:p-10 lg:w-[633px] lg:p-0 lg:m-0 xl:w-[633px] xl:translate-x-20 xl:-translate-y-14 "})]})}),d.jsx("img",{src:"https://images.ctfassets.net/rz1oowkt5gyp/7lTGeXbBRNRLaVk2MdBjtJ/99c266ed4cb8cc63bd0c388071f01ff6/white-wave-bg.svg",className:" -mt-20 md:-mt-36 w-full lg:-mt-24 xl:-mt-48"}),d.jsx("main",{className:"w-full bg-gradient-to-b from-white to-purple-200 px-5  pt-20  pb-24",children:d.jsxs("div",{className:"mx-auto xl:max-w-[1140px] lg:max-w-[1100px] md:max-w-[720px] sm:max-w-[540px] ",children:[d.jsx("h1",{className:"text-slate-800  text-md font-semibold  text-left mb-0",children:"ZIRELLO 101"}),d.jsx("h1",{className:"text-slate-900 font-semibold text-2xl text-left mb-4 md:text-[2.1rem] md:w-72 md:leading-tight xl:w-full",children:"A productivity powerhouse"}),d.jsx("p",{className:"text-lg text-left w-full md:w-7/12 md:text-[1.2rem] md:leading-normal xl:mb-10",children:"Simple, flexible, and powerful. All it takes are boards, lists, and cards to get a clear view of who’s doing what and what needs to get done. Learn more in our guide for getting started."}),d.jsx(VL,{})]})}),d.jsx("footer",{className:"bg-[rgb(23,43,77)] h-full pb-12 pt-5  w-full px-5 ",children:d.jsxs("div",{className:"mx-auto xl:max-w-[1140px] lg:max-w-[1100px] md:max-w-[720px] sm:max-w-[540px] flex flex-col",children:[d.jsxs("div",{className:"flex flex-col  gap-2 justify-between w-full lg:flex-row  lg:items-start",children:[d.jsx(Jt,{to:"/",children:d.jsx("img",{src:sm,className:"w-44"})}),t.map(e=>d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"border-b border-slate-600 mx-1 "}),d.jsxs("div",{className:"lg:flex-1 text-left cursor-pointer hover:bg-[rgb(34,58,99)] px-3 text-white",children:[d.jsx("p",{children:e.title}),d.jsx("p",{className:"text-xs mt-2",children:e.desc})]},e.id)]}))]}),d.jsx("div",{className:"border-b border-slate-600 my-3 mx-1"}),d.jsxs("div",{className:"flex flex-col justify-between items-start  gap-8 px-3 lg:flex-row lg:items-center",children:[d.jsxs("div",{className:"flex items-center gap-3 md:w-40",children:[d.jsx(FL,{className:"text-slate-100 w-6 h-6"}),d.jsxs("select",{className:"w-52 h-12 p-3 rounded-md bg-transparent text-slate-100",children:[d.jsx("option",{children:"Deutsch"}),d.jsx("option",{children:"English"}),d.jsx("option",{children:"Español"}),d.jsx("option",{children:"Français"}),d.jsx("option",{children:"Português"}),d.jsx("option",{children:"中文"}),d.jsx("option",{children:"हिन्दी"}),d.jsx("option",{children:"العربية"}),d.jsx("option",{children:"Русский"}),d.jsx("option",{children:"日本語"}),d.jsx("option",{children:"Türkçe"})]})]}),d.jsxs("div",{className:"text-white text-left text-xs flex flex-col  gap-4 cursor-pointer md:w-full md:flex-row",children:[d.jsx("p",{className:"hover:underline",children:"Your privacy choices"}),d.jsx("p",{className:"hover:underline",children:"Privacy Policy"}),d.jsx("p",{className:"hover:underline",children:"Terms"}),d.jsx("p",{children:"Copyright © 2024 Zirello by Emre Karaduman"})]}),d.jsxs("div",{className:"flex gap-6 mt-4 text-slate-50 w-full md:items-center md:justify-center md:mt-0 md:w-fit ",children:[d.jsx(gj,{className:"w-7 h-7 hover:text-slate-300 cursor-pointer"}),d.jsx(mj,{className:"w-7 h-7 hover:text-slate-300 cursor-pointer"}),d.jsx(yj,{className:"w-7 h-7 hover:text-slate-300 cursor-pointer"}),d.jsx(vj,{className:"w-7 h-7 hover:text-slate-300 cursor-pointer"}),d.jsx(xj,{className:"w-7 h-7 hover:text-slate-300 cursor-pointer"})]})]})]})})]})};function UL(t){return ie({tag:"svg",attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(t)}const zL=()=>{const t=v.useContext(qe);if(!t)throw new Error("No Context");const{setUser:e,addUser:n,user:r}=t,s=S0(),i=new Tr;i.setCustomParameters({prompt:"select_account"});const o=gi(),a=async()=>await BO(s,i).then(c=>{const u=c.user;if(console.log(u),u){console.log("user var"),e(u);let h="https://images.unsplash.com/photo-1640951613773-54706e06851d?q=80&w=2967&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D";u.email&&u.displayName&&(console.log("email ve displayname var"),u.photoURL!==null&&(h=u.photoURL),n(u.uid,u.email,u.displayName,h))}}).catch(c=>{console.log(c)});return r&&o("/boards"),d.jsx("div",{className:"flex flex-col items-center justify-center h-screen pt-20 bg-gradient-to-b from-white to-purple-200",children:d.jsxs("div",{className:"border shadow-lg full p-8 bg-white m-4",children:[d.jsx("p",{className:"px-4 text-lgl",children:"Sign in with your Google account to use Zirello"}),d.jsxs("div",{className:"flex items-center justify-center border m-2 p-2 cursor-pointer hover:bg-gray-100",onClick:a,children:[d.jsx(UL,{size:32}),d.jsx("p",{className:"font-bold  ml-2",children:"Google"})]})]})})},$L=()=>{const[t,e]=v.useState(!1),n=v.useContext(qe);if(!n)throw new Error("No context");const{showNotification:r,setShowNotification:s,notificationMessage:i}=n;return v.useEffect(()=>{if(r){e(!0);const o=setTimeout(()=>{e(!1),setTimeout(()=>s(!1),300)},3e3);return()=>clearTimeout(o)}else e(!1)},[r,s]),d.jsx(d.Fragment,{children:r&&d.jsx("div",{className:`w-full z-[10000] bg-blue-700 dark:bg-black  fixed right-0 shadow-2xl top-0 p-4 transition-all duration-300 ease-linear ${t?"-translate-y-0 opacity-100":" -translate-y-0 opacity-0"}`,children:d.jsxs("div",{className:"flex justify-between",children:[d.jsxs("div",{className:"flex gap-2",children:[d.jsx(iP,{size:24,className:"text-slate-200"}),d.jsx("p",{className:"text-slate-200",children:i||"New card added..."})]}),d.jsx(oN,{size:24,className:"text-slate-200 cursor-pointer hover:text-slate-300",onClick:()=>s(!1)})]})})})},kc=({item:t})=>{const e=gi(),n=v.useContext(qe),[r,s]=v.useState(!1),[i,o]=v.useState(!1),a=v.useRef(null);if(!n)throw new Error("No context");const c=(p,y)=>{if(y.target.closest(".star-icon")){y.stopPropagation();return}e(`/board/${p}`)},u=()=>{s(!0)},h=()=>{s(!1)},f=p=>{o(p)};return d.jsxs("div",{ref:a,className:"m-1 relative h-20  lg:w-52 lg:min-h-24 lg:min-w-52 lg:h-24  cursor-pointer rounded-md  border border-gray-300 hover:border-gray-800 dark:border-gray-900 dark:hover:border-gray-500 overflow-hidden",onClick:p=>c(t.id,p),onMouseEnter:u,onMouseLeave:h,children:[d.jsx("div",{className:"absolute brightness-60 inset-0 bg-cover bg-center filter dark:brightness-40",style:{backgroundImage:`url(${t.bgImage})`,backgroundPosition:"center",backgroundSize:"cover"}}),d.jsxs("div",{className:"relative h-full w-full flex flex-col justify-between p-3 z-1",children:[d.jsx("p",{className:"text-white shadow-2xl p-0 drop-shadow-2xl  text-left text-sm lg:text-base dark:text-gray-300 font-bold",children:t.name.length>20?t.name.slice(0,15)+"...":t.name}),i?d.jsx(Gu,{boardID:t.id,handleBoardIsFav:f,type:"card"}):d.jsx("div",{className:`transition-all duration-100 ease-in-out transform ${r&&!i?"translate-x-0 opacity-100":"-translate-x-5 opacity-0"}`,children:d.jsx(Gu,{type:"card",boardID:t.id,handleBoardIsFav:f})})]})]})},HL=({item:t})=>{const e=v.useContext(qe);if(!e)throw new Error("No Context");const{boards:n}=e,r=gi();v.useEffect(()=>{},[n]);const s=i=>{if(i.target.closest("#star-icon")){i.stopPropagation();return}r(`/board/${t.id}`)};return d.jsx("li",{onClick:i=>s(i),className:" transition-all duration-200 ease-in-out flex items-center justify-between py-3 dark:hover:bg-gray-700 hover:bg-gray-300 cursor-pointer",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("img",{src:t.bgImage,className:"w-9 h-6 mr-2"}),d.jsx("p",{className:"dark:text-gray-300 text-gray-800 text-left",children:t.name.length>13?t.name.slice(0,13)+"...":t.name})]})})},WL=()=>{const[t,e]=v.useState(null),n=v.useContext(qe);if(!n)throw new Error("No Context");const{boards:r,teamBoards:s}=n;return v.useEffect(()=>{const i=[...r,...s];i&&e(i)},[r,s]),d.jsxs("div",{className:"min-h-[calc(100vh-3rem)] h-full  bg-gray-100 dark:bg-gray-800 w-60 py-3 px-6 border-opacity-20 border-r border-gray-600",children:[d.jsxs("div",{className:"flex items-center self-start",children:[d.jsx(pP,{className:"mr-2 dark:text-gray-400 text-gray-900 text-sm lg:text-1xl"}),d.jsx("p",{className:"dark:text-gray-400 text-gray-900 text-sm lg:text-1xl font-bold ",children:"RECENT BOARDS"})]}),d.jsx("ul",{className:"p-0 m-0",children:t&&(t==null?void 0:t.length)>0&&t.sort((i,o)=>o.lastUsingDate.seconds-i.lastUsingDate.seconds).map((i,o)=>d.jsx(HL,{item:i},o))})]})},GL=({boardDetails:t,getUserInvitations:e})=>{const[n,r]=v.useState({}),s=v.useContext(qe);if(!s)throw new Error("no context");const{approveInvite:i,user:o,deleteInvitation:a}=s,c=async(h,f)=>{o&&(r(p=>({...p,[f]:{...p[f],accepting:!0}})),o.displayName&&o.email&&await i(h,o==null?void 0:o.uid,f,o.email,o.displayName),e(),r(p=>({...p,[f]:{...p[f],accepting:!1}})))},u=async h=>{r(p=>({...p,[h]:{...p[h],rejecting:!0}})),await a(h)&&e(),r(p=>({...p,[h]:{...p[h],rejecting:!1}}))};return d.jsx("div",{className:"w-full",children:t&&t.map(h=>{var y,b,I;const f=(y=n[h.invite.id])==null?void 0:y.accepting,p=(b=n[h.invite.id])==null?void 0:b.rejecting;return d.jsxs("div",{className:"dark:bg-gray-700 bg-gray-100 mt-2 p-3 flex-col lg:flex items-start justify-between w-full rounded-md",children:[d.jsxs("p",{className:"dark:text-gray-200 text-gray-800 text-sm lg:text-base text-left",children:[d.jsx("span",{className:"font-bold",children:h.invite.sender})," has invited you to join the board"," ",d.jsx("strong",{className:" underline dark:text-gray-100 text-gray-800",children:(I=h.boardDetails)==null?void 0:I.name})]}),f?d.jsxs("div",{className:"flex gap-2 text-sm lg:text-base mt-3",children:[d.jsx("div",{className:"w-32 flex items-center justify-center bg-gray-300   dark:bg-blue-500 px-5 py-1 dark:text-gray-100 rounded-md cursor-not-allowed animate-pulse",children:d.jsx(Wp,{className:"animate-spin w-5 h-5"})}),d.jsx("button",{className:"w-32  px-5 py-1 dark:text-gray-100 text-gray-800 rounded-md",disabled:f,children:"Reject"})]}):d.jsxs("div",{className:"flex gap-2 text-sm lg:text-base mt-3",children:[d.jsx("button",{className:"transition-all duration-200 ease-in-out w-32 text-white dark:bg-blue-500 bg-blue-500 px-5 py-1 dark:text-white rounded-md hover:bg-blue-600 dark:hover:bg-blue-600",onClick:()=>c(h.boardDetails.id,h.invite.id),disabled:p,children:"Accept"}),p?d.jsx("div",{className:" w-32 flex items-center justify-center bg-gray-300 px-5 py-1 text-slate-900 dark:bg-gray-600 rounded-md cursor-not-allowed animate-pulse",children:d.jsx(Wp,{className:"text-slate-950 dark:text-gray-300 mr-1 animate-spin"})}):d.jsx("button",{className:"transition-all duration-200 ease-in-out w-32   px-5 py-1 dark:text-gray-100 text-gray-800 rounded-md hover:bg-gray-300 dark:hover:border-gray-400 dark:hover:bg-gray-600",onClick:()=>u(h.invite.id),disabled:f,children:"Reject"})]})]},h.invite.id)})})},fn=({h:t,w:e,rounded:n})=>d.jsx("div",{className:`bg-gray-300 dark:bg-gray-600 
        ${t?`h-${t}`:"h-20 "} 
        ${e?`w-${e}`:"w-full"}
        ${n?`rounded-${n}`:"rounded-md"}
             overflow-hidden animate-pulse`}),qL=({_getUserInv:t})=>{const[e,n]=v.useState(!1),r=v.useContext(qe);if(!r)throw new Error("No Context");const{generateData:s,user:i,getBoards:o,boards:a,getUserStarredBoards:c}=r,u=async()=>{if(n(!0),i===null)return;const h=await s(i.uid);console.log(h),h&&(n(!1),o(i.uid),c(i.uid),t())};return a&&a.length>0?d.jsx(d.Fragment,{}):d.jsx(d.Fragment,{children:d.jsxs("div",{className:"relative",children:[d.jsx("button",{onClick:u,className:`bg-purple-500 px-3 py-1 rounded-md ml-3 text-white ${e&&"animate-pulse"}`,children:"Generate Data"}),e&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"fixed inset-0 bg-black/30 z-40"}),d.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:d.jsxs("div",{className:"w-96  flex flex-col items-center justify-center bg-white dark:bg-gray-800 text-gray-800 dark:text-white p-5 rounded-lg shadow-lg",children:[d.jsx(cP,{className:"text-5xl animate-spin"}),d.jsx("p",{className:"animate-pulse",children:"Generating data..."}),d.jsx("p",{className:"text-sm mt-4",children:"This process takes approximately 30 seconds."})]})})]})]})})},$x=()=>{const[t,e]=v.useState(!0),[n,r]=v.useState([]),[s,i]=v.useState(!1),[o,a]=v.useState(null),c=v.useContext(qe);if(!c)throw new Error("No Context");const{user:u,getBoards:h,boards:f,getUserInvitations:p,getBoardAllDetails:y,getTeamBoards:b,teamBoards:I,getUserStarredBoards:N,favBoardsIDS:E}=c;v.useEffect(()=>{u&&a(u==null?void 0:u.photoURL)},[u]);const w=async()=>{u!=null&&await b(u==null?void 0:u.uid)},_=async()=>{u!==null&&u.email&&(await N(u.uid),await h(u.uid),e(!1))};v.useEffect(()=>{_(),w(),console.log("get boards ve team boards cekildi"),console.log(I)},[u]),v.useEffect(()=>{t||P()},[t]);const P=async()=>{if(console.log("get user inv calisti"),!(u!=null&&u.email))return;const j=await p(u.email);console.log(j);const T=await Promise.all(j.map(async x=>{let C=await y(x.boardID);return{invite:x,boardDetails:C}}));r(()=>[...T.filter(x=>x.boardDetails!==null&&x.invite.isApproved!==!0)])},O=()=>{console.log("Image error"),a(sS)};return t?d.jsxs("div",{className:"flex gap-4 dark:bg-gray-800 bg-gray-200 h-[calc(100vh-3rem)] items-start pt-2 w-full ",children:[d.jsx("div",{className:"h-full hidden dark:bg-gray-800 md:flex flex-col justify-between p-1 px-5 w-60 min-w-60 border-r border-gray-300 dark:border-gray-700 ",children:d.jsxs("div",{className:"flex flex-col gap-3",children:[d.jsx("div",{className:"flex gap-2",children:d.jsx(pt,{w:"32"})}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(pt,{w:"10"}),d.jsx(pt,{w:"32"})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(pt,{w:"10"}),d.jsx(pt,{w:"40"})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(pt,{w:"10"}),d.jsx(pt,{w:"24"})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(pt,{w:"10"}),d.jsx(pt,{w:"32"})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(pt,{w:"10"}),d.jsx(pt,{w:"40"})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(pt,{w:"10"}),d.jsx(pt,{w:"24"})]})]})}),d.jsxs("div",{className:"flex flex-col items-start justify-start h-full gap-3 px-3  w-full ",children:[d.jsxs("div",{className:"flex flex-col w-full gap-3",children:[d.jsx("div",{className:"p-1",children:d.jsx(fn,{h:"7",w:"56"})}),d.jsxs("div",{className:"flex w-full flex-wrap",children:[d.jsx("div",{className:"w-1/2 md:w-52",children:d.jsx("div",{className:" w-full p-1",children:d.jsx(fn,{})})}),d.jsx("div",{className:"w-1/2 md:w-52",children:d.jsx("div",{className:"w-full p-1",children:d.jsx(fn,{})})})]})]}),d.jsxs("div",{className:"flex flex-col w-full my-10",children:[d.jsxs("div",{className:"flex gap-2 items-center",children:[d.jsx("div",{className:"p-1",children:d.jsx(fn,{h:"10",w:"10",rounded:"full"})}),d.jsx("div",{className:"p-1",children:d.jsx(fn,{h:"7",w:"56"})})]}),d.jsxs("div",{className:"flex w-full flex-wrap",children:[d.jsx("div",{className:"w-1/2 md:w-52",children:d.jsx("div",{className:" w-full p-1",children:d.jsx(fn,{})})}),d.jsx("div",{className:"w-1/2 md:w-52",children:d.jsx("div",{className:" w-full p-1",children:d.jsx(fn,{})})}),d.jsx("div",{className:"w-1/2 md:w-52",children:d.jsx("div",{className:" w-full p-1",children:d.jsx(fn,{})})}),d.jsx("div",{className:"w-1/2 md:w-52",children:d.jsx("div",{className:" w-full p-1",children:d.jsx(fn,{})})}),d.jsx("div",{className:"w-1/2 md:w-52",children:d.jsx("div",{className:"w-full p-1",children:d.jsx(fn,{})})})]})]}),d.jsxs("div",{className:"flex flex-col w-full",children:[d.jsx("div",{className:"p-1",children:d.jsx(fn,{h:"7",w:"32"})}),d.jsxs("div",{className:"flex w-full flex-wrap",children:[d.jsx("div",{className:"w-1/2 md:w-52",children:d.jsx("div",{className:" w-full p-1",children:d.jsx(fn,{})})}),d.jsx("div",{className:"w-1/2 md:w-52",children:d.jsx("div",{className:"w-full p-1",children:d.jsx(fn,{})})}),d.jsx("div",{className:"w-1/2 md:w-52",children:d.jsx("div",{className:"w-full p-1",children:d.jsx(fn,{})})})]})]})]})]}):d.jsxs("div",{className:"w-full h-fit  flex lg:mx-auto gap-3 bg-gray-100 dark:bg-gray-800",children:[d.jsx("div",{className:"hidden lg:block",children:d.jsx(WL,{})}),d.jsxs("div",{className:"flex flex-col w-full mb-24",children:[d.jsx("div",{className:"fixed right-3 bottom-3",children:d.jsx(qL,{_getUserInv:P})}),n&&n.length>0&&d.jsxs("div",{className:" bg-white dark:bg-gray-900 p-4  border-gray-600 rounded-md m-1 shadow-lg  ",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s?d.jsx(wj,{className:"text-sm text-gray-800 dark:text-gray-200"}):d.jsx(_j,{className:"text-sm text-gray-800 dark:text-gray-200"}),d.jsx("p",{className:"text-gray-800 dark:text-gray-200 dark text-left text-sm lg:text-lg font-bold",children:"INVITATIONS"})]}),d.jsxs("div",{className:"flex justify-between  items-center bg-gray-700 dark:bg-gray-800 p-3 cursor-pointer rounded-lg",onClick:()=>i(j=>!j),children:[d.jsxs("p",{className:"text-gray-100 dark:text-gray-200 text-left text-sm lg:text-base",children:["You’ve received ",n.length," new invitations."]}),s?d.jsx(bj,{size:18,className:"text-gray-200 dark:text-gray-200 ml-3"}):d.jsx(Ej,{size:18,className:"text-gray-200 dark:text-gray-200  ml-3"})]}),d.jsx("div",{className:`transition-all duration-200 ease-in-out transform  ${s?"opacity-100 max-h-96":"opacity-0 max-h-0"} overflow-hidden`,children:d.jsx(GL,{boardDetails:n,getUserInvitations:P})})]}),E&&(E==null?void 0:E.length)>0&&d.jsxs("div",{className:"flex flex-col   w-full  mb-5 p-3 gap-2 ",children:[d.jsxs("div",{className:"flex items-center self-start",children:[d.jsx(f0,{className:"mr-2 dark:text-gray-400 text-gray-800 text-sm lg:text-1xl"}),d.jsx("p",{className:"dark:text-gray-400 text-gray-800 text-sm lg:text-1xl font-bold ",children:"STARRED BOARDS"})]}),d.jsxs("div",{className:"flex items-center justify-start w-full lg:w-12/12 flex-wrap",children:[f&&f.filter(j=>E==null?void 0:E.some(T=>j.id===T)).map(j=>d.jsx("div",{className:"w-1/2 lg:w-fit",children:d.jsx(kc,{item:j},j.id)})),I&&I.filter(j=>E==null?void 0:E.some(T=>j.id===T)).map(j=>d.jsx("div",{className:"w-1/2",children:d.jsx(kc,{item:j},j.id)}))]})]}),d.jsxs("div",{className:"m-3",children:[d.jsxs("div",{className:" mt-2 flex gap-3 items-center mb-3",children:[o&&d.jsx("img",{src:o,className:"w-6 h-6 lg:w-12 lg:h-12 rounded-full",loading:"lazy",onError:O}),d.jsxs("p",{className:"dark:text-gray-400 text-gray-800 text-left font-semibold text-sm lg:text-lg",children:[u==null?void 0:u.displayName,"'s Workspace"]})]}),d.jsxs("div",{className:"flex items-center justify-start w-full lg:w-12/12 flex-wrap",children:[f&&f.sort((j,T)=>T.createdDate.toDate().getTime()-j.createdDate.toDate().getTime()).map(j=>d.jsx("div",{className:"w-1/2 lg:w-fit",children:d.jsx(kc,{item:j},j.id)})),d.jsx("div",{className:"w-1/2",children:d.jsx(Jc,{type:"board-button"})})]}),I.length>0&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex justify-start w-full items-center",children:[d.jsx(aN,{className:"mr-2 text-gray-800 dark:text-gray-400 lg:text-1xl text-sm "}),d.jsx("p",{className:"text-gray-800 dark:text-gray-400 text-sm lg:text-1xl py-2 font-bold",children:"TEAM BOARDS"})]}),d.jsx("div",{className:"flex items-center justify-start w-full flex-wrap",children:I&&I.map(j=>d.jsx("div",{className:"w-1/2 lg:w-fit",children:d.jsx(kc,{item:j},j.id)}))})]})]})]})]})};function KL(t){return ie({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M27 193.6c-8.2-8.2-12.2-18.6-12.2-31.2s4-23 12.2-31.2S45.6 119 58.2 119h912.4c12.6 0 23 4 31.2 12.2s12.2 18.6 12.2 31.2-4 23-12.2 31.2-18.6 12.2-31.2 12.2H58.2c-12.6 0-23-4-31.2-12.2zm974.8 285.2c8.2 8.2 12.2 18.6 12.2 31.2s-4 23-12.2 31.2-18.6 12.2-31.2 12.2H58.2c-12.6 0-23-4-31.2-12.2S14.8 522.6 14.8 510s4-23 12.2-31.2 18.6-12.2 31.2-12.2h912.4c12.6 0 23 4 31.2 12.2zm0 347.4c8.2 8.2 12.2 18.6 12.2 31.2s-4 23-12.2 31.2-18.6 12.2-31.2 12.2H58.2c-12.6 0-23-4-31.2-12.2S14.8 870 14.8 857.4s4-23 12.2-31.2S45.6 814 58.2 814h912.4c12.6 0 23 4.2 31.2 12.2z"},child:[]}]})(t)}function QL(t){return ie({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{d:"M6.2253 4.81108C5.83477 4.42056 5.20161 4.42056 4.81108 4.81108C4.42056 5.20161 4.42056 5.83477 4.81108 6.2253L10.5858 12L4.81114 17.7747C4.42062 18.1652 4.42062 18.7984 4.81114 19.1889C5.20167 19.5794 5.83483 19.5794 6.22535 19.1889L12 13.4142L17.7747 19.1889C18.1652 19.5794 18.7984 19.5794 19.1889 19.1889C19.5794 18.7984 19.5794 18.1652 19.1889 17.7747L13.4142 12L19.189 6.2253C19.5795 5.83477 19.5795 5.20161 19.189 4.81108C18.7985 4.42056 18.1653 4.42056 17.7748 4.81108L12 10.5858L6.2253 4.81108Z",fill:"currentColor"},child:[]}]})(t)}const Hx=()=>{const[t,e]=v.useState(!1);return d.jsx("div",{className:"h-16 bg-white flex items-center justify-between w-full shadow-2xl fixed z-50 ",children:d.jsxs("div",{className:"flex items-center mx-auto justify-between w-full px-5 lg:p-0 lg:w-full xl:max-w-[1320px]  ",children:[d.jsx("div",{className:"flex",children:d.jsx(Jt,{to:"/",children:d.jsx("img",{src:im,className:"min-w-32 max-w-32"})})}),t?d.jsx(QL,{onClick:()=>e(n=>!n),className:"w-7 h-7 lg:hidden "}):d.jsx(KL,{className:"w-7 h-7 lg:hidden ",onClick:()=>e(n=>!n)}),d.jsxs("div",{className:`absolute top-16 shadow-2xl bg-white w-full left-0 p-3 flex flex-col gap-3 text-[1.2rem] text-left
      transform transition-all duration-300 ease-in-out overflow-hidden origin-top ${t?"max-h-[500px] opacity-100 scale-y-100":"max-h-0 opacity-0 scale-y-0"}`,children:[d.jsx("div",{className:"border-b "}),d.jsx("div",{className:"cursor-pointer",children:"Features"}),d.jsx("div",{className:"border-b "}),d.jsx("div",{className:"cursor-pointer",children:"Solutions"}),d.jsx("div",{className:"border-b "}),d.jsx("div",{className:"cursor-pointer",children:"Plans"}),d.jsx("div",{className:"border-b "}),d.jsx("div",{className:"cursor-pointer",children:"Pricing"}),d.jsx("div",{className:"border-b "}),d.jsx("div",{className:"cursor-pointer",children:"Resources"}),d.jsx("div",{className:"border-b "}),d.jsx(Jt,{to:"/login",onClick:()=>e(!1),children:d.jsx("div",{className:"p-2 bg-blue-500 py-3 text-white text-center cursor-pointer",children:"Get Zirello for free"})}),d.jsx(Jt,{to:"/login",onClick:()=>e(!1),children:d.jsx("div",{className:"p-2 border border-blue-500 py-3 text-center cursor-pointer",children:"Log in"})})]}),d.jsxs("ul",{className:"gap-10 items-center w-full ml-10 hidden  lg:flex xl:flex",children:[d.jsx("li",{className:"text-gray-900   cursor-pointer",children:"Features"}),d.jsx("li",{className:"text-gray-900 cursor-pointer",children:"Solutions"}),d.jsx("li",{className:"text-gray-900  cursor-pointer",children:"Plans"}),d.jsx("li",{className:"text-gray-900  cursor-pointer",children:"Pricing"}),d.jsx("li",{className:"text-gray-900   cursor-pointer",children:"Resources"})]}),d.jsxs("div",{className:"hidden items-center gap-4 w-full justify-end  lg:flex xl:flex",children:[d.jsx(Jt,{to:"/login",children:d.jsx("div",{className:"flex items-center cursor-pointer pr-5",children:d.jsx("p",{className:"text-lg",children:"Log in"})})}),d.jsx(Jt,{to:"/login",className:"hidden lg:block w-fit ",children:d.jsx("div",{className:"cursor-pointer h-16 flex items-center justify-center  bg-blue-600 hover:bg-blue-700",children:d.jsx("h1",{className:"text-white text-lg text-md flex mx-5",children:"Get Zirello for Free"})})})]})]})})};function YL(){const t=v.useContext(qe);if(!t)throw new Error("No context");const{user:e,setBoardBG:n}=t;return v.useEffect(()=>{n(!1)}),d.jsx("div",{children:d.jsxs(qC,{children:[d.jsx($L,{}),d.jsxs(BC,{children:[e?d.jsx(Ni,{path:"/",element:d.jsxs("div",{className:"h-full",children:[d.jsx(om,{}),d.jsx($x,{})]})}):d.jsx(Ni,{path:"/",element:d.jsxs("div",{children:[d.jsx(Hx,{}),d.jsx(BL,{})]})}),d.jsx(Ni,{path:"/login",element:d.jsxs("div",{children:[d.jsx(Hx,{}),d.jsx(zL,{})]})}),d.jsx(Ni,{path:"/boards",element:d.jsxs("div",{className:"h-full",children:[d.jsx(om,{}),d.jsx($x,{})]})}),d.jsx(Ni,{path:"/board/:id",element:d.jsx("div",{children:d.jsx(OL,{})})})]})]})})}const XL=()=>{const t=v.useContext(qe);if(!t)throw new Error("No Context");const{setUser:e}=t,n=S0();return v.useEffect(()=>{const r=xO(n,s=>{e(s||null)});return()=>r()},[n,e]),null};Nf.createRoot(document.getElementById("root")).render(d.jsxs(KR,{children:[d.jsx(XL,{}),d.jsx("div",{className:"w-full overflow-x-hidden  ",children:d.jsx(YL,{})})]}));
